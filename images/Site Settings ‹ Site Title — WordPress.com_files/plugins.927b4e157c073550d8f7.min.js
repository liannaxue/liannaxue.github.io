webpackJsonp([10],{1436:function(module,exports,__webpack_require__){"use strict";var page=__webpack_require__(40);var controller=__webpack_require__(655),config=__webpack_require__(10),pluginsController=__webpack_require__(2618);module.exports=function(){if(config.isEnabled("manage/plugins/setup")){page("/plugins/setup",controller.siteSelection,pluginsController.setupPlugins);page("/plugins/setup/:site",controller.siteSelection,pluginsController.setupPlugins)}if(config.isEnabled("manage/plugins")){page("/plugins/browse/:category/:site",controller.siteSelection,controller.navigation,pluginsController.browsePlugins);page("/plugins/browse/:siteOrCategory?",controller.siteSelection,controller.navigation,pluginsController.browsePlugins);page("/plugins",controller.siteSelection,controller.navigation,pluginsController.validateFilters.bind(null,"all"),pluginsController.plugins.bind(null,"all"),controller.sites);["active","inactive","updates"].forEach(function(filter){page("/plugins/"+filter+"/:site_id?",controller.siteSelection,controller.navigation,pluginsController.validateFilters.bind(null,filter),pluginsController.jetpackCanUpdate.bind(null,filter),pluginsController.plugins.bind(null,filter))});page("/plugins/:plugin/:business_plugin?/:site_id?",controller.siteSelection,controller.navigation,pluginsController.validateFilters.bind(null,null),pluginsController.plugin)}}},1486:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1),classNames=__webpack_require__(11),noop=__webpack_require__(36);var Card=__webpack_require__(145),CompactCard=__webpack_require__(1450),Gridicon=__webpack_require__(28);var FoldableCard=React.createClass({displayName:"FoldableCard",propTypes:{actionButton:React.PropTypes.element,actionButtonExpanded:React.PropTypes.element,cardKey:React.PropTypes.string,compact:React.PropTypes.bool,disabled:React.PropTypes.bool,expandedSummary:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.element]),expanded:React.PropTypes.bool,icon:React.PropTypes.string,onClick:React.PropTypes.func,onClose:React.PropTypes.func,onOpen:React.PropTypes.func,screenReaderText:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.bool]),summary:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.element])},getInitialState:function getInitialState(){return{expanded:this.props.expanded}},getDefaultProps:function getDefaultProps(){return{onOpen:noop,onClose:noop,cardKey:"",icon:"chevron-down",isExpanded:false,screenReaderText:false}},onClick:function onClick(){if(this.props.children){this.setState({expanded:!this.state.expanded})}if(this.props.onClick){this.props.onClick()}if(this.state.expanded){this.props.onClose(this.props.cardKey)}else{this.props.onOpen(this.props.cardKey)}},getClickAction:function getClickAction(){if(this.props.disabled){return}return this.onClick},getActionButton:function getActionButton(){if(this.state.expanded){return this.props.actionButtonExpanded||this.props.actionButton}return this.props.actionButton},renderActionButton:function renderActionButton(){var clickAction=!this.props.clickableHeader?this.getClickAction():null;if(this.props.actionButton){return React.createElement("div",{className:"foldable-card__action",onClick:clickAction},this.getActionButton())}if(this.props.children){var iconSize=24;var screenReaderText=this.props.screenReaderText||this.translate("More");return React.createElement("button",{disabled:this.props.disabled,className:"foldable-card__action foldable-card__expand",onClick:clickAction},React.createElement("span",{className:"screen-reader-text"},screenReaderText),React.createElement(Gridicon,{icon:this.props.icon,size:iconSize}))}},renderContent:function renderContent(){return React.createElement("div",{className:"foldable-card__content"},this.props.children)},renderHeader:function renderHeader(){var summary=this.props.summary?React.createElement("span",{className:"foldable-card__summary"},this.props.summary," "):null,expandedSummary=this.props.expandedSummary?React.createElement("span",{className:"foldable-card__summary_expanded"},this.props.expandedSummary," "):null,headerClickAction=this.props.clickableHeader?this.getClickAction():null,headerClasses=classNames("foldable-card__header",{"is-clickable":!!this.props.clickableHeader,"has-border":!!this.props.summary});return React.createElement("div",{className:headerClasses,onClick:headerClickAction},React.createElement("span",{className:"foldable-card__main"},this.props.header," "),React.createElement("span",{className:"foldable-card__secondary"},summary,expandedSummary,this.renderActionButton()))},render:function render(){var Container=this.props.compact?CompactCard:Card,itemSiteClasses=classNames("foldable-card",this.props.className,{"is-disabled":!!this.props.disabled,"is-expanded":!!this.state.expanded,"has-expanded-summary":!!this.props.expandedSummary});return React.createElement(Container,{className:itemSiteClasses},this.renderHeader(),this.state.expanded&&this.renderContent())}});module.exports=FoldableCard},1491:function(module,exports,__webpack_require__){"use strict";var urls=__webpack_require__(62),assign=__webpack_require__(29),pick=__webpack_require__(72);module.exports=function(url){var bits,formatKeys=["host","hash","search","path"];if(null===url||""===url||"undefined"===typeof url){return null}bits=urls.parse(url);if(/^\/[^\/]/.test(url)){return url}if("http:"===bits.protocol||"https:"===bits.protocol){return url}return urls.format(assign(pick(bits,formatKeys),{protocol:"http"}))}},1494:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var noResults=React.createClass({displayName:"noResults",getDefaultProps:function getDefaultProps(){return{text:"No results",image:false}},render:function render(){return React.createElement("div",{className:"no-results"},this.props.image?React.createElement("img",{className:"no-results__img",src:this.props.image}):null,React.createElement("span",null,this.props.text))}});module.exports=noResults},1498:function(module,exports,__webpack_require__){"use strict";var url=__webpack_require__(62),pick=__webpack_require__(72);module.exports=function(uri,search){var parsedUrl=url.parse(uri,true);if(search){parsedUrl.query.s=search}else{delete parsedUrl.query.s}parsedUrl=pick(parsedUrl,"pathname","hash","query");return url.format(parsedUrl).replace(/\%20/g,"+")}},1499:function(module,exports,__webpack_require__){"use strict";var debug=__webpack_require__(4)("calypso:url-search"),page=__webpack_require__(40);var buildUrl=__webpack_require__(1498);module.exports={getInitialState:function getInitialState(){return{searchOpen:false}},componentWillReceiveProps:function componentWillReceiveProps(nextProps){if(!nextProps.search){this.setState({searchOpen:false})}},doSearch:function doSearch(keywords){var searchURL;this.setState({searchOpen:false!==keywords});if(this.onSearch){this.onSearch(keywords);return}searchURL=buildUrl(window.location.href,keywords);debug("search posts for:",keywords);if(this.props.search&&keywords){debug("replacing URL: "+searchURL);page.replace(searchURL)}else{debug("setting URL: "+searchURL);page(searchURL)}},getSearchOpen:function getSearchOpen(){return this.state.searchOpen!==false||this.props.search}}},1502:function(module,exports,__webpack_require__){"use strict";var _extends2=__webpack_require__(19);var _extends3=_interopRequireDefault(_extends2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var React=__webpack_require__(1);var Card=__webpack_require__(145),Search=__webpack_require__(651);var SearchCard=React.createClass({displayName:"SearchCard",propTypes:{additionalClasses:React.PropTypes.string,initialValue:React.PropTypes.string,placeholder:React.PropTypes.string,delaySearch:React.PropTypes.bool,onSearch:React.PropTypes.func.isRequired,onSearchChange:React.PropTypes.func,analyticsGroup:React.PropTypes.string,autoFocus:React.PropTypes.bool,disabled:React.PropTypes.bool,dir:React.PropTypes.string},render:function render(){return React.createElement(Card,{className:"search-card"},React.createElement(Search,(0,_extends3.default)({ref:"search"},this.props)))},focus:function focus(){this.refs.search.focus()},clear:function clear(){this.refs.search.clear()}});module.exports=SearchCard},1532:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _popover=__webpack_require__(345);var _popover2=_interopRequireDefault(_popover);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({displayName:"InfoPopover",propTypes:{id:_react2.default.PropTypes.string,position:_react2.default.PropTypes.string,className:_react2.default.PropTypes.string,rootClassName:_react2.default.PropTypes.string,gaEventCategory:_react2.default.PropTypes.string,popoverName:_react2.default.PropTypes.string,ignoreContext:_react2.default.PropTypes.shape({getDOMNode:_react2.default.PropTypes.function})},getDefaultProps:function getDefaultProps(){return{position:"bottom"}},getInitialState:function getInitialState(){return{showPopover:false}},render:function render(){return _react2.default.createElement("span",{onClick:this._onClick,ref:"infoPopover",className:(0,_classnames2.default)("info-popover",{is_active:this.state.showPopover},this.props.className)},_react2.default.createElement(_gridicon2.default,{icon:"info-outline",size:18}),_react2.default.createElement(_popover2.default,{id:this.props.id,isVisible:this.state.showPopover,context:this.refs&&this.refs.infoPopover,ignoreContext:this.props.ignoreContext,position:this.props.position,onClose:this._onClose,className:(0,_classnames2.default)("popover","info-popover__tooltip",this.props.className),rootClassName:this.props.rootClassName},this.props.children))},_onClick:function _onClick(event){event.preventDefault();this.setState({showPopover:!this.state.showPopover},this._recordStats)},_onClose:function _onClose(){this.setState({showPopover:false},this._recordStats)},_recordStats:function _recordStats(){var _props=this.props;var gaEventCategory=_props.gaEventCategory;var popoverName=_props.popoverName;if(gaEventCategory&&popoverName){var dialogState=this.state.showPopover?" Opened":" Closed";_analytics2.default.ga.recordEvent(gaEventCategory,"InfoPopover: "+popoverName+dialogState)}}});module.exports=exports["default"]},1540:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageViewTracker=undefined;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _flowRight=__webpack_require__(156);var _flowRight2=_interopRequireDefault(_flowRight);var _noop=__webpack_require__(36);var _noop2=_interopRequireDefault(_noop);var _reactRedux=__webpack_require__(21);var _actions=__webpack_require__(250);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PageViewTracker=exports.PageViewTracker=_react2.default.createClass({displayName:"PageViewTracker",getInitialState:function getInitialState(){return{timer:null}},componentDidMount:function componentDidMount(){this.queuePageView()},componentWillUnmount:function componentWillUnmount(){clearTimeout(this.state.timer)},queuePageView:function queuePageView(){var _props=this.props;var _props$delay=_props.delay;var delay=_props$delay===undefined?0:_props$delay;var path=_props.path;var _props$recorder=_props.recorder;var recorder=_props$recorder===undefined?_noop2.default:_props$recorder;var title=_props.title;if(this.state.timer){return}if(!delay){return recorder(path,title)}this.setState({timer:setTimeout(function(){return recorder(path,title)},delay)})},render:function render(){return null}});PageViewTracker.propTypes={delay:_react.PropTypes.number,path:_react.PropTypes.string.isRequired,recorder:_react.PropTypes.func,title:_react.PropTypes.string.isRequired};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{recorder:(0,_flowRight2.default)(dispatch,_actions.recordPageView)}};exports.default=(0,_reactRedux.connect)(null,mapDispatchToProps)(PageViewTracker)},1541:function(module,exports,__webpack_require__){"use strict";var _promise=__webpack_require__(51);var _promise2=_interopRequireDefault(_promise);var _debug=__webpack_require__(4);var _debug2=_interopRequireDefault(_debug);var _defer=__webpack_require__(341);var _defer2=_interopRequireDefault(_defer);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);var _dispatcher=__webpack_require__(38);var _dispatcher2=_interopRequireDefault(_dispatcher);var _utils=__webpack_require__(186);var _utils2=_interopRequireDefault(_utils);var _wp=__webpack_require__(22);var _wp2=_interopRequireDefault(_wp);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=(0,_debug2.default)("calypso:my-sites:plugins:actions");var _actionsQueueBySite={};var queueSitePluginAction=function queueSitePluginAction(action,siteId,pluginId,callback){var next=function next(nextCallback,error,data){var nextAction=void 0;if(nextCallback){nextCallback(error,data)}nextAction=_actionsQueueBySite[siteId].shift();if(nextAction){nextAction.action(next.bind(undefined,nextAction.callback))}else{delete _actionsQueueBySite[siteId]}};if(_actionsQueueBySite[siteId]){_actionsQueueBySite[siteId].push({action:action,siteId:siteId,pluginId:pluginId,callback:callback})}else{_actionsQueueBySite[siteId]=[];action(next.bind(undefined,callback))}};var queueSitePluginActionAsPromise=function queueSitePluginActionAsPromise(action,siteId,pluginId,callback){return new _promise2.default(function(resolve,reject){queueSitePluginAction(action,siteId,pluginId,function(error,data){if(callback){callback(error,data)}if(error){reject(error)}resolve(data)})})};var getSolvedPromise=function getSolvedPromise(dataToPass){return new _promise2.default(function(resolve){return resolve(dataToPass)})};var getRejectedPromise=function getRejectedPromise(errorToPass){return new _promise2.default(function(resolve,reject){return reject(errorToPass)})};var getPluginId=function getPluginId(site,plugin){return site.jetpack?plugin.id:plugin.slug};var getPluginHandler=function getPluginHandler(site,pluginId){var siteHandler=_wp2.default.site(site.ID);var pluginHandler=site.jetpack?siteHandler.plugin(pluginId):siteHandler.wpcomPlugin(pluginId);return pluginHandler};var getPluginBoundMethod=function getPluginBoundMethod(site,pluginId,method){var handler=getPluginHandler(site,pluginId);return handler[method].bind(handler)};var recordEvent=function recordEvent(eventType,plugin,site,error){if(error){_analytics2.default.tracks.recordEvent(eventType+"_error",{site:site.ID,plugin:plugin.slug,error:error.error});_analytics2.default.mc.bumpStat(eventType,"failed");return}_analytics2.default.tracks.recordEvent(eventType+"_success",{site:site.ID,plugin:plugin.slug});_analytics2.default.mc.bumpStat(eventType,"succeeded")};var autoupdatePlugin=function autoupdatePlugin(site,plugin){_dispatcher2.default.handleViewAction({type:"AUTOUPDATE_PLUGIN",action:"AUTOUPDATE_PLUGIN",site:site,plugin:plugin});_analytics2.default.tracks.recordEvent("calypso_plugin_update_automatic",{site:site.ID,plugin:plugin.slug});_analytics2.default.mc.bumpStat("calypso_plugin_update_automatic");var boundEnableAU=getPluginBoundMethod(site,plugin.id,"updateVersion");queueSitePluginAction(boundEnableAU,site.ID,plugin.id,function(error,data){_dispatcher2.default.handleServerAction({type:"RECEIVE_AUTOUPDATE_PLUGIN",action:"AUTOUPDATE_PLUGIN",site:site,plugin:plugin,data:data,error:error});recordEvent("calypso_plugin_updated_automatic",plugin,site,error)})};var processAutoupdates=function processAutoupdates(site,plugins){if(site.canAutoupdateFiles&&site.jetpack&&site.canManage()&&_utils2.default.userCan("manage_options",site)){plugins.forEach(function(plugin){if(plugin.update&&plugin.autoupdate){autoupdatePlugin(site,plugin)}})}};var PluginsActions={removePluginsNotices:function removePluginsNotices(logs){_dispatcher2.default.handleViewAction({type:"REMOVE_PLUGINS_NOTICES",logs:logs})},fetchSitePlugins:function fetchSitePlugins(site){if(!_utils2.default.userCan("manage_options",site)||!site.jetpack){(0,_defer2.default)(function(){_dispatcher2.default.handleViewAction({type:"NOT_ALLOWED_TO_RECEIVE_PLUGINS",action:"RECEIVE_PLUGINS",site:site})});return}var receivePluginsDispatcher=function receivePluginsDispatcher(error,data){_dispatcher2.default.handleServerAction({type:"RECEIVE_PLUGINS",action:"RECEIVE_PLUGINS",site:site,data:data,error:error});if(!error){processAutoupdates(site,data.plugins)}};if(site.jetpack){_wp2.default.site(site.ID).pluginsList(receivePluginsDispatcher)}else{_wp2.default.site(site.ID).wpcomPluginsList(receivePluginsDispatcher)}},updatePlugin:function updatePlugin(site,plugin){debug("updatePlugin",site,plugin);if(!plugin.update){return}if(!site.canUpdateFiles){return}_dispatcher2.default.handleViewAction({type:"UPDATE_PLUGIN",action:"UPDATE_PLUGIN",site:site,plugin:plugin});var boundUpdate=getPluginBoundMethod(site,plugin.id,"updateVersion");queueSitePluginAction(boundUpdate,site.ID,plugin.id,function(error,data){_dispatcher2.default.handleServerAction({type:"RECEIVE_UPDATED_PLUGIN",action:"UPDATE_PLUGIN",site:site,plugin:plugin,data:data,error:error});recordEvent("calypso_plugin_updated",plugin,site,error)})},installPlugin:function installPlugin(site,plugin){if(!site.canUpdateFiles){return getRejectedPromise("Error: Can't update files on the site")}if(!_utils2.default.userCan("manage_options",site)){return getRejectedPromise("Error: User can't manage the site")}var install=function install(){var bound=getPluginBoundMethod(site,plugin.slug,"install");return queueSitePluginActionAsPromise(bound,site.ID,plugin.slug)};var update=function update(pluginData){var id=pluginData.id;var bound=getPluginBoundMethod(site,id,"updateVersion");return queueSitePluginActionAsPromise(bound,site.ID,id)};var activate=function activate(pluginData){var id=pluginData.id;var bound=getPluginBoundMethod(site,id,"activate");return queueSitePluginActionAsPromise(bound,site.ID,id)};var autoupdate=function autoupdate(pluginData){var id=pluginData.id;var bound=getPluginBoundMethod(site,id,"enableAutoupdate");return queueSitePluginActionAsPromise(bound,site.ID,pluginData.id)};var dispatchMessage=function dispatchMessage(type,responseData,error){var message={type:type,action:"INSTALL_PLUGIN",site:site,plugin:plugin,data:responseData,error:error};if("INSTALL_PLUGIN"===type){_dispatcher2.default.handleViewAction(message);return}_dispatcher2.default.handleServerAction(message);recordEvent("calypso_plugin_installed",plugin,site,error)};var manageSuccess=function manageSuccess(responseData){dispatchMessage("RECEIVE_INSTALLED_PLUGIN",responseData);return responseData};var manageError=function manageError(error){if(error.name==="PluginAlreadyInstalledError"){if(site.isMainNetworkSite()){return update(plugin).then(autoupdate).then(manageSuccess).catch(manageError)}return update(plugin).then(activate).then(autoupdate).then(manageSuccess).catch(manageError)}if(error.name==="ActivationErrorError"){return update(plugin).then(autoupdate).then(manageSuccess).catch(manageError)}dispatchMessage("RECEIVE_INSTALLED_PLUGIN",null,error);return error};dispatchMessage("INSTALL_PLUGIN");if(site.isMainNetworkSite()){return install().then(autoupdate).then(manageSuccess).catch(manageError)}return install().then(activate).then(autoupdate).then(manageSuccess).catch(manageError)},removePlugin:function removePlugin(site,plugin){if(!site.canUpdateFiles||!_utils2.default.userCan("manage_options",site)){return}_dispatcher2.default.handleViewAction({type:"REMOVE_PLUGIN",action:"REMOVE_PLUGIN",site:site,plugin:plugin});var dispatchMessage=function dispatchMessage(type,responseData,error){var message={type:type,action:"REMOVE_PLUGIN",site:site,plugin:plugin,data:responseData,error:error};_dispatcher2.default.handleServerAction(message);recordEvent("calypso_plugin_removed",plugin,site,error)};var remove=function remove(pluginData){var id=pluginData.id;var bound=getPluginBoundMethod(site,id,"delete");return queueSitePluginActionAsPromise(bound,site.ID,id)};var deactivate=function deactivate(pluginData){if(pluginData.active){var id=pluginData.id;var bound=getPluginBoundMethod(site,id,"deactivate");return queueSitePluginActionAsPromise(bound,site.ID,id)}return getSolvedPromise(pluginData)};var disableAutoupdate=function disableAutoupdate(pluginData){if(pluginData.autoupdate){var id=pluginData.id;var bound=getPluginBoundMethod(site,id,"disableAutoupdate");return queueSitePluginActionAsPromise(bound,site.ID,id)}return getSolvedPromise(pluginData)};return deactivate(plugin).then(disableAutoupdate).then(remove).then(function(responseData){return dispatchMessage("RECEIVE_REMOVE_PLUGIN",responseData)}).catch(function(error){return dispatchMessage("RECEIVE_REMOVE_PLUGIN",null,error)})},activatePlugin:function activatePlugin(site,plugin){_dispatcher2.default.handleViewAction({type:"ACTIVATE_PLUGIN",action:"ACTIVATE_PLUGIN",site:site,plugin:plugin});var pluginId=getPluginId(site,plugin);var pluginHandler=getPluginHandler(site,pluginId);var activate=pluginHandler.activate.bind(pluginHandler);queueSitePluginAction(activate,site.ID,pluginId,function(error,data){_dispatcher2.default.handleServerAction({type:"RECEIVE_ACTIVATED_PLUGIN",action:"ACTIVATE_PLUGIN",site:site,plugin:plugin,data:data,error:error});if(error&&error.error!=="activation_error"||!(data&&data.active)&&!error){_analytics2.default.mc.bumpStat("calypso_plugin_activated","failed");_analytics2.default.tracks.recordEvent("calypso_plugin_activated_error",{error:error&&error.error?error.error:"Undefined activation error",site:site.ID,plugin:plugin.slug});return}_analytics2.default.mc.bumpStat("calypso_plugin_activated","succeeded");_analytics2.default.tracks.recordEvent("calypso_plugin_activated_success",{site:site.ID,plugin:plugin.slug})})},deactivatePlugin:function deactivatePlugin(site,plugin){_dispatcher2.default.handleViewAction({type:"DEACTIVATE_PLUGIN",action:"DEACTIVATE_PLUGIN",site:site,plugin:plugin});var pluginId=getPluginId(site,plugin);var pluginHandler=getPluginHandler(site,pluginId);var deactivate=pluginHandler.deactivate.bind(pluginHandler);queueSitePluginAction(deactivate,site.ID,pluginId,function(error,data){_dispatcher2.default.handleServerAction({type:"RECEIVE_DEACTIVATED_PLUGIN",action:"DEACTIVATE_PLUGIN",site:site,plugin:plugin,data:data,error:error});if(error&&error.error!=="deactivation_error"){_analytics2.default.mc.bumpStat("calypso_plugin_deactivated","failed");_analytics2.default.tracks.recordEvent("calypso_plugin_deactivated_error",{error:error.error?error.error:"Undefined deactivation error",site:site.ID,plugin:plugin.slug});return}_analytics2.default.mc.bumpStat("calypso_plugin_deactivated","succeeded");_analytics2.default.tracks.recordEvent("calypso_plugin_deactivated_success",{site:site.ID,plugin:plugin.slug})})},togglePluginActivation:function togglePluginActivation(site,plugin){if(!_utils2.default.userCan("manage_options",site)){return}debug("togglePluginActivation",site,plugin);if(!plugin.active){PluginsActions.activatePlugin(site,plugin)}else{PluginsActions.deactivatePlugin(site,plugin)}},enableAutoUpdatesPlugin:function enableAutoUpdatesPlugin(site,plugin){if(!_utils2.default.userCan("manage_options",site)||!site.canAutoupdateFiles){return}_dispatcher2.default.handleViewAction({type:"ENABLE_AUTOUPDATE_PLUGIN",action:"ENABLE_AUTOUPDATE_PLUGIN",site:site,plugin:plugin});var boundEnableAU=getPluginBoundMethod(site,plugin.id,"enableAutoupdate");queueSitePluginAction(boundEnableAU,site.ID,plugin.id,function(error,data){_dispatcher2.default.handleServerAction({type:"RECEIVE_ENABLED_AUTOUPDATE_PLUGIN",action:"ENABLE_AUTOUPDATE_PLUGIN",site:site,plugin:plugin,data:data,error:error});recordEvent("calypso_plugin_autoupdate_enabled",plugin,site,error);if(plugin.update&&!error){PluginsActions.updatePlugin(site,plugin)}})},disableAutoUpdatesPlugin:function disableAutoUpdatesPlugin(site,plugin){if(!_utils2.default.userCan("manage_options",site)||!site.canAutoupdateFiles){return}_dispatcher2.default.handleViewAction({type:"DISABLE_AUTOUPDATE_PLUGIN",action:"DISABLE_AUTOUPDATE_PLUGIN",site:site,plugin:plugin});var disableAA=getPluginBoundMethod(site,plugin.id,"disableAutoupdate");queueSitePluginAction(disableAA,site.ID,plugin.id,function(error,data){_dispatcher2.default.handleServerAction({type:"RECEIVE_DISABLED_AUTOUPDATE_PLUGIN",action:"DISABLE_AUTOUPDATE_PLUGIN",site:site,plugin:plugin,data:data,error:error});recordEvent("calypso_plugin_autoupdate_disabled",plugin,site,error)})},togglePluginAutoUpdate:function togglePluginAutoUpdate(site,plugin){if(!_utils2.default.userCan("manage_options",site)||!site.canAutoupdateFiles){return}if(!plugin.autoupdate){PluginsActions.enableAutoUpdatesPlugin(site,plugin)}else{PluginsActions.disableAutoUpdatesPlugin(site,plugin)}},removePluginUpdateInfo:function removePluginUpdateInfo(site,plugin){_dispatcher2.default.handleViewAction({type:"REMOVE_PLUGINS_UPDATE_INFO",site:site,plugin:plugin})},resetQueue:function resetQueue(){_actionsQueueBySite={}}};module.exports=PluginsActions},1564:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(23);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(26);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(25);var _inherits3=_interopRequireDefault(_inherits2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FormToggle=function(_PureComponent){(0,_inherits3.default)(FormToggle,_PureComponent);function FormToggle(){(0,_classCallCheck3.default)(this,FormToggle);var _this=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(FormToggle).apply(this,arguments));_this.onKeyDown=_this.onKeyDown.bind(_this);_this.onClick=_this.onClick.bind(_this);return _this}(0,_createClass3.default)(FormToggle,[{key:"componentWillMount",value:function componentWillMount(){this.id=this.constructor.idNum++}},{key:"onKeyDown",value:function onKeyDown(event){if(this.props.disabled){return}if(event.key==="Enter"||event.key===" "){event.preventDefault();this.props.onChange()}this.props.onKeyDown(event)}},{key:"onClick",value:function onClick(){if(!this.props.disabled){this.props.onChange()}}},{key:"render",value:function render(){var id=this.props.id||"toggle-"+this.id;var toggleClasses=(0,_classnames2.default)("form-toggle",this.props.className,{"is-toggling":this.props.toggling});return _react2.default.createElement("span",null,_react2.default.createElement("input",{className:toggleClasses,type:"checkbox",checked:this.props.checked,readOnly:true,disabled:this.props.disabled}),_react2.default.createElement("label",{className:"form-toggle__label",htmlFor:id},_react2.default.createElement("span",{className:"form-toggle__switch",disabled:this.props.disabled,id:id,onClick:this.onClick,onKeyDown:this.onKeyDown,role:"checkbox","aria-checked":this.props.checked,"aria-label":this.props["aria-label"],tabIndex:this.props.disabled?-1:0}),this.props.children))}}]);return FormToggle}(_react.PureComponent);FormToggle.propTypes={onChange:_react.PropTypes.func,onKeyDown:_react.PropTypes.func,checked:_react.PropTypes.bool,disabled:_react.PropTypes.bool,id:_react.PropTypes.string,className:_react.PropTypes.string,toggling:_react.PropTypes.bool,"aria-label":_react.PropTypes.string,children:_react.PropTypes.node};FormToggle.defaultProps={checked:false,disabled:false,onKeyDown:function onKeyDown(){},onChange:function onChange(){}};FormToggle.idNum=0;exports.default=FormToggle;module.exports=exports["default"]},1569:function(module,exports,__webpack_require__){"use strict";var throttle=__webpack_require__(656),SCROLL_CHECK_RATE_IN_MS=400;module.exports=function(nextPageMethod){return{componentDidMount:function componentDidMount(){this.checkScrollPositionHandler=throttle(this.checkScrollPosition.bind(this,{triggeredByScroll:true}),SCROLL_CHECK_RATE_IN_MS);window.addEventListener("scroll",this.checkScrollPositionHandler);this.checkScrollPosition({triggeredByScroll:false})},componentDidUpdate:function componentDidUpdate(){this.checkScrollPosition({triggeredByScroll:false})},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("scroll",this.checkScrollPositionHandler)},checkScrollPosition:function checkScrollPosition(options){var scrollPosition=window.pageYOffset,documentHeight=document.body.scrollHeight,viewportHeight=window.innerHeight,scrollOffset=2*viewportHeight,triggeredByScroll=options.triggeredByScroll,self=this;if(scrollPosition>=documentHeight-viewportHeight-scrollOffset){if(scrollPosition>viewportHeight){triggeredByScroll=true}setTimeout(function(){self[nextPageMethod]({triggeredByScroll:triggeredByScroll})},0)}}}}},1570:function(module,exports,__webpack_require__){"use strict";var reject=__webpack_require__(149),isArray=__webpack_require__(24),clone=__webpack_require__(251),indexOf=__webpack_require__(1678),findIndex=__webpack_require__(351),pullAt=__webpack_require__(3192),debug=__webpack_require__(4)("calypso:my-sites:plugins:log-store");var Dispatcher=__webpack_require__(38),emitter=__webpack_require__(32);var _errors=[],_inProgress=[],_completed=[],LogStore;function addLog(status,action,site,plugin,error){var log={status:status,action:action,site:site,plugin:plugin};debug("add in "+status+" data:",log);switch(status){case"error":log.error=error;_errors.push(log);break;case"inProgress":_inProgress.push(log);debug("current in progress:",_inProgress);break;case"completed":_completed.push(log);debug("current completed:",_completed);break}}function removeLog(log){debug("removing log:",log);switch(log.status){case"error":_errors=reject(_errors,log);debug("current errors:",_errors);break;case"inProgress":_inProgress=reject(_inProgress,log);debug("current in progress:",_inProgress);break;case"completed":_completed=reject(_completed,log);debug("current completed:",_completed);break}}function removeSingleLog(log){var index;debug("removing log:",log);switch(log.status){case"error":index=findIndex(_errors,log);pullAt(_errors,index);debug("current errors:",_errors);break;case"inProgress":index=findIndex(_inProgress,log);pullAt(_inProgress,index);debug("current in progress:",_inProgress);break;case"completed":index=findIndex(_completed,log);pullAt(_completed,index);debug("current completed:",_completed);break}}LogStore={getErrors:function getErrors(){return clone(_errors)},getInProgress:function getInProgress(){return clone(_inProgress)},getCompleted:function getCompleted(){return clone(_completed)},isInProgressAction:function isInProgressAction(siteId,pluginSlug,action){var dones=arguments.length;return _inProgress.some(function(log){var done=0;if(action&&isArray(action)){if(indexOf(action,log.action)!==-1){done++}}else if(action&&action===log.action){done++}if(siteId&&siteId===log.site.ID){done++}if(pluginSlug&&pluginSlug===log.plugin.slug){
done++}return done===dones})},emitChange:function emitChange(){this.emit("change")}};LogStore.dispatchToken=Dispatcher.register(function(payload){var action=payload.action;debug("register event Type",action.type,payload);switch(action.type){case"REMOVE_PLUGINS_NOTICES":action.logs.forEach(removeLog);LogStore.emitChange();break;case"UPDATE_PLUGIN":case"ACTIVATE_PLUGIN":case"DEACTIVATE_PLUGIN":case"ENABLE_AUTOUPDATE_PLUGIN":case"DISABLE_AUTOUPDATE_PLUGIN":case"INSTALL_PLUGIN":case"REMOVE_PLUGIN":addLog("inProgress",action.action,action.site,action.plugin);LogStore.emitChange();break;case"RECEIVE_UPDATED_PLUGIN":case"RECEIVE_ACTIVATED_PLUGIN":case"RECEIVE_DEACTIVATED_PLUGIN":case"RECEIVE_ENABLED_AUTOUPDATE_PLUGIN":case"RECEIVE_DISABLED_AUTOUPDATE_PLUGIN":case"RECEIVE_INSTALLED_PLUGIN":case"RECEIVE_REMOVE_PLUGIN":removeSingleLog({status:"inProgress",action:action.action,site:action.site,plugin:action.plugin});if(action.type==="RECEIVE_ACTIVATED_PLUGIN"){if(!(action.data&&action.data.active)&&!action.error){action.error={error:"broken-plugin"}}}if(action.error&&["activation_error","deactivation_error"].indexOf(action.error.error)===-1){addLog("error",action.action,action.site,action.plugin,action.error)}else{addLog("completed",action.action,action.site,action.plugin)}LogStore.emitChange();break}});emitter(LogStore);module.exports=LogStore},1610:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_react2.default.createClass({displayName:"ProgressBar",getDefaultProps:function getDefaultProps(){return{total:100,compact:false,isPulsing:false}},propTypes:{value:_react2.default.PropTypes.number.isRequired,total:_react2.default.PropTypes.number,color:_react2.default.PropTypes.string,title:_react2.default.PropTypes.string,compact:_react2.default.PropTypes.bool,className:_react2.default.PropTypes.string,isPulsing:_react2.default.PropTypes.bool},renderBar:function renderBar(){var title=this.props.title?_react2.default.createElement("span",{className:"screen-reader-text"},this.props.title):null;var styles={width:Math.ceil(this.props.value/this.props.total*100)+"%"};if(this.props.color){styles.backgroundColor=this.props.color}return _react2.default.createElement("div",{className:"progress-bar__progress",style:styles},title)},render:function render(){var classes=(0,_classnames2.default)(this.props.className,"progress-bar",{"is-compact":this.props.compact,"is-pulsing":this.props.isPulsing});return _react2.default.createElement("div",{className:classes},this.renderBar())}})},1661:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);var _mixin=__webpack_require__(105);var _mixin2=_interopRequireDefault(_mixin);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({displayName:"PluginIcon",propTypes:{image:_react2.default.PropTypes.string,isPlaceholder:_react2.default.PropTypes.bool},mixins:[_mixin2.default],render:function render(){var className=(0,_classnames2.default)({"plugin-icon":true,"is-placeholder":this.props.isPlaceholder,"is-fallback":!this.props.image}),avatar=this.props.isPlaceholder||!this.props.image?_react2.default.createElement(_gridicon2.default,{icon:"plugins"}):_react2.default.createElement("img",{className:"plugin-icon__img",src:this.props.image});return _react2.default.createElement("div",{className:(0,_classnames2.default)(this.props.className,className)},avatar)}});module.exports=exports["default"]},1678:function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(201),toInteger=__webpack_require__(63);var nativeMax=Math.max;function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}fromIndex=toInteger(fromIndex);if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return baseIndexOf(array,value,fromIndex)}module.exports=indexOf},1718:function(module,exports,__webpack_require__){"use strict";var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var assign=__webpack_require__(29),isArray=__webpack_require__(24),debug=__webpack_require__(4)("calypso:sites-plugins:sites-plugins-store"),sortBy=__webpack_require__(124),uniq=__webpack_require__(258),compact=__webpack_require__(161),values=__webpack_require__(188);var Dispatcher=__webpack_require__(38),localStore=__webpack_require__(42),emitter=__webpack_require__(32),sitesList=__webpack_require__(55)(),PluginsActions=__webpack_require__(1541),versionCompare=__webpack_require__(358),PluginUtils=__webpack_require__(1807),JetpackSite=__webpack_require__(726),Site=__webpack_require__(392),config=__webpack_require__(10);var _CACHE_TIME_TO_LIVE=10*1e3,_UPDATED_PLUGIN_INFO_TIME_TO_LIVE=10*1e3,_STORAGE_LIST_NAME="CachedPluginsBySite";var _fetching={},_pluginsBySite={},PluginsStore,_filters={none:function none(){return false},all:function all(){return true},active:function active(plugin){return plugin.sites.some(function(site){return site.plugin&&site.plugin.active})},inactive:function inactive(plugin){return plugin.sites.some(function(site){return site.plugin&&!site.plugin.active})},updates:function updates(plugin){return plugin.sites.some(function(site){return site.plugin&&site.plugin.update&&site.canUpdateFiles})},isEqual:function isEqual(pluginSlug,plugin){return plugin.slug===pluginSlug}};function refreshNetworkSites(site){var networkSites=sitesList.getNetworkSites(site);if(networkSites){networkSites.forEach(PluginsActions.fetchSitePlugins)}}function install(site,slug,plugin){update(site,slug,plugin);refreshNetworkSites(site)}function remove(site,slug){refreshNetworkSites(site);if(!_pluginsBySite[site.ID]){_pluginsBySite[site.ID]={}}delete _pluginsBySite[site.ID][slug];debug("removed plugin "+slug);storePluginsBySite(site.ID,_pluginsBySite[site.ID])}function update(site,slug,plugin){if(plugin.network&&(site.options.is_multi_site||versionCompare(site.options.jetpack_version,"3.7.0-dev","<"))){return}if(!_pluginsBySite[site.ID]){_pluginsBySite[site.ID]={}}if(!_pluginsBySite[site.ID][slug]){_pluginsBySite[site.ID][slug]={slug:slug}}plugin=PluginUtils.normalizePluginData(plugin);_pluginsBySite[site.ID][slug]=assign({},_pluginsBySite[site.ID][slug],plugin);debug("update to ",_pluginsBySite[site.ID][slug]);storePluginsBySite(site.ID,_pluginsBySite[site.ID])}function updatePlugins(site,plugins){_fetching[site.ID]=false;_pluginsBySite[site.ID]={};plugins.forEach(function(plugin){update(site,plugin.slug||plugin.id,plugin)})}function getPluginsBySiteFromStorage(siteId){var storedLists;if(config.isEnabled("manage/plugins/cache")){storedLists=localStore.get(_STORAGE_LIST_NAME);return storedLists&&storedLists[siteId]}}function storePluginsBySite(siteId,pluginsList){var storedLists;if(config.isEnabled("manage/plugins/cache")){storedLists=localStore.get(_STORAGE_LIST_NAME)||{};storedLists[siteId]={list:pluginsList,fetched:Date.now()};localStore.set(_STORAGE_LIST_NAME,storedLists)}}function isCachedListStillValid(storedList){return storedList&&Date.now()-storedList.fetched<_CACHE_TIME_TO_LIVE}PluginsStore={getPlugin:function getPlugin(sites,pluginSlug){var pluginData={},fetched=false;pluginData.sites=[];sites=!isArray(sites)?[sites]:sites;sites.forEach(function(site){var sitePlugins=PluginsStore.getSitePlugins(site);if(typeof sitePlugins!=="undefined"){fetched=true}if(!sitePlugins){return}sitePlugins.forEach(function(plugin){if(plugin.slug===pluginSlug){pluginData=assign(pluginData,plugin);pluginData.sites.push(assign({},site,{plugin:plugin}))}},this)});if(!fetched){return}return pluginData},getPlugins:function getPlugins(sites,pluginFilter){var fetched=false,plugins={};sites=!isArray(sites)?[sites]:sites;if(sites.length===0){return[]}sites.forEach(function(site){var sitePlugins=PluginsStore.getSitePlugins(site);if(sitePlugins!==undefined){fetched=true}if(!sitePlugins){return}sitePlugins.forEach(function(plugin){if(!plugins[plugin.slug]){plugins[plugin.slug]=assign({},plugin,{sites:[]})}plugins[plugin.slug].sites.push(assign({},site,{plugin:plugin}))},this)});if(!fetched){return}plugins=sortBy(plugins,function(plugin){return plugin.slug});if(!plugins){return[]}if(plugins.filter&&!!pluginFilter&&_filters[pluginFilter]){plugins=plugins.filter(_filters[pluginFilter])}return plugins},getSitePlugins:function getSitePlugins(site){var storedList;if(!_pluginsBySite[site.ID]&&!_fetching[site.ID]){storedList=getPluginsBySiteFromStorage(site.ID);_pluginsBySite[site.ID]=storedList&&storedList.list;if(!isCachedListStillValid(storedList)){PluginsActions.fetchSitePlugins(site);_fetching[site.ID]=true}}if(!_pluginsBySite[site.ID]){return _pluginsBySite[site.ID]}return values(_pluginsBySite[site.ID])},getSitePlugin:function getSitePlugin(site,pluginSlug){var plugins=this.getSitePlugins(site);if(!plugins){return plugins}plugins=plugins.filter(_filters.isEqual.bind(this,pluginSlug));return plugins[0]},getSites:function getSites(sites,pluginSlug){var plugin,plugins=this.getPlugins(sites),pluginSites;if(!plugins){return}plugins=plugins.filter(_filters.isEqual.bind(this,pluginSlug));plugin=plugins.pop();if(!plugin){return null}pluginSites=uniq(compact(plugin.sites.map(function(site){var pluginSite=site.jetpack?new JetpackSite(sitesList.getSite(site.ID)):new Site(sitesList.getSite(site.ID));pluginSite.plugin=site.plugin;if(site.visible){return pluginSite}})));return pluginSites.sort(function(first,second){return first.title.toLowerCase()>second.title.toLowerCase()?1:-1})},isFetchingSite:function isFetchingSite(site){return _fetching[site.ID]},getNotInstalledSites:function getNotInstalledSites(sites,pluginSlug){var installedOnSites=this.getSites(sites,pluginSlug)||[];return sites.filter(function(site){if(!site.visible){return false}if(site.jetpack&&site.isSecondaryNetworkSite()){return false}return installedOnSites.every(function(installedOnSite){return installedOnSite.slug!==site.slug})})},emitChange:function emitChange(){this.emit("change")}};PluginsStore.dispatchToken=Dispatcher.register(function(_ref){var action=_ref.action;debug("register event Type",action.type,action);switch(action.type){case"RECEIVE_PLUGINS":_fetching[action.site.ID]=false;if(action.error){updatePlugins(action.site,[]);PluginsStore.emitChange();return}updatePlugins(action.site,action.data.plugins);PluginsStore.emitChange();break;case"NOT_ALLOWED_TO_RECEIVE_PLUGINS":_fetching[action.site.ID]=false;_pluginsBySite[action.site.ID]={};PluginsStore.emitChange();break;case"AUTOUPDATE_PLUGIN":case"UPDATE_PLUGIN":PluginsStore.emitChange();break;case"REMOVE_PLUGINS_UPDATE_INFO":update(action.site,action.plugin.slug,{update:null});PluginsStore.emitChange();break;case"RECEIVE_AUTOUPDATE_PLUGIN":case"RECEIVE_UPDATED_PLUGIN":if(action.error){debug("plugin updating error",action.error);update(action.site,action.plugin.slug,{update:action.plugin.update})}else{update(action.site,action.plugin.slug,(0,_assign2.default)({update:{recentlyUpdated:true}},action.data));sitesList.onUpdatedPlugin(action.site);setTimeout(PluginsActions.removePluginUpdateInfo.bind(PluginsActions,action.site,action.plugin),_UPDATED_PLUGIN_INFO_TIME_TO_LIVE)}PluginsStore.emitChange();break;case"RECEIVE_INSTALLED_PLUGIN":if(action.error){debug("plugin installing error",action.error)}else{install(action.site,action.plugin.slug,action.data)}PluginsStore.emitChange();break;case"RECEIVE_REMOVE_PLUGIN":if(action.error){debug("plugin removing error",action.error);update(action.site,action.plugin.slug,action.plugin)}else{remove(action.site,action.plugin.slug)}PluginsStore.emitChange();break;case"ACTIVATE_PLUGIN":update(action.site,action.plugin.slug,{active:true});PluginsStore.emitChange();break;case"DEACTIVATE_PLUGIN":update(action.site,action.plugin.slug,{active:false});PluginsStore.emitChange();break;case"RECEIVE_ACTIVATED_PLUGIN":if(action.error&&action.error.error!=="activation_error"||!(action.data&&action.data.active)&&!action.error){debug("plugin activation error",action.error);update(action.site,action.plugin.slug,{active:false})}else{update(action.site,action.plugin.slug,{active:true})}PluginsStore.emitChange();break;case"RECEIVE_DEACTIVATED_PLUGIN":if(action.error&&action.error.error!=="deactivation_error"){debug("plugin deactivation error",action.error);update(action.site,action.plugin.slug,{active:true})}else{update(action.site,action.plugin.slug,{active:false})}PluginsStore.emitChange();break;case"ENABLE_AUTOUPDATE_PLUGIN":update(action.site,action.plugin.slug,{autoupdate:true});PluginsStore.emitChange();break;case"DISABLE_AUTOUPDATE_PLUGIN":update(action.site,action.plugin.slug,{autoupdate:false});PluginsStore.emitChange();break;case"RECEIVE_ENABLED_AUTOUPDATE_PLUGIN":if(action.error){debug("plugin activation error",action.error);update(action.site,action.plugin.slug,{autoupdate:false})}else{update(action.site,action.plugin.slug,{autoupdate:true})}PluginsStore.emitChange();break;case"RECEIVE_DISABLED_AUTOUPDATE_PLUGIN":if(action.error){debug("plugin deactivation error",action.error);update(action.site,action.plugin.slug,{autoupdate:true})}else{update(action.site,action.plugin.slug,{autoupdate:false})}PluginsStore.emitChange();break}});emitter(PluginsStore);module.exports=PluginsStore},1754:function(module,exports){module.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(elem){return elem.type==="tag"||elem.type==="script"||elem.type==="style"}}},1758:function(module,exports,__webpack_require__){var Parser=__webpack_require__(2234),DomHandler=__webpack_require__(3118);function defineProp(name,value){delete module.exports[name];module.exports[name]=value;return value}module.exports={Parser:Parser,Tokenizer:__webpack_require__(2235),ElementType:__webpack_require__(1754),DomHandler:DomHandler,get FeedHandler(){return defineProp("FeedHandler",__webpack_require__(3143))},get Stream(){return defineProp("Stream",__webpack_require__(3145))},get WritableStream(){return defineProp("WritableStream",__webpack_require__(2236))},get ProxyHandler(){return defineProp("ProxyHandler",__webpack_require__(3144))},get DomUtils(){return defineProp("DomUtils",__webpack_require__(3120))},get CollectingHandler(){return defineProp("CollectingHandler",__webpack_require__(3142))},DefaultHandler:DomHandler,get RssHandler(){return defineProp("RssHandler",this.FeedHandler)},parseDOM:function(data,options){var handler=new DomHandler(options);new Parser(handler,options).end(data);return handler.dom},parseFeed:function(feed,options){var handler=new module.exports.FeedHandler(options);new Parser(handler,options).end(feed);return handler.dom},createDomStream:function(cb,options,elementCb){var handler=new DomHandler(cb,options,elementCb);return new Parser(handler,options)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},1795:function(module,exports,__webpack_require__){"use strict";var _extends2=__webpack_require__(19);var _extends3=_interopRequireDefault(_extends2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var React=__webpack_require__(1),classNames=__webpack_require__(11),omit=__webpack_require__(18);var Toggle=__webpack_require__(1564);module.exports=React.createClass({displayName:"CompactFormToggle",render:function render(){return React.createElement(Toggle,(0,_extends3.default)({},omit(this.props,"className"),{className:classNames(this.props.className,"is-compact")}),this.props.children)}})},1807:function(module,exports,__webpack_require__){"use strict";var _getIterator2=__webpack_require__(735);var _getIterator3=_interopRequireDefault(_getIterator2);var _keys=__webpack_require__(44);var _keys2=_interopRequireDefault(_keys);var _parseInt=__webpack_require__(3066);var _parseInt2=_interopRequireDefault(_parseInt);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var pick=__webpack_require__(72),assign=__webpack_require__(29),map=__webpack_require__(50),filter=__webpack_require__(69),transform=__webpack_require__(682),sortBy=__webpack_require__(124),sanitizeHtml=__webpack_require__(3225);var decodeEntities=__webpack_require__(83).decodeEntities,parseHtml=__webpack_require__(83).parseHtml,PluginUtils;function isSameSiteNotice(site,log){return site&&log.site&&log.site.ID===site.ID}function isSamePluginNotice(pluginSlug,log){return pluginSlug&&log.plugin&&log.plugin.slug===pluginSlug}function filterNoticesBy(site,pluginSlug,log){if(!site&&!pluginSlug){return true}if(isSameSiteNotice(site,log)&&isSamePluginNotice(pluginSlug,log)){return true}else if(!pluginSlug&&isSameSiteNotice(site,log)){return true}else if(!site&&isSamePluginNotice(pluginSlug,log)){return true}return false}PluginUtils={whiteListPluginData:function whiteListPluginData(plugin){return pick(plugin,"active","author","author_url","autoupdate","banners","compatibility","description","short_description","detailsFetched","downloaded","homepage","icons","id","last_updated","name","network","num_ratings","plugin_url","rating","ratings","sections","slug","support_URL","update","updating","version","wp_admin_settings_page_url")},extractAuthorName:function extractAuthorName(authorElementSource){if(!authorElementSource){return""}return decodeEntities(authorElementSource.replace(/(<([^>]+)>)/gi,""))},extractAuthorUrl:function extractAuthorUrl(authorElementSource){var match=/<a\s+(?:[^>]*?\s+)?href="([^"]*)"/.exec(authorElementSource);return match&&match[1]?match[1]:""},extractScreenshots:function extractScreenshots(screenshotsHtml){var screenshotsDom=parseHtml(screenshotsHtml);var list=screenshotsDom&&screenshotsDom.querySelectorAll("li");if(!list){return null}var screenshots=map(list,function(li){var img=li.querySelectorAll("img");var captionP=li.querySelectorAll("p");if(img[0].src){return{url:img[0].src,caption:captionP[0]?captionP[0].textContent:null}}});screenshots=screenshots.filter(function(screenshot){return screenshot});return screenshots.length?screenshots:null},normalizeCompatibilityList:function normalizeCompatibilityList(compatibilityList){function splitInNumbers(version){var splittedVersion=version.split(".").map(function(versionComponent){return(0,_parseInt2.default)(versionComponent,10)});while(splittedVersion.length<3){splittedVersion.push(0)}return splittedVersion}var sortedCompatibility=sortBy((0,_keys2.default)(compatibilityList).map(splitInNumbers),[0,1,2]);return sortedCompatibility.map(function(version){if(version.length&&version[version.length-1]===0){version.pop()}return version.join(".")})},normalizePluginData:function normalizePluginData(plugin,pluginData){plugin=this.whiteListPluginData(assign(plugin,pluginData));return transform(plugin,function(returnData,item,key){switch(key){case"short_description":case"description":case"name":case"slug":returnData[key]=decodeEntities(item);break;case"author":returnData.author=item;returnData.author_name=PluginUtils.extractAuthorName(item);returnData.author_url=plugin.author_url||PluginUtils.extractAuthorUrl(item);break;case"sections":var cleanItem={};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=(0,_getIterator3.default)((0,_keys2.default)(item)),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var sectionKey=_step.value;cleanItem[sectionKey]=sanitizeHtml(item[sectionKey],{allowedTags:["h4","h5","h6","blockquote","code","b","i","em","strong","a","p","img","ul","ol","li"],allowedAttributes:{a:["href"],img:["src"]},allowedSchemes:["http","https"],transformTags:{h1:"h3",h2:"h3"}})}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}returnData.sections=cleanItem;returnData.screenshots=cleanItem.screenshots?PluginUtils.extractScreenshots(cleanItem.screenshots):null;break;case"num_ratings":case"rating":returnData[key]=parseInt(item,10);break;case"ratings":for(var prop in item){item[prop]=parseInt(item[prop],10)}returnData[key]=item;break;case"icons":if(item){returnData.icon=item["2x"]||item["1x"]||item.svg||item.default}break;case"homepage":case"plugin_url":returnData.plugin_url=item;break;case"compatibility":returnData[key]=PluginUtils.normalizeCompatibilityList(item);break;default:returnData[key]=item}})},normalizePluginsList:function normalizePluginsList(pluginsList){if(!pluginsList){return[]}return pluginsList.map(function(pluginData){return PluginUtils.normalizePluginData(pluginData)})},filterNotices:function filterNotices(logs,site,pluginSlug){return filter(logs,filterNoticesBy.bind(this,site,pluginSlug))}};module.exports=PluginUtils},1817:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var PluginsActions=__webpack_require__(1541),PluginsLog=__webpack_require__(1570),PluginAction=__webpack_require__(1940),DisconnectJetpackButton=__webpack_require__(710),analytics=__webpack_require__(16);module.exports=React.createClass({displayName:"PluginActivateToggle",propTypes:{isMock:React.PropTypes.bool,site:React.PropTypes.object.isRequired,plugin:React.PropTypes.object.isRequired},toggleActivation:function toggleActivation(){if(this.props.isMock||this.props.disabled){return}PluginsActions.togglePluginActivation(this.props.site,this.props.plugin);PluginsActions.removePluginsNotices(this.props.notices.completed.concat(this.props.notices.errors));if(this.props.plugin.active){analytics.ga.recordEvent("Plugins","Clicked Toggle Deactivate Plugin","Plugin Name",this.props.plugin.slug);analytics.tracks.recordEvent("calypso_plugin_deactivate_click",{site:this.props.site.ID,plugin:this.props.plugin.slug})}else{analytics.ga.recordEvent("Plugins","Clicked Toggle Activate Plugin","Plugin Name",this.props.plugin.slug);analytics.tracks.recordEvent("calypso_plugin_activate_click",{site:this.props.site.ID,plugin:this.props.plugin.slug})}},render:function render(){var inProgress;if(!this.props.site){return null}inProgress=PluginsLog.isInProgressAction(this.props.site.ID,this.props.plugin.slug,["ACTIVATE_PLUGIN","DEACTIVATE_PLUGIN"]);if(this.props.plugin&&"jetpack"===this.props.plugin.slug){return React.createElement(PluginAction,{className:"plugin-activate-toggle",htmlFor:"disconnect-jetpack-"+this.props.site.ID},React.createElement(DisconnectJetpackButton,{disabled:this.props.disabled||!this.props.plugin,site:this.props.site,redirect:"/plugins/jetpack",isMock:this.props.isMock}))}return React.createElement(PluginAction,{disabled:this.props.disabled,className:"plugin-activate-toggle",label:this.translate("Active",{context:"plugin status"}),inProgress:inProgress,status:this.props.plugin&&this.props.plugin.active,action:this.toggleActivation,htmlFor:"activate-"+this.props.plugin.slug+"-"+this.props.site.ID})}})},1818:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var PluginsActions=__webpack_require__(1541),PluginsLog=__webpack_require__(1570),PluginAction=__webpack_require__(1940),ExternalLink=__webpack_require__(353),analytics=__webpack_require__(16),utils=__webpack_require__(186);module.exports=React.createClass({displayName:"PluginAutopdateToggle",propTypes:{isMock:React.PropTypes.bool,site:React.PropTypes.object.isRequired,plugin:React.PropTypes.object.isRequired,wporg:React.PropTypes.bool},toggleAutoupdates:function toggleAutoupdates(){if(this.props.isMock||this.props.disabled){return}PluginsActions.togglePluginAutoUpdate(this.props.site,this.props.plugin);PluginsActions.removePluginsNotices(this.props.notices.completed.concat(this.props.notices.errors));if(this.props.plugin.autoupdate){analytics.ga.recordEvent("Plugins","Clicked Toggle Disable Autoupdates Plugin","Plugin Name",this.props.plugin.slug);analytics.tracks.recordEvent("calypso_plugin_autoupdate_disable_click",{site:this.props.site.ID,plugin:this.props.plugin.slug})}else{analytics.ga.recordEvent("Plugins","Clicked Toggle Enable Autoupdates Plugin","Plugin Name",this.props.plugin.slug);analytics.tracks.recordEvent("calypso_plugin_autoupdate_enable_click",{site:this.props.site.ID,plugin:this.props.plugin.slug})}},getDisabledInfo:function getDisabledInfo(){var _this=this;if(!this.props.site){return null}if(!this.props.wporg){return this.translate("This plugin is not in the WordPress.org plugin repository, so we can't autoupdate it.")}if(!this.props.site.hasMinimumJetpackVersion){return this.translate("%(site)s is not running an up to date version of Jetpack",{args:{site:this.props.site.title}})}if(this.props.site.options.is_multi_network){return this.translate("%(site)s is part of a multi-network installation, which is not currently supported.",{args:{site:this.props.site.title}})}if(!utils.isMainNetworkSite(this.props.site)){return this.translate("Only the main site on a multi-site installation can enable autoupdates for plugins.",{args:{site:this.props.site.title}})}if(!this.props.site.canAutoupdateFiles&&this.props.site.options.file_mod_disabled){var reasons=utils.getSiteFileModDisableReason(this.props.site,"autoupdateFiles");var html=[];if(reasons.length>1){html.push(React.createElement("p",{key:"reason-shell"},this.translate("Autoupdates are not available for %(site)s:",{args:{site:this.props.site.title}})));var list=reasons.map(function(reason,i){return React.createElement("li",{key:"reason-i"+i+"-"+_this.props.site.ID},reason)});html.push(React.createElement("ul",{className:"plugin-action__disabled-info-list",key:"reason-shell-list"},list))}else{html.push(React.createElement("p",{key:"reason-shell"},this.translate("Autoupdates are not available for %(site)s. %(reason)s",{args:{site:this.props.site.title,reason:reasons[0]}})))}html.push(React.createElement(ExternalLink,{key:"external-link",onClick:analytics.ga.recordEvent.bind(this,"Plugins","Clicked How do I fix disabled autoupdates"),href:"https://jetpack.me/support/site-management/#file-update-disabled"},this.translate("How do I fix this?")));return html}return null},render:function render(){if(!this.props.site.jetpack){return null}var inProgress=PluginsLog.isInProgressAction(this.props.site.ID,this.props.plugin.slug,["ENABLE_AUTOUPDATE_PLUGIN","DISABLE_AUTOUPDATE_PLUGIN"]),getDisabledInfo=this.getDisabledInfo(),label=getDisabledInfo?this.translate("Autoupdates disabled",{context:'this goes next to an icon that displays if the plugin has "autoupdates disabled" active'}):this.translate("Autoupdates",{context:'this goes next to an icon that displays if the plugin has "autoupdates" active'});return React.createElement(PluginAction,{disabled:this.props.disabled,label:label,status:this.props.plugin.autoupdate,action:this.toggleAutoupdates,inProgress:inProgress,disabledInfo:getDisabledInfo,htmlFor:"autoupdates-"+this.props.plugin.slug+"-"+this.props.site.ID})}})},1849:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({displayName:"ButtonGroup",propTypes:{children:function children(props){var error=null;_react2.default.Children.forEach(props.children,function(child){if(!child.props||child.props.type!=="button"){error=new Error("All children elements should be a Button.")}});return error}},render:function render(){var buttonGroupClasses=(0,_classnames2.default)("button-group",this.props.className);return _react2.default.createElement("span",{className:buttonGroupClasses},this.props.children)}});module.exports=exports["default"]},1896:function(module,exports,__webpack_require__){"use strict";var _keys=__webpack_require__(44);var _keys2=_interopRequireDefault(_keys);var _groupBy=__webpack_require__(692);var _groupBy2=_interopRequireDefault(_groupBy);var _i18nCalypso=__webpack_require__(13);var _i18nCalypso2=_interopRequireDefault(_i18nCalypso);var _notices=__webpack_require__(71);var _notices2=_interopRequireDefault(_notices);var _logStore=__webpack_require__(1570);var _logStore2=_interopRequireDefault(_logStore);var _actions=__webpack_require__(1541);var _actions2=_interopRequireDefault(_actions);var _utils=__webpack_require__(1807);var _utils2=_interopRequireDefault(_utils);var _versionCompare=__webpack_require__(358);var _versionCompare2=_interopRequireDefault(_versionCompare);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getCombination(translateArg){return(translateArg.numberOfSites>1?"n sites":"1 site")+" "+(translateArg.numberOfPlugins>1?"n plugins":"1 plugin")}function getTranslateArg(logs,sampleLog,typeFilter){var filteredLogs=logs.filter(function(log){return log.status===typeFilter?typeFilter:sampleLog.type});var groupedBySite=(0,_groupBy2.default)(filteredLogs,function(log){return log.site.ID});var groupedByPlugin=(0,_groupBy2.default)(filteredLogs,function(log){return log.plugin.slug});return{plugin:sampleLog.plugin.name,wp_admin_settings_page_url:sampleLog.plugin.wp_admin_settings_page_url,numberOfPlugins:(0,_keys2.default)(groupedByPlugin).length,site:sampleLog.site.title,isMultiSite:sampleLog.site.is_multi_site,numberOfSites:(0,_keys2.default)(groupedBySite).length}}module.exports={shouldComponentUpdateNotices:function shouldComponentUpdateNotices(currentNotices,nextNotices){if(currentNotices.errors&&currentNotices.errors.length!==nextNotices.errors.length){return true}if(currentNotices.inProgress&&currentNotices.inProgress.length!==nextNotices.inProgress.length){return true}if(currentNotices.completed&&currentNotices.completed.length!==nextNotices.completed.length){return true}return false},getInitialState:function getInitialState(){return{notices:this.refreshPluginNotices()}},componentDidMount:function componentDidMount(){_logStore2.default.on("change",this.showNotification)},componentWillUnmount:function componentWillUnmount(){_logStore2.default.removeListener("change",this.showNotification)},refreshPluginNotices:function refreshPluginNotices(){var site=this.props.sites.getSelectedSite();return{errors:_utils2.default.filterNotices(_logStore2.default.getErrors(),site,this.props.pluginSlug),inProgress:_utils2.default.filterNotices(_logStore2.default.getInProgress(),site,this.props.pluginSlug),completed:_utils2.default.filterNotices(_logStore2.default.getCompleted(),site,this.props.pluginSlug)}},showNotification:function showNotification(){var logNotices=this.refreshPluginNotices();this.setState({notices:logNotices});if(logNotices.inProgress.length>0){_notices2.default.info(this.getMessage(logNotices.inProgress,this.inProgressMessage,"inProgress"));return}if(logNotices.completed.length>0&&logNotices.errors.length>0){_notices2.default.warning(this.erroredAndCompletedMessage(logNotices),{onRemoveCallback:_actions2.default.removePluginsNotices.bind(this,logNotices.completed.concat(logNotices.errors))})}else if(logNotices.errors.length>0){_notices2.default.error(this.getMessage(logNotices.errors,this.errorMessage,"errors"),{button:this.getErrorButton(logNotices.errors),href:this.getErrorHref(logNotices.errors),onRemoveCallback:_actions2.default.removePluginsNotices.bind(this,logNotices.errors)
})}else if(logNotices.completed.length>0){var sampleLog=logNotices.completed[0].status==="inProgress"?logNotices.completed[0]:logNotices.completed[logNotices.completed.length-1],showDismiss=!(sampleLog.plugin.wp_admin_settings_page_url&&"ACTIVATE_PLUGIN"===sampleLog.action);_notices2.default.success(this.getMessage(logNotices.completed,this.successMessage,"completed"),{button:this.getSuccessButton(logNotices.completed),href:this.getSuccessHref(logNotices.completed),onRemoveCallback:_actions2.default.removePluginsNotices.bind(this,logNotices.completed),showDismiss:showDismiss})}},getMessage:function getMessage(logs,messageFunction,typeFilter){var sampleLog=logs[0].status==="inProgress"?logs[0]:logs[logs.length-1],translateArg=getTranslateArg(logs,sampleLog,typeFilter),combination=getCombination(translateArg);return messageFunction(sampleLog.action,combination,translateArg,sampleLog)},successMessage:function successMessage(action,combination,translateArg){switch(action){case"INSTALL_PLUGIN":if(translateArg.isMultiSite){switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Successfully installed %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Successfully installed %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Successfully installed %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Successfully installed %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}}switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Successfully installed and activated %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Successfully installed and activated %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Successfully installed and activated %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Successfully installed and activated %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"REMOVE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Successfully removed %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Successfully removed %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Successfully removed %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Successfully removed %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"UPDATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Successfully updated %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Successfully updated %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Successfully updated %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Successfully updated %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"ACTIVATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Successfully activated %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Successfully activated %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Successfully activated %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Successfully activated %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"DEACTIVATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Successfully deactivated %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Successfully deactivated %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Successfully deactivated %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Successfully deactivated %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"ENABLE_AUTOUPDATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Successfully enabled autoupdates for %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Successfully enabled autoupdates for %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Successfully enabled autoupdates for %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Successfully enabled autoupdates for %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"DISABLE_AUTOUPDATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Successfully disabled autoupdates for %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Successfully disabled autoupdates for %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Successfully disabled autoupdates for %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Successfully disabled autoupdates for %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break}},inProgressMessage:function inProgressMessage(action,combination,translateArg){switch(action){case"INSTALL_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Installing %(plugin)s on %(site)s.",{context:"In progress message",args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Installing %(numberOfPlugins)d plugins on %(site)s.",{context:"In progress message",args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Installing %(plugin)s on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Installing %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg})}break;case"REMOVE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Removing %(plugin)s on %(site)s.",{args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Removing %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Removing %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Removing %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"UPDATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Updating %(plugin)s on %(site)s.",{context:"In progress message",args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Updating %(numberOfPlugins)d plugins on %(site)s.",{context:"In progress message",args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Updating %(plugin)s on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Updating %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg})}break;case"ACTIVATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Activating %(plugin)s on %(site)s.",{context:"In progress message",args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Activating %(numberOfPlugins)d plugins on %(site)s.",{context:"In progress message",args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Activating %(plugin)s on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Activating %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg})}break;case"DEACTIVATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Deactivating %(plugin)s on %(site)s",{context:"In progress message",args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Deactivating %(numberOfPlugins)d plugins on %(site)s.",{context:"In progress message",args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Deactivating %(plugin)s on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Deactivating %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg})}break;case"ENABLE_AUTOUPDATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Enabling autoupdates for %(plugin)s on %(site)s.",{context:"In progress message",args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Enabling autoupdates for %(numberOfPlugins)d plugins on %(site)s.",{context:"In progress message",args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Enabling autoupdates for %(plugin)s on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Enabling autoupdates for %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg})}break;case"DISABLE_AUTOUPDATE_PLUGIN":switch(combination){case"1 site 1 plugin":return _i18nCalypso2.default.translate("Disabling autoupdates for %(plugin)s on %(site)s.",{context:"In progress message",args:translateArg});case"1 site n plugins":return _i18nCalypso2.default.translate("Disabling autoupdates for %(numberOfPlugins)d plugins on %(site)s.",{context:"In progress message",args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("Disabling autoupdates for %(plugin)s on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("Disabling autoupdates for %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{context:"In progress message",args:translateArg})}break}},erroredAndCompletedMessage:function erroredAndCompletedMessage(logNotices){var completedMessage=this.getMessage(logNotices.completed,this.successMessage,"completed"),errorMessage=this.getMessage(logNotices.errors,this.errorMessage,"errors");return" "+completedMessage+" "+errorMessage},errorMessage:function errorMessage(action,combination,translateArg,sampleLog){if(combination==="1 site 1 plugin"){return this.singleErrorMessage(action,translateArg,sampleLog)}switch(action){case"INSTALL_PLUGIN":switch(combination){case"1 site n plugins":return _i18nCalypso2.default.translate("There were errors installing %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("There were errors installing %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("There were errors installing %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"REMOVE_PLUGIN":switch(combination){case"1 site n plugins":return _i18nCalypso2.default.translate("There were errors removing %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("There were errors removing %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("There were errors removing %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"UPDATE_PLUGIN":switch(combination){case"1 site n plugins":return _i18nCalypso2.default.translate("There were errors updating %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("There were errors updating %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("There were errors updating %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"ACTIVATE_PLUGIN":switch(combination){case"1 site n plugins":return _i18nCalypso2.default.translate("There were errors activating %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("There were errors activating %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("There were errors activating %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"DEACTIVATE_PLUGIN":switch(combination){case"1 site n plugins":return _i18nCalypso2.default.translate("There were errors deactivating %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("There were errors deactivating %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("There were errors deactivating %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"ENABLE_AUTOUPDATE_PLUGIN":switch(combination){case"1 site n plugins":return _i18nCalypso2.default.translate("There were errors enabling autoupdates %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("There were errors enabling autoupdates %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("There were errors enabling autoupdates %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break;case"DISABLE_AUTOUPDATE_PLUGIN":switch(combination){case"1 site n plugins":return _i18nCalypso2.default.translate("There were errors disabling autoupdates %(numberOfPlugins)d plugins on %(site)s.",{args:translateArg});case"n sites 1 plugin":return _i18nCalypso2.default.translate("There were errors disabling autoupdates %(plugin)s on %(numberOfSites)d sites.",{args:translateArg});case"n sites n plugins":return _i18nCalypso2.default.translate("There were errors disabling autoupdates %(numberOfPlugins)d plugins on %(numberOfSites)d sites.",{args:translateArg})}break}},additionalExplanation:function additionalExplanation(error_code){switch(error_code){case"no_package":return _i18nCalypso2.default.translate("Plugin doesn't exist in the plugin repo.");case"resource_not_found":return _i18nCalypso2.default.translate("The site could not be reached.");case"download_failed":return _i18nCalypso2.default.translate("Download failed.");case"plugin_already_installed":return _i18nCalypso2.default.translate("Plugin is already installed.");case"incompatible_archive":return _i18nCalypso2.default.translate("Incompatible Archive. The package could not be installed.");case"empty_archive_pclzip":return _i18nCalypso2.default.translate("Empty archive.");case"disk_full_unzip_file":return _i18nCalypso2.default.translate("Could not copy files. You may have run out of disk space.");case"mkdir_failed_ziparchive":case"mkdir_failed_pclzip":return _i18nCalypso2.default.translate("Could not create directory.");case"copy_failed_pclzip":return _i18nCalypso2.default.translate("Could not copy file.");case"md5_mismatch":return _i18nCalypso2.default.translate("The checksum of the files don't match.");case"bad_request":return _i18nCalypso2.default.translate("Invalid Data provided.");case"fs_unavailable":return _i18nCalypso2.default.translate("Could not access filesystem.");case"fs_error":return _i18nCalypso2.default.translate("Filesystem error.");case"fs_no_root_dir":return _i18nCalypso2.default.translate("Unable to locate WordPress Root directory.");case"fs_no_content_dir":return _i18nCalypso2.default.translate("Unable to locate WordPress Content directory (wp-content).");case"fs_no_plugins_dir":return _i18nCalypso2.default.translate("Unable to locate WordPress Plugin directory.");case"fs_no_folder":return _i18nCalypso2.default.translate("Unable to locate needed folder.");case"no_files":return _i18nCalypso2.default.translate("The package contains no files.");case"folder_exists":return _i18nCalypso2.default.translate("Destination folder already exists.");case"mkdir_failed":return _i18nCalypso2.default.translate("Could not create directory.");case"files_not_writable":return _i18nCalypso2.default.translate("The update cannot be installed because we will be unable to copy some files. This is usually due to inconsistent file permissions.");default:return null}return null},singleErrorMessage:function singleErrorMessage(action,translateArg,sampleLog){var additionalExplanation=this.additionalExplanation(sampleLog.error.error);switch(action){case"INSTALL_PLUGIN":switch(sampleLog.error.error){case"unauthorized_full_access":return _i18nCalypso2.default.translate("Error installing %(plugin)s on %(site)s, remote management is off.",{args:translateArg});default:if(additionalExplanation){translateArg.additionalExplanation=additionalExplanation;return _i18nCalypso2.default.translate("Error installing %(plugin)s on %(site)s. %(additionalExplanation)s",{args:translateArg})}return _i18nCalypso2.default.translate("An error occurred while installing %(plugin)s on %(site)s.",{args:translateArg})}break;case"REMOVE_PLUGIN":switch(sampleLog.error.error){case"unauthorized_full_access":return _i18nCalypso2.default.translate("Error removing %(plugin)s on %(site)s, remote management is off.",{args:translateArg});default:return _i18nCalypso2.default.translate("An error occurred while removing %(plugin)s on %(site)s.",{args:translateArg})}break;case"UPDATE_PLUGIN":switch(sampleLog.error.error){case"unauthorized_full_access":return _i18nCalypso2.default.translate("Error updating %(plugin)s on %(site)s, remote management is off.",{args:translateArg});default:if(additionalExplanation){translateArg.additionalExplanation=additionalExplanation;return _i18nCalypso2.default.translate("Error updating %(plugin)s on %(site)s. %(additionalExplanation)s",{args:translateArg})}return _i18nCalypso2.default.translate("An error occurred while updating %(plugin)s on %(site)s.",{args:translateArg})}break;case"ACTIVATE_PLUGIN":switch(sampleLog.error.error){case"unauthorized_full_access":return _i18nCalypso2.default.translate("Error activating %(plugin)s on %(site)s, remote management is off.",{args:translateArg});default:return _i18nCalypso2.default.translate("An error occurred while activating %(plugin)s on %(site)s.",{args:translateArg})}break;case"DEACTIVATE_PLUGIN":switch(sampleLog.error.error){case"unauthorized_full_access":return _i18nCalypso2.default.translate("Error deactivating %(plugin)s on %(site)s, remote management is off.",{args:translateArg});default:return _i18nCalypso2.default.translate("An error occurred while deactivating %(plugin)s on %(site)s.",{args:translateArg})}break;case"ENABLE_AUTOUPDATE_PLUGIN":switch(sampleLog.error.error){case"unauthorized_full_access":return _i18nCalypso2.default.translate("Error enabling autoupdates for %(plugin)s on %(site)s, remote management is off.",{args:translateArg});default:return _i18nCalypso2.default.translate("An error occurred while enabling autoupdates for %(plugin)s on %(site)s.",{args:translateArg})}break;case"DISABLE_AUTOUPDATE_PLUGIN":switch(sampleLog.error.error){case"unauthorized_full_access":return _i18nCalypso2.default.translate("Error disabling autoupdates for %(plugin)s on %(site)s, remote management is off.",{args:translateArg});default:return _i18nCalypso2.default.translate("An error occurred while disabling autoupdates for %(plugin)s on %(site)s.",{args:translateArg})}break}},getErrorButton:function getErrorButton(log){if(log.length>1){return null}log=log.length?log[0]:log;if(log.error.error==="unauthorized_full_access"){return _i18nCalypso2.default.translate("Turn On.")}return null},getErrorHref:function getErrorHref(log){if(log.length>1){return null}log=log.length?log[0]:log;if(log.error.error!=="unauthorized_full_access"){return null}var remoteManagementUrl=log.site.options.admin_url+"admin.php?page=jetpack&configure=json-api";if((0,_versionCompare2.default)(log.site.options.jetpack_version,3.4)>=0){remoteManagementUrl=log.site.options.admin_url+"admin.php?page=jetpack&configure=manage"}return remoteManagementUrl},getSuccessButton:function getSuccessButton(log){if(log.length>1){return null}log=log.length?log[0]:log;if(log.action!=="ACTIVATE_PLUGIN"||!log.plugin.wp_admin_settings_page_url){return null}return _i18nCalypso2.default.translate("Setup")},getSuccessHref:function getSuccessHref(log){if(log.length>1){return null}log=log.length?log[0]:log;if(log.action!=="ACTIVATE_PLUGIN"&&!log.plugin.wp_admin_settings_page_url){return null}return log.plugin.wp_admin_settings_page_url}}},1938:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Plugin=undefined;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _noop=__webpack_require__(36);var _noop2=_interopRequireDefault(_noop);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var hasHttpProtocol=function hasHttpProtocol(url){return/^https?:\/\//.test(url)};var Plugin=exports.Plugin=_react2.default.createClass({displayName:"Plugin",getInitialState:function getInitialState(){return{isUnderMouse:false}},startHover:function startHover(){this.setState({isUnderMouse:true})},stopHover:function stopHover(){this.setState({isUnderMouse:false})},render:function render(){var _props=this.props;var category=_props.category;var description=_props.description;var _props$icon=_props.icon;var icon=_props$icon===undefined?"plugins":_props$icon;var _props$isActive=_props.isActive;var isActive=_props$isActive===undefined?true:_props$isActive;var name=_props.name;var _props$onClick=_props.onClick;var onClick=_props$onClick===undefined?_noop2.default:_props$onClick;var descriptionLink=_props.descriptionLink;var isUnderMouse=this.state.isUnderMouse;var isExternalLink=hasHttpProtocol(descriptionLink);var target=isExternalLink?"_blank":null;var linkIcon=isExternalLink&&isUnderMouse?"external":icon;return _react2.default.createElement("div",{className:"wpcom-plugins__plugin-item"},_react2.default.createElement("a",{href:descriptionLink,onClick:onClick,onMouseEnter:this.startHover,onMouseLeave:this.stopHover,target:target},_react2.default.createElement("div",{className:"wpcom-plugins__plugin-icon"},_react2.default.createElement(_gridicon2.default,{icon:linkIcon}),isActive&&_react2.default.createElement(_gridicon2.default,{icon:"checkmark-circle",size:18})),_react2.default.createElement("div",{className:"wpcom-plugins__plugin-title"},name),_react2.default.createElement("div",{className:"wpcom-plugins__plugin-category"},category),_react2.default.createElement("p",{className:"wpcom-plugins__plugin-description"},description)))}});Plugin.propTypes={category:_react.PropTypes.string.isRequired,description:_react.PropTypes.string.isRequired,icon:_react.PropTypes.string,isActive:_react.PropTypes.bool,name:_react.PropTypes.string.isRequired,onClick:_react.PropTypes.func,descriptionLink:_react.PropTypes.string.isRequired};exports.default=Plugin},1939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _i18nCalypso=__webpack_require__(13);var _i18nCalypso2=_interopRequireDefault(_i18nCalypso);var _sitesList=__webpack_require__(55);var _sitesList2=_interopRequireDefault(_sitesList);var _config=__webpack_require__(10);var _config2=_interopRequireDefault(_config);var _notices=__webpack_require__(71);var _notices2=_interopRequireDefault(_notices);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var sites=(0,_sitesList2.default)();var hasErrorCondition=function hasErrorCondition(site,type){var errorConditions={notMinimumJetpackVersion:site&&!site.hasMinimumJetpackVersion&&site.jetpack,notRightsToManagePlugins:sites.initialized&&!sites.canManageSelectedOrAll()};return errorConditions[type]};var getWpcomPluginPageError=function getWpcomPluginPageError(){return{title:_i18nCalypso2.default.translate("Oops! Not supported"),line:_i18nCalypso2.default.translate("This site doesn't support installing plugins. Switch to a self-hosted site to install and manage plugins"),illustration:"/calypso/images/drake/drake-whoops.svg"}};var hasRestrictedAccess=function hasRestrictedAccess(site){site=site||sites.getSelectedSite();if(hasErrorCondition(site,"notRightsToManagePlugins")){return{title:_i18nCalypso2.default.translate("Not Available"),line:_i18nCalypso2.default.translate("The page you requested could not be found"),illustration:"/calypso/images/drake/drake-404.svg",fullWidth:true}}else if(hasErrorCondition(site,"notMinimumJetpackVersion")){_notices2.default.warning(_i18nCalypso2.default.translate("Jetpack %(version)s is required to take full advantage of plugin management in %(site)s.",{args:{version:(0,_config2.default)("jetpack_min_version"),site:site.domain}}),{button:_i18nCalypso2.default.translate("Update now"),href:site.options.admin_url+"plugins.php?plugin_status=upgrade",dismissID:"allSitesNotOnMinJetpackVersion"+(0,_config2.default)("jetpack_min_version")+"-"+site.ID})}if(!sites.hasSiteWithPlugins()){return getWpcomPluginPageError()}};exports.default={hasRestrictedAccess:hasRestrictedAccess};module.exports=exports["default"]},1940:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1),classNames=__webpack_require__(11);var CompactToggle=__webpack_require__(1795),InfoPopover=__webpack_require__(1532);module.exports=React.createClass({displayName:"PluginAction",handleAction:function handleAction(event){if(!this.props.disabledInfo){this.props.action()}else{this.refs.infoPopover._onClick(event)}},renderLabel:function renderLabel(){if(this.props.label){return React.createElement("label",{className:"plugin-action__label",ref:"disabledInfoLabel",onClick:this.handleAction,htmlFor:this.props.htmlFor,key:"renderDisabledInfoLabel"},this.props.label)}return null},renderDisabledInfo:function renderDisabledInfo(){return[React.createElement(InfoPopover,{key:"renderDisabledInfoPopOver",className:"plugin-action__disabled-info",position:"bottom left",popoverName:"Plugin Action Disabled"+this.props.label,gaEventCategory:"Plugins",ref:"infoPopover",ignoreContext:this.refs&&this.refs.disabledInfoLabel},this.props.disabledInfo),this.renderLabel()]},renderToggle:function renderToggle(){return React.createElement(CompactToggle,{onChange:this.props.action,checked:this.props.status,toggling:this.props.inProgress,disabled:this.props.disabled,id:this.props.htmlFor},this.renderLabel())},renderChildren:function renderChildren(){return React.createElement("div",null,React.createElement("span",{className:"plugin-action__children"},this.props.children),this.renderLabel())},renderInner:function renderInner(){if(this.props.disabledInfo){return this.renderDisabledInfo()}if(0<React.Children.count(this.props.children)){return this.renderChildren()}return this.renderToggle()},render:function render(){return React.createElement("div",{className:classNames("plugin-action",{"is-disabled":this.props.disabled,"has-disabled-info":!!this.props.disabledInfo},this.props.className)},this.renderInner())}})},1941:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1),classNames=__webpack_require__(11);var analytics=__webpack_require__(16),PluginsActions=__webpack_require__(1541),Button=__webpack_require__(68),Gridicon=__webpack_require__(28),InfoPopover=__webpack_require__(1532),ExternalLink=__webpack_require__(353),utils=__webpack_require__(186);module.exports=React.createClass({displayName:"PluginInstallButton",installAction:function installAction(){if(this.props.isInstalling){return}PluginsActions.removePluginsNotices(this.props.notices.completed.concat(this.props.notices.errors));PluginsActions.installPlugin(this.props.selectedSite,this.props.plugin);if(this.props.isEmbed){analytics.ga.recordEvent("Plugins","Install with no selected site","Plugin Name",this.props.plugin.slug);analytics.tracks.recordEvent("calypso_plugin_install_click_from_sites_list",{site:this.props.selectedSite,plugin:this.props.plugin.slug})}else{analytics.ga.recordEvent("Plugins","Install on selected Site","Plugin Name",this.props.plugin.slug);analytics.tracks.recordEvent("calypso_plugin_install_click_from_plugin_info",{site:this.props.selectedSite,plugin:this.props.plugin.slug})}},updateJetpackAction:function updateJetpackAction(){analytics.ga.recordEvent("Plugins","Update jetpack","Plugin Name",this.props.plugin.slug);analytics.tracks.recordEvent("calypso_plugin_update_jetpack",{site:this.props.selectedSite,plugin:this.props.plugin.slug})},getDisabledInfo:function getDisabledInfo(){var _this=this;if(!this.props.selectedSite){return null}if(this.props.selectedSite.options.is_multi_network){return this.translate("%(site)s is part of a multi-network installation, which is not currently supported.",{args:{site:this.props.selectedSite.title}})}if(!utils.isMainNetworkSite(this.props.selectedSite)){return this.translate("Only the main site on a multi-site installation can install plugins.",{args:{site:this.props.selectedSite.title}})}if(!this.props.selectedSite.canUpdateFiles&&this.props.selectedSite.options.file_mod_disabled){var reasons=utils.getSiteFileModDisableReason(this.props.selectedSite,"modifyFiles");var html=[];if(reasons.length>1){html.push(React.createElement("p",{key:"reason-shell"},this.translate("Plugin install is not available for %(site)s:",{args:{site:this.props.selectedSite.title}})));var list=reasons.map(function(reason,i){return React.createElement("li",{key:"reason-i"+i+"-"+_this.props.selectedSite.ID},reason)});html.push(React.createElement("ul",{className:"plugin-action__disabled-info-list",key:"reason-shell-list"},list))}else{html.push(React.createElement("p",{key:"reason-shell"},this.translate("Plugin install is not available for %(site)s. %(reason)s",{args:{site:this.props.selectedSite.title,reason:reasons[0]}})))}html.push(React.createElement(ExternalLink,{key:"external-link",onClick:analytics.ga.recordEvent.bind(this,"Plugins","Clicked How do I fix disabled plugin installs"),href:"https://jetpack.me/support/site-management/#file-update-disabled"},this.translate("How do I fix this?")));return html}return null},togglePopover:function togglePopover(event){this.refs.infoPopover._onClick(event)},renderUnreachableNotice:function renderUnreachableNotice(){
return React.createElement("div",{className:classNames({"plugin-install-button__install":true,embed:this.props.isEmbed})},React.createElement("span",{onClick:this.togglePopover,ref:"disabledInfoLabel",className:"plugin-install-button__warning"},this.translate("Site unreachable")),React.createElement(InfoPopover,{position:"bottom left",popoverName:"Plugin Action Disabled Install",gaEventCategory:"Plugins",ref:"infoPopover",ignoreContext:this.refs&&this.refs.disabledInfoLabel},React.createElement("div",null,React.createElement("p",null,this.translate("%(site)s is unresponsive.",{args:{site:this.props.selectedSite.title}})),React.createElement(ExternalLink,{key:"external-link",onClick:analytics.ga.recordEvent.bind(this,"Plugins","Clicked How do I fix disabled plugin installs unresponsive site."),href:"http://jetpack.me/support/debug/?url="+this.props.selectedSite.URL},this.translate("Debug site!")))))},renderDisabledNotice:function renderDisabledNotice(){if(!this.props.selectedSite.canUpdateFiles){if(!this.props.selectedSite.hasMinimumJetpackVersion){return React.createElement("div",{className:classNames({"plugin-install-button__install":true,embed:this.props.isEmbed})},React.createElement("span",{className:"plugin-install-button__warning"},this.translate("Jetpack 3.7 is required")),React.createElement(Button,{compact:true,onclick:this.updateJetpackAction,href:this.props.selectedSite.options.admin_url+"plugins.php?plugin_status=upgrade"},this.translate("update",{context:"verb, update plugin button label"})))}if(this.getDisabledInfo()){return React.createElement("div",{className:classNames({"plugin-install-button__install":true,embed:this.props.isEmbed})},React.createElement("span",{onClick:this.togglePopover,ref:"disabledInfoLabel",className:"plugin-install-button__warning"},this.translate("Install Disabled")),React.createElement(InfoPopover,{position:"bottom left",popoverName:"Plugin Action Disabled Install",gaEventCategory:"Plugins",ref:"infoPopover",ignoreContext:this.refs&&this.refs.disabledInfoLabel},this.getDisabledInfo()))}return null}},renderButton:function renderButton(){var label=this.props.isInstalling?this.translate("Installing…"):this.translate("Install");if(this.props.isEmbed){return React.createElement("span",{className:"plugin-install-button__install embed"},this.props.isInstalling?React.createElement("span",{className:"plugin-install-button__installing"},label):React.createElement(Button,{compact:true,onClick:this.installAction},React.createElement(Gridicon,{key:"plus-icon",icon:"plus-small",size:18}),React.createElement(Gridicon,{icon:"plugins",size:18})," ",this.translate("Install")))}return React.createElement("span",{className:"plugin-install-button__install"},React.createElement("a",{onClick:this.installAction,className:"button is-primary",disabled:this.props.isInstalling},label))},render:function render(){if(this.props.selectedSite.unreachable){return this.renderUnreachableNotice()}if(!this.props.selectedSite.canUpdateFiles){return this.renderDisabledNotice()}return this.renderButton()}})},1942:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _uniqBy=__webpack_require__(706);var _uniqBy2=_interopRequireDefault(_uniqBy);var _i18nCalypso=__webpack_require__(13);var _i18nCalypso2=_interopRequireDefault(_i18nCalypso);var _isEqual=__webpack_require__(92);var _isEqual2=_interopRequireDefault(_isEqual);var _compact=__webpack_require__(1450);var _compact2=_interopRequireDefault(_compact);var _pluginIcon=__webpack_require__(1661);var _pluginIcon2=_interopRequireDefault(_pluginIcon);var _actions=__webpack_require__(1541);var _actions2=_interopRequireDefault(_actions);var _pluginActivateToggle=__webpack_require__(1817);var _pluginActivateToggle2=_interopRequireDefault(_pluginActivateToggle);var _pluginAutoupdateToggle=__webpack_require__(1818);var _pluginAutoupdateToggle2=_interopRequireDefault(_pluginAutoupdateToggle);var _count=__webpack_require__(673);var _count2=_interopRequireDefault(_count);var _notice=__webpack_require__(79);var _notice2=_interopRequireDefault(_notice);var _notices=__webpack_require__(1896);var _notices2=_interopRequireDefault(_notices);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function checkPropsChange(nextProps,propArr){var i=void 0;for(i=0;i<propArr.length;i++){var prop=propArr[i];if(!(0,_isEqual2.default)(nextProps[prop],this.props[prop])){return true}}return false}module.exports=_react2.default.createClass({displayName:"PluginItem",shouldComponentUpdate:function shouldComponentUpdate(nextProps,nextState){var propsToCheck=["plugin","sites","selectedSite","isMock","isSelectable","isSelected"];if(checkPropsChange.call(this,nextProps,propsToCheck)){return true}if(this.props.hasAllNoManageSites!==nextProps.hasAllNoManageSites){return true}if(this.props.notices&&_notices2.default.shouldComponentUpdateNotices(this.props.notices,nextProps.notices)){return true}if(this.state.clicked!==nextState.clicked){return true}return false},getInitialState:function getInitialState(){return{clicked:false}},recordEvent:function recordEvent(eventAction){_analytics2.default.ga.recordEvent("Plugins",eventAction,"Plugin Name",this.props.plugin.slug)},ago:function ago(date){return _i18nCalypso2.default.moment.utc(date,"YYYY-MM-DD hh:mma").fromNow()},hasUpdate:function hasUpdate(){return this.props.sites.some(function(site){return site.plugin&&site.plugin.update&&site.canUpdateFiles})},doing:function doing(){var progress=this.props.progress?this.props.progress:[],log=progress[0],uniqLogs=(0,_uniqBy2.default)(progress,function(uniqLog){return uniqLog.site.ID}),translationArgs={args:{count:uniqLogs.length},count:uniqLogs.length};var message=void 0;switch(log&&log.action){case"UPDATE_PLUGIN":message=this.props.selectedSite?_i18nCalypso2.default.translate("Updating",{context:"plugin"}):_i18nCalypso2.default.translate("Updating on %(count)s site","Updating on %(count)s sites",translationArgs);break;case"ACTIVATE_PLUGIN":message=this.props.selectedSite?_i18nCalypso2.default.translate("Activating",{context:"plugin"}):_i18nCalypso2.default.translate("Activating on %(count)s site","Activating on %(count)s sites",translationArgs);break;case"DEACTIVATE_PLUGIN":message=this.props.selectedSite?_i18nCalypso2.default.translate("Deactivating",{context:"plugin"}):_i18nCalypso2.default.translate("Deactivating on %(count)s site","Deactivating on %(count)s sites",translationArgs);break;case"ENABLE_AUTOUPDATE_PLUGIN":message=this.props.selectedSite?_i18nCalypso2.default.translate("Enabling autoupdates"):_i18nCalypso2.default.translate("Enabling autoupdates on %(count)s site","Enabling autoupdates on %(count)s sites",translationArgs);break;case"DISABLE_AUTOUPDATE_PLUGIN":message=this.props.selectedSite?_i18nCalypso2.default.translate("Disabling autoupdates"):_i18nCalypso2.default.translate("Disabling autoupdates on %(count)s site","Disabling autoupdates on %(count)s sites",translationArgs);break;case"REMOVE_PLUGIN":message=this.props.selectedSite?_i18nCalypso2.default.translate("Removing"):_i18nCalypso2.default.translate("Removing from %(count)s site","Removing from %(count)s sites",translationArgs)}return message},renderUpdateFlag:function renderUpdateFlag(){var recentlyUpdated=this.props.sites.some(function(site){return site.plugin&&site.plugin.update&&site.plugin.update.recentlyUpdated});if(recentlyUpdated){return _react2.default.createElement(_notice2.default,{isCompact:true,icon:"checkmark",status:"is-success",inline:true,text:this.translate("Updated")})}return _react2.default.createElement(_notice2.default,{isCompact:true,icon:"sync",status:"is-warning",inline:true,text:this.translate("A newer version is available")})},pluginMeta:function pluginMeta(pluginData){if(this.props.progress.length){var message=this.doing();if(message){return _react2.default.createElement(_notice2.default,{isCompact:true,status:"is-info",text:message,inline:true})}}if(this.hasUpdate()){return this.renderUpdateFlag()}if(pluginData.last_updated){return _react2.default.createElement("div",{className:"plugin-item__last_updated"},this.translate("Last updated %(ago)s",{args:{ago:this.ago(pluginData.last_updated)}}))}return null},clickNoManageItem:function clickNoManageItem(){this.setState({clicked:true})},getNoManageWarning:function getNoManageWarning(){return _react2.default.createElement(_notice2.default,{text:_i18nCalypso2.default.translate("Jetpack Manage is disabled for all the sites where this plugin is installed"),status:"is-error",showDismiss:false})},renderActions:function renderActions(){return _react2.default.createElement("div",{className:"plugin-item__actions"},_react2.default.createElement(_pluginActivateToggle2.default,{isMock:this.props.isMock,plugin:this.props.plugin,disabled:this.props.isSelectable,site:this.props.selectedSite,notices:this.props.notices}),_react2.default.createElement(_pluginAutoupdateToggle2.default,{isMock:this.props.isMock,plugin:this.props.plugin,disabled:this.props.isSelectable,site:this.props.selectedSite,notices:this.props.notices,wporg:!!this.props.plugin.wporg}))},renderSiteCount:function renderSiteCount(){return _react2.default.createElement("div",{className:"plugin-item__count"},this.translate("Sites {{count/}}",{components:{count:_react2.default.createElement(_count2.default,{count:this.props.sites.length})}}))},renderPlaceholder:function renderPlaceholder(){return _react2.default.createElement(_compact2.default,{className:"plugin-item is-placeholder "},_react2.default.createElement(_pluginIcon2.default,{isPlaceholder:true}),_react2.default.createElement("div",{className:"plugin-item__title is-placeholder"}),_react2.default.createElement("div",{className:"plugin-item__meta is-placeholder"}))},onItemClick:function onItemClick(event){if(this.props.isSelectable){event.preventDefault();this.props.onClick(this)}},render:function render(){var plugin=this.props.plugin;var errors=this.props.errors?this.props.errors:[];if(!plugin){return this.renderPlaceholder()}var numberOfWarningIcons=0;var errorNotices=errors.map(function(error,index){var dismissErrorNotice=function dismissErrorNotice(){_actions2.default.removePluginsNotices([error])};return _react2.default.createElement(_notice2.default,{type:"message",status:"is-error",text:_notices2.default.getMessage([error],_notices2.default.errorMessage.bind(_notices2.default)),button:_notices2.default.getErrorButton(error),href:_notices2.default.getErrorHref(error),inline:true,onDismissClick:dismissErrorNotice,key:"notice-"+index})});if(this.props.hasNoManageSite){numberOfWarningIcons++}if(this.hasUpdate()){numberOfWarningIcons++}var pluginTitle=_react2.default.createElement("div",{className:"plugin-item__title","data-warnings":numberOfWarningIcons},plugin.name);if(this.props.hasAllNoManageSites){var pluginItemClasses=(0,_classnames2.default)("plugin-item",{disabled:this.props.hasAllNoManageSites});return _react2.default.createElement("div",{className:"plugin-item__wrapper"},_react2.default.createElement(_compact2.default,{className:pluginItemClasses,onClick:this.clickNoManageItem},_react2.default.createElement("span",{className:"plugin-item__disabled"},_react2.default.createElement(_pluginIcon2.default,{image:plugin.icon}),pluginTitle,this.pluginMeta(plugin)),this.props.selectedSite?null:this.renderSiteCount()),_react2.default.createElement("div",null,this.state.clicked?this.getNoManageWarning():null))}return _react2.default.createElement("div",null,_react2.default.createElement(_compact2.default,{className:"plugin-item"},!this.props.isSelectable?null:_react2.default.createElement("input",{className:"plugin-item__checkbox",id:plugin.slug,type:"checkbox",onClick:this.props.onClick,checked:this.props.isSelected,readOnly:true}),_react2.default.createElement("a",{href:this.props.pluginLink,onClick:this.onItemClick,className:"plugin-item__link"},_react2.default.createElement(_pluginIcon2.default,{image:plugin.icon}),pluginTitle,this.pluginMeta(plugin)),this.props.selectedSite?this.renderActions():this.renderSiteCount()),errorNotices)}})},1943:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);var _accept=__webpack_require__(667);var _accept2=_interopRequireDefault(_accept);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);var _logStore=__webpack_require__(1570);var _logStore2=_interopRequireDefault(_logStore);var _pluginAction=__webpack_require__(1940);var _pluginAction2=_interopRequireDefault(_pluginAction);var _actions=__webpack_require__(1541);var _actions2=_interopRequireDefault(_actions);var _externalLink=__webpack_require__(353);var _externalLink2=_interopRequireDefault(_externalLink);var _utils=__webpack_require__(186);var _utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_react2.default.createClass({displayName:"PluginRemoveButton",removeAction:function removeAction(){(0,_accept2.default)(this.translate("Are you sure you want to remove {{strong}}%(pluginName)s{{/strong}} from %(siteName)s? {{br /}} {{em}}This will deactivate the plugin and delete all associated files and data.{{/em}}",{components:{em:_react2.default.createElement("em",null),br:_react2.default.createElement("br",null),strong:_react2.default.createElement("strong",null)},args:{pluginName:this.props.plugin.name,siteName:this.props.site.title}}),this.processRemovalConfirmation,this.translate("Remove"))},processRemovalConfirmation:function processRemovalConfirmation(accepted){if(accepted){_actions2.default.removePluginsNotices(this.props.notices.completed.concat(this.props.notices.errors));_actions2.default.removePlugin(this.props.site,this.props.plugin);if(this.props.isEmbed){_analytics2.default.ga.recordEvent("Plugins","Remove plugin with no selected site","Plugin Name",this.props.plugin.slug);_analytics2.default.tracks.recordEvent("calypso_plugin_remove_click_from_sites_list",{site:this.props.site,plugin:this.props.plugin.slug})}else{_analytics2.default.ga.recordEvent("Plugins","Remove plugin on selected Site","Plugin Name",this.props.plugin.slug);_analytics2.default.tracks.recordEvent("calypso_plugin_remove_click_from_plugin_info",{site:this.props.site,plugin:this.props.plugin.slug})}}},getDisabledInfo:function getDisabledInfo(){var _this=this;if(!this.props.site){return null}if(!this.props.site.hasMinimumJetpackVersion){return this.translate("%(site)s is not running an up to date version of Jetpack",{args:{site:this.props.site.title}})}if(this.props.site.options.is_multi_network){return this.translate("%(site)s is part of a multi-network installation, which is not currently supported.",{args:{site:this.props.site.title}})}if(!_utils2.default.isMainNetworkSite(this.props.site)){return this.translate("%(pluginName)s cannot be removed because %(site)s is not the main site of the multi-site installation.",{args:{site:this.props.site.title,pluginName:this.props.plugin.name}})}if(!this.props.site.canUpdateFiles&&this.props.site.options.file_mod_disabled){var reasons=_utils2.default.getSiteFileModDisableReason(this.props.site,"modifyFiles");var html=[];if(reasons.length>1){html.push(_react2.default.createElement("p",{key:"reason-shell"},this.translate("%(pluginName)s cannot be removed:",{args:{pluginName:this.props.plugin.name}})));var list=reasons.map(function(reason,i){return _react2.default.createElement("li",{key:"reason-i"+i+"-"+_this.props.site.ID},reason)});html.push(_react2.default.createElement("ul",{className:"plugin-action__disabled-info-list",key:"reason-shell-list"},list))}else{html.push(_react2.default.createElement("p",{key:"reason-shell"},this.translate("%(pluginName)s cannot be removed. %(reason)s",{args:{pluginName:this.props.plugin.name,reason:reasons[0]}})))}html.push(_react2.default.createElement(_externalLink2.default,{key:"external-link",onClick:_analytics2.default.ga.recordEvent.bind(this,"Plugins","Clicked How do I fix diabled plugin removal."),href:"https://jetpack.me/support/site-management/#file-update-disabled"},this.translate("How do I fix this?")));return html}return null},renderButton:function renderButton(){var inProgress=_logStore2.default.isInProgressAction(this.props.site.ID,this.props.plugin.slug,["REMOVE_PLUGIN"]);var getDisabledInfo=this.getDisabledInfo();var label=getDisabledInfo?this.translate("Removal Disabled",{context:'this goes next to an icon that displays if site is in a state where it can\'t modify has "Removal Disabled" '}):this.translate("Remove",{context:"Verb. Presented to user as a label for a button."});if(inProgress){return _react2.default.createElement("span",{className:"plugin-action plugin-remove-button__remove"},this.translate("Removing…"))}return _react2.default.createElement(_pluginAction2.default,{label:label,htmlFor:"remove-plugin-"+this.props.site.ID,action:this.removeAction,disabledInfo:getDisabledInfo,className:"plugin-remove-button__remove-link"},_react2.default.createElement("a",{onClick:this.removeAction,className:"plugin-remove-button__remove-icon"},_react2.default.createElement(_gridicon2.default,{icon:"trash",size:18})))},render:function render(){if(!this.props.site.jetpack){return null}if(this.props.plugin.slug==="jetpack"){return null}return this.renderButton()}})},1993:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _wporg=__webpack_require__(2138);var _wporg2=_interopRequireDefault(_wporg);var _utils=__webpack_require__(1807);var _utils2=_interopRequireDefault(_utils);var _actionTypes=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=__webpack_require__(4)("calypso:wporg-data:actions");var _fetching={};exports.default={fetchPluginData:function fetchPluginData(pluginSlug){return function(dispatch){if(_fetching[pluginSlug]){return}_fetching[pluginSlug]=true;setTimeout(function(){dispatch({type:_actionTypes.FETCH_WPORG_PLUGIN_DATA,pluginSlug:pluginSlug})},1);_wporg2.default.fetchPluginInformation(pluginSlug,function(error,data){_fetching[pluginSlug]=null;debug("plugin details fetched from .org",pluginSlug,error,data);dispatch({type:_actionTypes.WPORG_PLUGIN_DATA_RECEIVE,pluginSlug:pluginSlug,data:data?_utils2.default.normalizePluginData({detailsFetched:Date.now()},data):null,error:error})})}}};module.exports=exports["default"]},1994:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getPlugin=function getPlugin(state,pluginSlug){if(!state||!state[pluginSlug]){return null}return(0,_assign2.default)({},state[pluginSlug])};var isFetching=function isFetching(state,pluginSlug){if(typeof state[pluginSlug]==="undefined"){return true}return state[pluginSlug]};var isFetched=function isFetched(state,pluginSlug){var plugin=getPlugin(state,pluginSlug);if(!plugin){return false}return!!plugin.fetched};exports.default={getPlugin:getPlugin,isFetching:isFetching,isFetched:isFetched};module.exports=exports["default"]},2017:function(module,exports,__webpack_require__){var baseCastPath=__webpack_require__(200),isIndex=__webpack_require__(129),isKey=__webpack_require__(163),last=__webpack_require__(252),parent=__webpack_require__(373);var arrayProto=Array.prototype;var splice=arrayProto.splice;function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(lastIndex==length||index!=previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else if(!isKey(index,array)){var path=baseCastPath(index),object=parent(array,path);if(object!=null){delete object[last(path)]}}else{delete array[index]}}}return array}module.exports=basePullAt},2077:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);module.exports=React.createClass({displayName:"Rating",getDefaultProps:function getDefaultProps(){return{rating:0}},propTypes:{rating:React.PropTypes.number,size:React.PropTypes.number},getStars:function getStars(){var i,stars=[],ratingOverTen=Math.ceil(this.props.rating/10),numberOfStars=Math.floor(ratingOverTen/2),hasHalfStar=ratingOverTen/2%1>=.5,starStyles={fontSize:this.props.size?this.props.size+"px":"inherit"};for(i=0;i<numberOfStars;i++){stars.push(React.createElement("span",{key:"star_"+i,className:"noticon noticon-rating-full",style:starStyles}))}if(hasHalfStar){stars.push(React.createElement("span",{key:"halfstar",className:"noticon noticon-rating-half",style:starStyles}))}while(stars.length<5){stars.push(React.createElement("span",{key:"empty_"+stars.length,className:"noticon noticon-rating-empty",style:starStyles}))}return stars},render:function render(){var ratingStyles={width:this.props.size?this.props.size*5+"px":"100%"};return React.createElement("div",{className:"rating",style:ratingStyles},this.getStars())}})},2100:function(module,exports,__webpack_require__){"use strict";var debug=__webpack_require__(4)("calypso:wporg-data:actions");var Dispatcher=__webpack_require__(38),wporg=__webpack_require__(2138),debounce=__webpack_require__(343),utils=__webpack_require__(1807);var _LIST_DEFAULT_SIZE=24,_DEFAULT_FIRST_PAGE=0;var _fetchingLists={},_currentSearchTerm=null,_lastFetchedPagePerCategory={},_totalPagesPerCategory={};var PluginsDataActions={fetchPluginsList:debounce(function(category,page,searchTerm){_lastFetchedPagePerCategory[category]=_lastFetchedPagePerCategory[category]||_DEFAULT_FIRST_PAGE;page=page||_DEFAULT_FIRST_PAGE;if(category==="search"&&page===_DEFAULT_FIRST_PAGE){_lastFetchedPagePerCategory[category]=_DEFAULT_FIRST_PAGE-1}if(!this.canFetchList(category,page,searchTerm)){return}_fetchingLists[category]=true;if(searchTerm){searchTerm=searchTerm.trim();_currentSearchTerm=searchTerm}Dispatcher.handleViewAction({type:"FETCH_WPORG_PLUGINS_LIST",action:"FETCH_WPORG_PLUGINS_LIST",page:page,category:category,searchTerm:searchTerm});wporg.fetchPluginsList({pageSize:_LIST_DEFAULT_SIZE,page:page,category:category,search:searchTerm},function(error,data){if(!searchTerm||searchTerm===_currentSearchTerm){debug("plugin list fetched from .org",category,error,data);_fetchingLists[category]=null;_lastFetchedPagePerCategory[category]=page;_totalPagesPerCategory[category]=data.info.pages;Dispatcher.handleServerAction({type:"RECEIVE_WPORG_PLUGINS_LIST",action:"FETCH_WPORG_PLUGINS_LIST",page:page,category:category,data:data?utils.normalizePluginsList(data.plugins):null,error:error})}})},25),fetchNextCategoryPage:function fetchNextCategoryPage(category,searchTerm){var lastPage=_DEFAULT_FIRST_PAGE-1;if(typeof _lastFetchedPagePerCategory[category]!=="undefined"){lastPage=_lastFetchedPagePerCategory[category]}if(!_totalPagesPerCategory[category]||_totalPagesPerCategory[category]>=lastPage+1){return this.fetchPluginsList(category,lastPage+1,searchTerm)}},canFetchList:function canFetchList(category,page,searchTerm){if(searchTerm&&_fetchingLists.search){return false}if(_fetchingLists[category]||page<=_lastFetchedPagePerCategory[category]){return false}return true},reset:function reset(){_fetchingLists={};_lastFetchedPagePerCategory={};_totalPagesPerCategory={}}};module.exports=PluginsDataActions},2138:function(module,exports,__webpack_require__){"use strict";var _debug=__webpack_require__(4);var _debug2=_interopRequireDefault(_debug);var _i18nCalypso=__webpack_require__(13);var _i18nCalypso2=_interopRequireDefault(_i18nCalypso);var _superagent=__webpack_require__(165);var _superagent2=_interopRequireDefault(_superagent);var _find=__webpack_require__(33);var _find2=_interopRequireDefault(_find);var _jsonp=__webpack_require__(2451);var _jsonp2=_interopRequireDefault(_jsonp);var _config=__webpack_require__(10);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=(0,_debug2.default)("wporg");var _WPORG_PLUGINS_LIST="https://api.wordpress.org/plugins/info/1.1/?action=query_plugins",_DEFAULT_PAGE_SIZE=24,_DEFAULT_CATEGORY="all",_DEFAULT_FIRST_PAGE=1;function getWporgLocaleCode(){var currentLocaleCode,wpOrgLocaleCode;currentLocaleCode=_i18nCalypso2.default.getLocaleSlug();wpOrgLocaleCode=(0,_find2.default)((0,_config2.default)("languages"),{langSlug:currentLocaleCode}).wpLocale;if(wpOrgLocaleCode===""){wpOrgLocaleCode=currentLocaleCode}return wpOrgLocaleCode}module.exports={fetchPluginInformation:function fetchPluginInformation(pluginSlug,callback){var baseUrl,query={fields:"icons,banners,compatibility,ratings,-contributors",locale:getWporgLocaleCode()};pluginSlug=pluginSlug.replace(new RegExp(".php$"),"");baseUrl="https://api.wordpress.org/plugins/info/1.0/"+pluginSlug+".jsonp";(0,_jsonp2.default)(baseUrl,query,function(error,data){if(error){debug("error downloading plugin details from .org: %s",error);callback(error,null);return}if(!data||!data.slug){debug("unrecognized format fetching plugin details from .org: %s",data);callback(new Error("Unrecognized response format"),null);return}callback(null,data)})},fetchPluginsList:function fetchPluginsList(options,callback){var payload;options.page=options.page||_DEFAULT_FIRST_PAGE;options.pageSize=options.pageSize||_DEFAULT_PAGE_SIZE;options.category=options.category||_DEFAULT_CATEGORY;options.search=options.search;payload="request[page]="+options.page+"&request[per_page]="+options.pageSize+"&request[fields][icons]=1&request[fields][banners]=1"+"&request[fields][compatibility]=1&request[fields][tested]=0"+"&request[fields][requires]=0&request[fields][sections]=0";if(options.search){payload+="&request[search]="+options.search+"*"}else{payload+="&request[browse]="+options.category}_superagent2.default.post(_WPORG_PLUGINS_LIST).set("Accept","application/json").send(encodeURI(payload)).end(function(err,data){callback(err,data.body)})}}},2164:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultBusinessPlugins=exports.defaultPremiumPlugins=exports.defaultStandardPlugins=undefined;var _i18nCalypso=__webpack_require__(13);var _i18nCalypso2=_interopRequireDefault(_i18nCalypso);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var defaultStandardPlugins=exports.defaultStandardPlugins=[{name:_i18nCalypso2.default.translate("Stats"),descriptionLink:"https://support.wordpress.com/stats/",icon:"stats-alt",category:"Traffic Growth",description:_i18nCalypso2.default.translate("View your site's visits, referrers, and more.")},{name:_i18nCalypso2.default.translate("Essential SEO"),descriptionLink:"http://en.blog.wordpress.com/2013/03/22/seo-on-wordpress-com/",icon:"search",category:"Traffic Growth",description:_i18nCalypso2.default.translate("Search engine optimization and sitemaps.")},{name:_i18nCalypso2.default.translate("Security Scanning"),descriptionLink:"https://support.wordpress.com/security/",icon:"lock",category:"Performance",description:_i18nCalypso2.default.translate("Constant monitoring of your site for threats.")},{name:_i18nCalypso2.default.translate("Advanced Galleries"),descriptionLink:"https://support.wordpress.com/images/gallery/",icon:"image-multiple",category:"Appearance",description:_i18nCalypso2.default.translate("Tiled, mosaic, slideshows, and more.")},{name:_i18nCalypso2.default.translate("Social Media"),descriptionLink:"https://support.wordpress.com/sharing/",icon:"share",category:"Traffic Growth",description:_i18nCalypso2.default.translate("Add social media buttons to your posts and pages.")},{name:_i18nCalypso2.default.translate("Form Builder"),descriptionLink:"https://support.wordpress.com/contact-form/",icon:"mention",category:"Appearance",description:_i18nCalypso2.default.translate("Build contact forms so visitors can get in touch.")},{name:_i18nCalypso2.default.translate("Publicize"),descriptionLink:"https://support.wordpress.com/publicize/",icon:"share",category:"Traffic Growth",description:_i18nCalypso2.default.translate("Automatically share your posts on Facebook, Twitter, Tumblr, and more.")},{name:_i18nCalypso2.default.translate("Email Subscriptions"),descriptionLink:"https://support.wordpress.com/widgets/follow-blog-widget/",icon:"mail",category:"Misc",description:_i18nCalypso2.default.translate("Enables your readers to sign up to receive your posts via email.")},{name:_i18nCalypso2.default.translate("Extended Customizer"),descriptionLink:"https://support.wordpress.com/customizer/",icon:"customize",category:"Appearance",description:_i18nCalypso2.default.translate("Edit colors and backgrounds.")},{name:_i18nCalypso2.default.translate("Extended Widgets"),descriptionLink:"https://support.wordpress.com/category/widgets-sidebars/",icon:"calendar",category:"Appearance",description:_i18nCalypso2.default.translate("Eventbrite, Flickr, Google Calendar, and more.")},{name:_i18nCalypso2.default.translate("Backup & Export"),descriptionLink:"https://support.wordpress.com/export/#backups",icon:"lock",category:"Security",description:_i18nCalypso2.default.translate("24/7 backup of your entire site. Export everything.")},{name:_i18nCalypso2.default.translate("Akismet"),descriptionLink:"http://akismet.com/",icon:"lock",category:"Security",description:_i18nCalypso2.default.translate("Advanced anti-spam security.")},{name:_i18nCalypso2.default.translate("Extended Shortcodes"),descriptionLink:"https://support.wordpress.com/shortcodes/",icon:"pencil",category:"Misc",description:_i18nCalypso2.default.translate("YouTube, Twitter, Instagram, Spotify, and more.")},{name:_i18nCalypso2.default.translate("Importer"),descriptionLink:"https://support.wordpress.com/import/",icon:"cloud-download",category:"Misc",description:_i18nCalypso2.default.translate("Import your blog content from a variety of other blogging platforms.")},{name:_i18nCalypso2.default.translate("Infinite Scroll"),descriptionLink:"https://support.wordpress.com/infinite-scroll/",icon:"posts",category:"Appearance",description:_i18nCalypso2.default.translate("Load more posts when you reach the bottom of a page on your site.")},{name:_i18nCalypso2.default.translate("Related Posts"),descriptionLink:"https://support.wordpress.com/related-posts/",icon:"posts",category:"Appearance",description:_i18nCalypso2.default.translate("Pulls relevant content from your blog to display at the bottom of your posts.")},{name:_i18nCalypso2.default.translate("Polls & Surveys"),descriptionLink:"https://support.wordpress.com/polls/",icon:"stats",category:"Misc",description:_i18nCalypso2.default.translate("Add polls and surveys to your site.")},{name:_i18nCalypso2.default.translate("Markdown"),descriptionLink:"https://support.wordpress.com/markdown/",icon:"pencil",category:"Misc",description:_i18nCalypso2.default.translate("Text formatting using a lightweight markup language.")},{name:_i18nCalypso2.default.translate("Likes"),descriptionLink:"https://support.wordpress.com/likes/",icon:"star",category:"Traffic Growth",description:_i18nCalypso2.default.translate("Engage readers with a Like button on your posts.")},{name:_i18nCalypso2.default.translate("Advanced Comments"),descriptionLink:"https://support.wordpress.com/category/comments/",icon:"comment",category:"Misc",description:_i18nCalypso2.default.translate("Comment likes, user mentions, notifications, and more.")},{name:_i18nCalypso2.default.translate("Photon CDN"),descriptionLink:"https://jetpack.com/support/photon/",icon:"image",category:"Performance",
description:_i18nCalypso2.default.translate("Faster image loading and editing.")}];var defaultPremiumPlugins=exports.defaultPremiumPlugins=[{name:_i18nCalypso2.default.translate("No Advertising"),descriptionLink:"https://support.wordpress.com/no-ads/",icon:"block",category:"Premium",description:_i18nCalypso2.default.translate("Remove WordPress.com ads from your site.")},{name:_i18nCalypso2.default.translate("Custom Design"),descriptionLink:"https://support.wordpress.com/custom-design/",icon:"customize",category:"Premium",description:_i18nCalypso2.default.translate("Customize your blog's look with custom fonts, a CSS editor, and more.")},{name:_i18nCalypso2.default.translate("Video Uploads"),descriptionLink:"https://support.wordpress.com/videopress/",icon:"video-camera",category:"Premium",description:_i18nCalypso2.default.translate("Upload and host your video files on your site with VideoPress.")}];var defaultBusinessPlugins=exports.defaultBusinessPlugins=[{name:_i18nCalypso2.default.translate("Google Analytics"),descriptionLink:"/plans/features/google-analytics/{siteSlug}",icon:"stats",category:"Business",description:_i18nCalypso2.default.translate("Advanced features to complement WordPress.com stats. Funnel reports, goal conversion, and more.")}]},2165:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PurchaseButton=undefined;var _extends2=__webpack_require__(19);var _extends3=_interopRequireDefault(_extends2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _button=__webpack_require__(68);var _button2=_interopRequireDefault(_button);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PurchaseButton=exports.PurchaseButton=_react2.default.createClass({displayName:"PurchaseButton",render:function render(){var _props=this.props;var href=_props.href;var isActive=_props.isActive;if(isActive){return _react2.default.createElement(_button2.default,{className:"is-active-plugin",compact:true,borderless:true},_react2.default.createElement(_gridicon2.default,{icon:"checkmark"}),this.translate("Active"))}return _react2.default.createElement(_button2.default,(0,_extends3.default)({compact:true,primary:true},{href:href}),this.translate("Purchase"))}});PurchaseButton.propTypes={href:_react.PropTypes.string.isRequired,isActive:_react.PropTypes.bool.isRequired};exports.default=PurchaseButton},2166:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StandardPluginsPanel=undefined;var _extends2=__webpack_require__(19);var _extends3=_interopRequireDefault(_extends2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(21);var _i18nCalypso=__webpack_require__(13);var _compact=__webpack_require__(1450);var _compact2=_interopRequireDefault(_compact);var _sectionHeader=__webpack_require__(1451);var _sectionHeader2=_interopRequireDefault(_sectionHeader);var _button=__webpack_require__(68);var _button2=_interopRequireDefault(_button);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);var _actions=__webpack_require__(250);var _plugin=__webpack_require__(1938);var _plugin2=_interopRequireDefault(_plugin);var _notice=__webpack_require__(79);var _notice2=_interopRequireDefault(_notice);var _noticeAction=__webpack_require__(151);var _noticeAction2=_interopRequireDefault(_noticeAction);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StandardPluginsPanel=exports.StandardPluginsPanel=_react2.default.createClass({displayName:"StandardPluginsPanel",render:function render(){var _props=this.props;var displayCount=_props.displayCount;var _onClick=_props.onClick;var _props$plugins=_props.plugins;var plugins=_props$plugins===undefined?[]:_props$plugins;var shownPlugins=plugins.slice(0,displayCount);return _react2.default.createElement("div",null,_react2.default.createElement(_sectionHeader2.default,{label:this.translate("Standard Plugins")},_react2.default.createElement(_button2.default,{className:"is-active-plugin",compact:true,borderless:true},_react2.default.createElement(_gridicon2.default,{icon:"checkmark"}),this.translate("Active"))),_react2.default.createElement(_compact2.default,{className:"wpcom-plugins__standard-panel"},_react2.default.createElement("div",{className:"wpcom-plugins__list"},shownPlugins.map(function(_ref){var name=_ref.name;var descriptionLink=_ref.descriptionLink;var icon=_ref.icon;var category=_ref.category;var description=_ref.description;return _react2.default.createElement(_plugin2.default,(0,_extends3.default)({onClick:function onClick(){return _onClick(name)}},{name:name,key:name,descriptionLink:descriptionLink,icon:icon,category:category,description:description}))}))),_react2.default.createElement(_notice2.default,{status:"is-info",showDismiss:false,text:this.translate("Uploading your own plugins is not available on WordPress.com.")},_react2.default.createElement(_noticeAction2.default,{href:"https://en.support.wordpress.com/plugins/",external:true},this.translate("Learn More"))))}});StandardPluginsPanel.propTypes={displayCount:_react.PropTypes.number,plugins:_react.PropTypes.array};var trackClick=function trackClick(name){return(0,_actions.recordTracksEvent)("calypso_plugin_wpcom_click",{plugin_name:name,plugin_plan:"standard"})};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onClick:function onClick(name){return dispatch(trackClick(name))}}};exports.default=(0,_reactRedux.connect)(null,mapDispatchToProps)((0,_i18nCalypso.localize)(StandardPluginsPanel))},2167:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var analytics=__webpack_require__(16),Button=__webpack_require__(68),DisconnectJetpackButton=__webpack_require__(710);module.exports=React.createClass({displayName:"PluginSiteDisabledManage",render:function render(){var message=this.props.isNetwork?this.translate("Network management disabled"):this.translate("Management disabled"),url=this.props.site.getRemoteManagementURL()+"&section=plugins";if(this.props.plugin.slug==="jetpack"){return React.createElement("span",{className:"plugin-site-disabled-manage"},React.createElement("span",{className:"plugin-site-disabled-manage__label"},message),React.createElement(DisconnectJetpackButton,{disabled:!this.props.plugin,site:this.props.site,redirect:"/plugins/jetpack"}))}return React.createElement("span",{className:"plugin-site-disabled-manage"},React.createElement("span",{className:"plugin-site-disabled-manage__label"},message),React.createElement(Button,{compact:true,className:"plugin-site-disabled-manage__link",href:url,onClick:analytics.ga.recordEvent.bind(analytics,"Jetpack Manage","Clicked Enable Jetpack Manage Link")}," ",this.translate("Enable")," "))}})},2168:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var analytics=__webpack_require__(16),Gridicon=__webpack_require__(28),PluginsActions=__webpack_require__(1541);module.exports=React.createClass({displayName:"PluginSiteUpdateIndicator",propTypes:{site:React.PropTypes.shape({canUpdateFiles:React.PropTypes.bool.isRequired,ID:React.PropTypes.number.isRequired}),plugin:React.PropTypes.shape({slug:React.PropTypes.string}),notices:React.PropTypes.object.isRequired,expanded:React.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{expanded:false}},updatePlugin:function updatePlugin(ev){ev.stopPropagation();PluginsActions.updatePlugin(this.props.site,this.props.plugin);PluginsActions.removePluginsNotices(this.props.notices.completed.concat(this.props.notices.errors));analytics.ga.recordEvent("Plugins","Clicked Update Single Site Plugin","Plugin Name",this.props.plugin.slug);analytics.tracks.recordEvent("calypso_plugins_actions_update_plugin",{site:this.props.site.ID,plugin:this.props.plugin.slug})},getOngoingUpdates:function getOngoingUpdates(){var _this=this;return this.props.notices.inProgress.filter(function(log){return log.site.ID===_this.props.site.ID&&log.action==="UPDATE_PLUGIN"})},isUpdating:function isUpdating(){return this.getOngoingUpdates().length>0},renderUpdate:function renderUpdate(){var message=void 0,ongoingUpdates=this.getOngoingUpdates(),isUpdating=ongoingUpdates.length>0;if(isUpdating){message=this.translate("Updating to version %(version)s",{args:{version:ongoingUpdates[0].plugin.update.new_version}})}else{message=this.translate("Update to %(version)s",{args:{version:this.props.site.plugin.update.new_version}})}return React.createElement("div",{className:"plugin-site-update-indicator__button"},React.createElement("button",{className:"button",ref:"updatePlugin",onClick:this.updatePlugin,disabled:isUpdating},message))},render:function render(){if(!this.props.site||!this.props.plugin){return}if(this.props.site.canUpdateFiles&&(this.props.site.plugin.update&&!this.props.site.plugin.update.recentlyUpdated||this.isUpdating())){if(!this.props.expanded){return React.createElement("span",{className:"plugin-site-update-indicator"},React.createElement(Gridicon,{icon:"sync",size:20}))}return this.renderUpdate()}return null}})},2217:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _stringify=__webpack_require__(41);var _stringify2=_interopRequireDefault(_stringify);var _keys=__webpack_require__(94);var _keys2=_interopRequireDefault(_keys);var _dispatcher=__webpack_require__(38);var _dispatcher2=_interopRequireDefault(_dispatcher);var _versionCompare=__webpack_require__(358);var _versionCompare2=_interopRequireDefault(_versionCompare);var _actionTypes=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var wpcom=__webpack_require__(22);var _fetching={};var normalizePluginInstructions=function normalizePluginInstructions(data){var _plugins=data.keys;return(0,_keys2.default)(_plugins).map(function(slug){var apiKey=_plugins[slug];return{slug:slug,name:slug,key:apiKey,status:"wait",error:null}})};var getPluginHandler=function getPluginHandler(site,plugin){var siteHandler=wpcom.site(site.ID);var pluginHandler=siteHandler.plugin(plugin);return pluginHandler};function install(site,plugin,dispatch){_dispatcher2.default.handleViewAction({type:"INSTALL_PLUGIN",action:"INSTALL_PLUGIN",site:site,plugin:plugin,data:null,error:null});if(plugin.active){dispatch({type:_actionTypes.PLUGIN_SETUP_CONFIGURE,siteId:site.ID,slug:plugin.slug});configure(site,plugin,dispatch);return}getPluginHandler(site,plugin.slug).install().then(function(data){dispatch({type:_actionTypes.PLUGIN_SETUP_ACTIVATE,siteId:site.ID,slug:plugin.slug});data.key=plugin.key;activate(site,data,dispatch)}).catch(function(error){if(error.name==="PluginAlreadyInstalledError"){update(site,plugin,dispatch)}else{dispatch({type:_actionTypes.PLUGIN_SETUP_ERROR,siteId:site.ID,slug:plugin.slug,error:error});_dispatcher2.default.handleServerAction({type:"RECEIVE_INSTALLED_PLUGIN",action:"INSTALL_PLUGIN",site:site,plugin:plugin,data:null,error:error})}})}function update(site,plugin,dispatch){getPluginHandler(site,plugin.id).updateVersion().then(function(data){dispatch({type:_actionTypes.PLUGIN_SETUP_ACTIVATE,siteId:site.ID,slug:plugin.slug});data.key=plugin.key;activate(site,data,dispatch)}).catch(function(error){dispatch({type:_actionTypes.PLUGIN_SETUP_ERROR,siteId:site.ID,slug:plugin.slug,error:error});_dispatcher2.default.handleServerAction({type:"RECEIVE_INSTALLED_PLUGIN",action:"INSTALL_PLUGIN",site:site,plugin:plugin,data:null,error:error})})}function activate(site,plugin,dispatch){var success=function success(data){dispatch({type:_actionTypes.PLUGIN_SETUP_CONFIGURE,siteId:site.ID,slug:data.slug});_dispatcher2.default.handleServerAction({type:"RECEIVE_INSTALLED_PLUGIN",action:"INSTALL_PLUGIN",site:site,plugin:data,data:data,error:null});autoupdate(site,data);configure(site,plugin,dispatch)};getPluginHandler(site,plugin.id).activate().then(success).catch(function(error){if(error.name==="ActivationErrorError"){success(plugin);return}dispatch({type:_actionTypes.PLUGIN_SETUP_ERROR,siteId:site.ID,slug:plugin.slug,error:error});_dispatcher2.default.handleServerAction({type:"RECEIVE_INSTALLED_PLUGIN",action:"INSTALL_PLUGIN",site:site,plugin:plugin,data:null,error:error})})}function autoupdate(site,plugin){getPluginHandler(site,plugin.id).enableAutoupdate()}function configure(site,plugin,dispatch){var option=false;switch(plugin.slug){case"vaultpress":option="vaultpress_auto_register";break;case"akismet":option="wordpress_api_key";break;case"polldaddy":option="polldaddy_api_key";break}if(!option||!plugin.key){var optionError=new Error("We can't configure this plugin.");optionError.name="ConfigError";dispatch({type:_actionTypes.PLUGIN_SETUP_ERROR,siteId:site.ID,slug:plugin.slug,error:optionError});return}var optionValue=plugin.key;if("vaultpress"===plugin.slug&&(0,_versionCompare2.default)(plugin.version,"1.8.3",">")){optionValue=(0,_stringify2.default)({key:plugin.key,action:"register"})}site.setOption({option_name:option,option_value:optionValue},function(error,data){if("vaultpress"===plugin.slug&&(0,_versionCompare2.default)(plugin.version,"1.8.3",">")){var response=JSON.parse(data.option_value);if("response"===response.action&&"broken"===response.status){error=new Error(response.error);error.name="RegisterError"}}if(error){dispatch({type:_actionTypes.PLUGIN_SETUP_ERROR,siteId:site.ID,slug:plugin.slug,error:error})}dispatch({type:_actionTypes.PLUGIN_SETUP_FINISH,siteId:site.ID,slug:plugin.slug})})}exports.default={fetchInstallInstructions:function fetchInstallInstructions(siteId){return function(dispatch){if(_fetching[siteId]){return}_fetching[siteId]=true;setTimeout(function(){dispatch({type:_actionTypes.PLUGIN_SETUP_INSTRUCTIONS_FETCH,siteId:siteId})},1);wpcom.undocumented().fetchJetpackKeys(siteId,function(error,data){if(error){dispatch({type:_actionTypes.PLUGIN_SETUP_INSTRUCTIONS_RECEIVE,siteId:siteId,data:[]});return}data=normalizePluginInstructions(data);dispatch({type:_actionTypes.PLUGIN_SETUP_INSTRUCTIONS_RECEIVE,siteId:siteId,data:data})})}},installPlugin:function installPlugin(plugin,site){return function(dispatch){dispatch({type:_actionTypes.PLUGIN_SETUP_INSTALL,siteId:site.ID,slug:plugin.slug});install(site,plugin,dispatch)}}};module.exports=exports["default"]},2228:function(module,exports){module.exports="\t\n\v\f\r   ᠎    "+"         　\u2028\u2029\ufeff"},2229:function(module,exports){var NodePrototype=module.exports={get firstChild(){var children=this.children;return children&&children[0]||null},get lastChild(){var children=this.children;return children&&children[children.length-1]||null},get nodeType(){return nodeTypes[this.type]||nodeTypes.element}};var domLvl1={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};var nodeTypes={element:1,text:3,cdata:4,comment:8};Object.keys(domLvl1).forEach(function(key){var shorthand=domLvl1[key];Object.defineProperty(NodePrototype,key,{get:function(){return this[shorthand]||null},set:function(val){this[shorthand]=val;return val}})})},2234:function(module,exports,__webpack_require__){var Tokenizer=__webpack_require__(2235);var formTags={input:true,option:true,optgroup:true,select:true,button:true,datalist:true,textarea:true};var openImpliesClose={tr:{tr:true,th:true,td:true},th:{th:true},td:{thead:true,th:true,td:true},body:{head:true,link:true,script:true},li:{li:true},p:{p:true},h1:{p:true},h2:{p:true},h3:{p:true},h4:{p:true},h5:{p:true},h6:{p:true},select:formTags,input:formTags,output:formTags,button:formTags,datalist:formTags,textarea:formTags,option:{option:true},optgroup:{optgroup:true}};var voidElements={__proto__:null,area:true,base:true,basefont:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,isindex:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,path:true,circle:true,ellipse:true,line:true,rect:true,use:true,stop:true,polyline:true,polygon:true};var re_nameEnd=/\s|\//;function Parser(cbs,options){this._options=options||{};this._cbs=cbs||{};this._tagname="";this._attribname="";this._attribvalue="";this._attribs=null;this._stack=[];this.startIndex=0;this.endIndex=null;this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode;this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode;this._tokenizer=new Tokenizer(this._options,this);if(this._cbs.onparserinit)this._cbs.onparserinit(this)}__webpack_require__(202).inherits(Parser,__webpack_require__(159).EventEmitter);Parser.prototype._updatePosition=function(initialOffset){if(this.endIndex===null){if(this._tokenizer._sectionStart<=initialOffset){this.startIndex=0}else{this.startIndex=this._tokenizer._sectionStart-initialOffset}}else this.startIndex=this.endIndex+1;this.endIndex=this._tokenizer.getAbsoluteIndex()};Parser.prototype.ontext=function(data){this._updatePosition(1);this.endIndex--;if(this._cbs.ontext)this._cbs.ontext(data)};Parser.prototype.onopentagname=function(name){if(this._lowerCaseTagNames){name=name.toLowerCase()}this._tagname=name;if(!this._options.xmlMode&&name in openImpliesClose){for(var el;(el=this._stack[this._stack.length-1])in openImpliesClose[name];this.onclosetag(el));}if(this._options.xmlMode||!(name in voidElements)){this._stack.push(name)}if(this._cbs.onopentagname)this._cbs.onopentagname(name);if(this._cbs.onopentag)this._attribs={}};Parser.prototype.onopentagend=function(){this._updatePosition(1);if(this._attribs){if(this._cbs.onopentag)this._cbs.onopentag(this._tagname,this._attribs);this._attribs=null}if(!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in voidElements){this._cbs.onclosetag(this._tagname)}this._tagname=""};Parser.prototype.onclosetag=function(name){this._updatePosition(1);if(this._lowerCaseTagNames){name=name.toLowerCase()}if(this._stack.length&&(!(name in voidElements)||this._options.xmlMode)){var pos=this._stack.lastIndexOf(name);if(pos!==-1){if(this._cbs.onclosetag){pos=this._stack.length-pos;while(pos--)this._cbs.onclosetag(this._stack.pop())}else this._stack.length=pos}else if(name==="p"&&!this._options.xmlMode){this.onopentagname(name);this._closeCurrentTag()}}else if(!this._options.xmlMode&&(name==="br"||name==="p")){this.onopentagname(name);this._closeCurrentTag()}};Parser.prototype.onselfclosingtag=function(){if(this._options.xmlMode||this._options.recognizeSelfClosing){this._closeCurrentTag()}else{this.onopentagend()}};Parser.prototype._closeCurrentTag=function(){var name=this._tagname;this.onopentagend();if(this._stack[this._stack.length-1]===name){if(this._cbs.onclosetag){this._cbs.onclosetag(name)}this._stack.pop()}};Parser.prototype.onattribname=function(name){if(this._lowerCaseAttributeNames){name=name.toLowerCase()}this._attribname=name};Parser.prototype.onattribdata=function(value){this._attribvalue+=value};Parser.prototype.onattribend=function(){if(this._cbs.onattribute)this._cbs.onattribute(this._attribname,this._attribvalue);if(this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)){this._attribs[this._attribname]=this._attribvalue}this._attribname="";this._attribvalue=""};Parser.prototype._getInstructionName=function(value){var idx=value.search(re_nameEnd),name=idx<0?value:value.substr(0,idx);if(this._lowerCaseTagNames){name=name.toLowerCase()}return name};Parser.prototype.ondeclaration=function(value){if(this._cbs.onprocessinginstruction){var name=this._getInstructionName(value);this._cbs.onprocessinginstruction("!"+name,"!"+value)}};Parser.prototype.onprocessinginstruction=function(value){if(this._cbs.onprocessinginstruction){var name=this._getInstructionName(value);this._cbs.onprocessinginstruction("?"+name,"?"+value)}};Parser.prototype.oncomment=function(value){this._updatePosition(4);if(this._cbs.oncomment)this._cbs.oncomment(value);if(this._cbs.oncommentend)this._cbs.oncommentend()};Parser.prototype.oncdata=function(value){this._updatePosition(1);if(this._options.xmlMode||this._options.recognizeCDATA){if(this._cbs.oncdatastart)this._cbs.oncdatastart();if(this._cbs.ontext)this._cbs.ontext(value);if(this._cbs.oncdataend)this._cbs.oncdataend()}else{this.oncomment("[CDATA["+value+"]]")}};Parser.prototype.onerror=function(err){if(this._cbs.onerror)this._cbs.onerror(err)};Parser.prototype.onend=function(){if(this._cbs.onclosetag){for(var i=this._stack.length;i>0;this._cbs.onclosetag(this._stack[--i]));}if(this._cbs.onend)this._cbs.onend()};Parser.prototype.reset=function(){if(this._cbs.onreset)this._cbs.onreset();this._tokenizer.reset();this._tagname="";this._attribname="";this._attribs=null;this._stack=[];if(this._cbs.onparserinit)this._cbs.onparserinit(this)};Parser.prototype.parseComplete=function(data){this.reset();this.end(data)};Parser.prototype.write=function(chunk){this._tokenizer.write(chunk)};Parser.prototype.end=function(chunk){this._tokenizer.end(chunk)};Parser.prototype.pause=function(){this._tokenizer.pause()};Parser.prototype.resume=function(){this._tokenizer.resume()};Parser.prototype.parseChunk=Parser.prototype.write;Parser.prototype.done=Parser.prototype.end;module.exports=Parser},2235:function(module,exports,__webpack_require__){module.exports=Tokenizer;var decodeCodePoint=__webpack_require__(3127),entityMap=__webpack_require__(3158),legacyMap=__webpack_require__(3159),xmlMap=__webpack_require__(3160),i=0,TEXT=i++,BEFORE_TAG_NAME=i++,IN_TAG_NAME=i++,IN_SELF_CLOSING_TAG=i++,BEFORE_CLOSING_TAG_NAME=i++,IN_CLOSING_TAG_NAME=i++,AFTER_CLOSING_TAG_NAME=i++,BEFORE_ATTRIBUTE_NAME=i++,IN_ATTRIBUTE_NAME=i++,AFTER_ATTRIBUTE_NAME=i++,BEFORE_ATTRIBUTE_VALUE=i++,IN_ATTRIBUTE_VALUE_DQ=i++,IN_ATTRIBUTE_VALUE_SQ=i++,IN_ATTRIBUTE_VALUE_NQ=i++,BEFORE_DECLARATION=i++,IN_DECLARATION=i++,IN_PROCESSING_INSTRUCTION=i++,BEFORE_COMMENT=i++,IN_COMMENT=i++,AFTER_COMMENT_1=i++,AFTER_COMMENT_2=i++,BEFORE_CDATA_1=i++,BEFORE_CDATA_2=i++,BEFORE_CDATA_3=i++,BEFORE_CDATA_4=i++,BEFORE_CDATA_5=i++,BEFORE_CDATA_6=i++,IN_CDATA=i++,AFTER_CDATA_1=i++,AFTER_CDATA_2=i++,BEFORE_SPECIAL=i++,BEFORE_SPECIAL_END=i++,BEFORE_SCRIPT_1=i++,BEFORE_SCRIPT_2=i++,BEFORE_SCRIPT_3=i++,BEFORE_SCRIPT_4=i++,BEFORE_SCRIPT_5=i++,AFTER_SCRIPT_1=i++,AFTER_SCRIPT_2=i++,AFTER_SCRIPT_3=i++,AFTER_SCRIPT_4=i++,AFTER_SCRIPT_5=i++,BEFORE_STYLE_1=i++,BEFORE_STYLE_2=i++,BEFORE_STYLE_3=i++,BEFORE_STYLE_4=i++,AFTER_STYLE_1=i++,AFTER_STYLE_2=i++,AFTER_STYLE_3=i++,AFTER_STYLE_4=i++,BEFORE_ENTITY=i++,BEFORE_NUMERIC_ENTITY=i++,IN_NAMED_ENTITY=i++,IN_NUMERIC_ENTITY=i++,IN_HEX_ENTITY=i++,j=0,SPECIAL_NONE=j++,SPECIAL_SCRIPT=j++,SPECIAL_STYLE=j++;function whitespace(c){return c===" "||c==="\n"||c==="\t"||c==="\f"||c==="\r"}function characterState(char,SUCCESS){return function(c){if(c===char)this._state=SUCCESS}}function ifElseState(upper,SUCCESS,FAILURE){var lower=upper.toLowerCase();if(upper===lower){return function(c){if(c===lower){this._state=SUCCESS}else{this._state=FAILURE;this._index--}}}else{return function(c){if(c===lower||c===upper){this._state=SUCCESS}else{this._state=FAILURE;this._index--}}}}function consumeSpecialNameChar(upper,NEXT_STATE){var lower=upper.toLowerCase();return function(c){if(c===lower||c===upper){this._state=NEXT_STATE}else{this._state=IN_TAG_NAME;this._index--}}}function Tokenizer(options,cbs){this._state=TEXT;this._buffer="";this._sectionStart=0;this._index=0;this._bufferOffset=0;this._baseState=TEXT;this._special=SPECIAL_NONE;this._cbs=cbs;this._running=true;this._ended=false;this._xmlMode=!!(options&&options.xmlMode);this._decodeEntities=!!(options&&options.decodeEntities)}Tokenizer.prototype._stateText=function(c){if(c==="<"){if(this._index>this._sectionStart){this._cbs.ontext(this._getSection())}this._state=BEFORE_TAG_NAME;this._sectionStart=this._index}else if(this._decodeEntities&&this._special===SPECIAL_NONE&&c==="&"){if(this._index>this._sectionStart){this._cbs.ontext(this._getSection())}this._baseState=TEXT;this._state=BEFORE_ENTITY;this._sectionStart=this._index}};Tokenizer.prototype._stateBeforeTagName=function(c){if(c==="/"){this._state=BEFORE_CLOSING_TAG_NAME}else if(c===">"||this._special!==SPECIAL_NONE||whitespace(c)){this._state=TEXT}else if(c==="!"){this._state=BEFORE_DECLARATION;this._sectionStart=this._index+1}else if(c==="?"){this._state=IN_PROCESSING_INSTRUCTION;this._sectionStart=this._index+1}else if(c==="<"){this._cbs.ontext(this._getSection());this._sectionStart=this._index}else{this._state=!this._xmlMode&&(c==="s"||c==="S")?BEFORE_SPECIAL:IN_TAG_NAME;this._sectionStart=this._index}};Tokenizer.prototype._stateInTagName=function(c){if(c==="/"||c===">"||whitespace(c)){this._emitToken("onopentagname");this._state=BEFORE_ATTRIBUTE_NAME;this._index--}};Tokenizer.prototype._stateBeforeCloseingTagName=function(c){if(whitespace(c));else if(c===">"){this._state=TEXT}else if(this._special!==SPECIAL_NONE){if(c==="s"||c==="S"){this._state=BEFORE_SPECIAL_END}else{this._state=TEXT;this._index--}}else{this._state=IN_CLOSING_TAG_NAME;this._sectionStart=this._index}};Tokenizer.prototype._stateInCloseingTagName=function(c){if(c===">"||whitespace(c)){this._emitToken("onclosetag");this._state=AFTER_CLOSING_TAG_NAME;this._index--}};Tokenizer.prototype._stateAfterCloseingTagName=function(c){if(c===">"){this._state=TEXT;this._sectionStart=this._index+1}};Tokenizer.prototype._stateBeforeAttributeName=function(c){if(c===">"){this._cbs.onopentagend();this._state=TEXT;this._sectionStart=this._index+1}else if(c==="/"){this._state=IN_SELF_CLOSING_TAG}else if(!whitespace(c)){this._state=IN_ATTRIBUTE_NAME;this._sectionStart=this._index}};Tokenizer.prototype._stateInSelfClosingTag=function(c){if(c===">"){this._cbs.onselfclosingtag();this._state=TEXT;this._sectionStart=this._index+1}else if(!whitespace(c)){this._state=BEFORE_ATTRIBUTE_NAME;this._index--}};Tokenizer.prototype._stateInAttributeName=function(c){if(c==="="||c==="/"||c===">"||whitespace(c)){this._cbs.onattribname(this._getSection());this._sectionStart=-1;this._state=AFTER_ATTRIBUTE_NAME;this._index--}};Tokenizer.prototype._stateAfterAttributeName=function(c){if(c==="="){this._state=BEFORE_ATTRIBUTE_VALUE}else if(c==="/"||c===">"){this._cbs.onattribend();this._state=BEFORE_ATTRIBUTE_NAME;this._index--}else if(!whitespace(c)){this._cbs.onattribend();this._state=IN_ATTRIBUTE_NAME;this._sectionStart=this._index}};Tokenizer.prototype._stateBeforeAttributeValue=function(c){if(c==='"'){this._state=IN_ATTRIBUTE_VALUE_DQ;this._sectionStart=this._index+1}else if(c==="'"){this._state=IN_ATTRIBUTE_VALUE_SQ;this._sectionStart=this._index+1}else if(!whitespace(c)){this._state=IN_ATTRIBUTE_VALUE_NQ;this._sectionStart=this._index;this._index--}};Tokenizer.prototype._stateInAttributeValueDoubleQuotes=function(c){if(c==='"'){this._emitToken("onattribdata");this._cbs.onattribend();this._state=BEFORE_ATTRIBUTE_NAME}else if(this._decodeEntities&&c==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=BEFORE_ENTITY;this._sectionStart=this._index}};Tokenizer.prototype._stateInAttributeValueSingleQuotes=function(c){if(c==="'"){this._emitToken("onattribdata");this._cbs.onattribend();this._state=BEFORE_ATTRIBUTE_NAME}else if(this._decodeEntities&&c==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=BEFORE_ENTITY;this._sectionStart=this._index}};Tokenizer.prototype._stateInAttributeValueNoQuotes=function(c){if(whitespace(c)||c===">"){this._emitToken("onattribdata");this._cbs.onattribend();this._state=BEFORE_ATTRIBUTE_NAME;this._index--}else if(this._decodeEntities&&c==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=BEFORE_ENTITY;this._sectionStart=this._index}};Tokenizer.prototype._stateBeforeDeclaration=function(c){this._state=c==="["?BEFORE_CDATA_1:c==="-"?BEFORE_COMMENT:IN_DECLARATION};Tokenizer.prototype._stateInDeclaration=function(c){if(c===">"){this._cbs.ondeclaration(this._getSection());this._state=TEXT;this._sectionStart=this._index+1}};Tokenizer.prototype._stateInProcessingInstruction=function(c){if(c===">"){this._cbs.onprocessinginstruction(this._getSection());this._state=TEXT;this._sectionStart=this._index+1}};Tokenizer.prototype._stateBeforeComment=function(c){if(c==="-"){this._state=IN_COMMENT;this._sectionStart=this._index+1}else{this._state=IN_DECLARATION}};Tokenizer.prototype._stateInComment=function(c){if(c==="-")this._state=AFTER_COMMENT_1};Tokenizer.prototype._stateAfterComment1=function(c){if(c==="-"){this._state=AFTER_COMMENT_2}else{this._state=IN_COMMENT}};Tokenizer.prototype._stateAfterComment2=function(c){if(c===">"){this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2));this._state=TEXT;this._sectionStart=this._index+1}else if(c!=="-"){this._state=IN_COMMENT}};Tokenizer.prototype._stateBeforeCdata1=ifElseState("C",BEFORE_CDATA_2,IN_DECLARATION);Tokenizer.prototype._stateBeforeCdata2=ifElseState("D",BEFORE_CDATA_3,IN_DECLARATION);Tokenizer.prototype._stateBeforeCdata3=ifElseState("A",BEFORE_CDATA_4,IN_DECLARATION);Tokenizer.prototype._stateBeforeCdata4=ifElseState("T",BEFORE_CDATA_5,IN_DECLARATION);Tokenizer.prototype._stateBeforeCdata5=ifElseState("A",BEFORE_CDATA_6,IN_DECLARATION);Tokenizer.prototype._stateBeforeCdata6=function(c){if(c==="["){this._state=IN_CDATA;this._sectionStart=this._index+1}else{this._state=IN_DECLARATION;this._index--}};Tokenizer.prototype._stateInCdata=function(c){if(c==="]")this._state=AFTER_CDATA_1};Tokenizer.prototype._stateAfterCdata1=characterState("]",AFTER_CDATA_2);Tokenizer.prototype._stateAfterCdata2=function(c){if(c===">"){this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2));this._state=TEXT;this._sectionStart=this._index+1}else if(c!=="]"){this._state=IN_CDATA}};Tokenizer.prototype._stateBeforeSpecial=function(c){if(c==="c"||c==="C"){this._state=BEFORE_SCRIPT_1}else if(c==="t"||c==="T"){this._state=BEFORE_STYLE_1}else{this._state=IN_TAG_NAME;this._index--}};Tokenizer.prototype._stateBeforeSpecialEnd=function(c){if(this._special===SPECIAL_SCRIPT&&(c==="c"||c==="C")){this._state=AFTER_SCRIPT_1}else if(this._special===SPECIAL_STYLE&&(c==="t"||c==="T")){this._state=AFTER_STYLE_1}else this._state=TEXT};Tokenizer.prototype._stateBeforeScript1=consumeSpecialNameChar("R",BEFORE_SCRIPT_2);Tokenizer.prototype._stateBeforeScript2=consumeSpecialNameChar("I",BEFORE_SCRIPT_3);Tokenizer.prototype._stateBeforeScript3=consumeSpecialNameChar("P",BEFORE_SCRIPT_4);Tokenizer.prototype._stateBeforeScript4=consumeSpecialNameChar("T",BEFORE_SCRIPT_5);Tokenizer.prototype._stateBeforeScript5=function(c){if(c==="/"||c===">"||whitespace(c)){this._special=SPECIAL_SCRIPT}this._state=IN_TAG_NAME;this._index--};Tokenizer.prototype._stateAfterScript1=ifElseState("R",AFTER_SCRIPT_2,TEXT);Tokenizer.prototype._stateAfterScript2=ifElseState("I",AFTER_SCRIPT_3,TEXT);Tokenizer.prototype._stateAfterScript3=ifElseState("P",AFTER_SCRIPT_4,TEXT);Tokenizer.prototype._stateAfterScript4=ifElseState("T",AFTER_SCRIPT_5,TEXT);Tokenizer.prototype._stateAfterScript5=function(c){if(c===">"||whitespace(c)){this._special=SPECIAL_NONE;this._state=IN_CLOSING_TAG_NAME;this._sectionStart=this._index-6;this._index--}else this._state=TEXT};Tokenizer.prototype._stateBeforeStyle1=consumeSpecialNameChar("Y",BEFORE_STYLE_2);Tokenizer.prototype._stateBeforeStyle2=consumeSpecialNameChar("L",BEFORE_STYLE_3);Tokenizer.prototype._stateBeforeStyle3=consumeSpecialNameChar("E",BEFORE_STYLE_4);Tokenizer.prototype._stateBeforeStyle4=function(c){if(c==="/"||c===">"||whitespace(c)){this._special=SPECIAL_STYLE}this._state=IN_TAG_NAME;this._index--};Tokenizer.prototype._stateAfterStyle1=ifElseState("Y",AFTER_STYLE_2,TEXT);Tokenizer.prototype._stateAfterStyle2=ifElseState("L",AFTER_STYLE_3,TEXT);Tokenizer.prototype._stateAfterStyle3=ifElseState("E",AFTER_STYLE_4,TEXT);
Tokenizer.prototype._stateAfterStyle4=function(c){if(c===">"||whitespace(c)){this._special=SPECIAL_NONE;this._state=IN_CLOSING_TAG_NAME;this._sectionStart=this._index-5;this._index--}else this._state=TEXT};Tokenizer.prototype._stateBeforeEntity=ifElseState("#",BEFORE_NUMERIC_ENTITY,IN_NAMED_ENTITY);Tokenizer.prototype._stateBeforeNumericEntity=ifElseState("X",IN_HEX_ENTITY,IN_NUMERIC_ENTITY);Tokenizer.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var entity=this._buffer.substring(this._sectionStart+1,this._index),map=this._xmlMode?xmlMap:entityMap;if(map.hasOwnProperty(entity)){this._emitPartial(map[entity]);this._sectionStart=this._index+1}}};Tokenizer.prototype._parseLegacyEntity=function(){var start=this._sectionStart+1,limit=this._index-start;if(limit>6)limit=6;while(limit>=2){var entity=this._buffer.substr(start,limit);if(legacyMap.hasOwnProperty(entity)){this._emitPartial(legacyMap[entity]);this._sectionStart+=limit+1;return}else{limit--}}};Tokenizer.prototype._stateInNamedEntity=function(c){if(c===";"){this._parseNamedEntityStrict();if(this._sectionStart+1<this._index&&!this._xmlMode){this._parseLegacyEntity()}this._state=this._baseState}else if((c<"a"||c>"z")&&(c<"A"||c>"Z")&&(c<"0"||c>"9")){if(this._xmlMode);else if(this._sectionStart+1===this._index);else if(this._baseState!==TEXT){if(c!=="="){this._parseNamedEntityStrict()}}else{this._parseLegacyEntity()}this._state=this._baseState;this._index--}};Tokenizer.prototype._decodeNumericEntity=function(offset,base){var sectionStart=this._sectionStart+offset;if(sectionStart!==this._index){var entity=this._buffer.substring(sectionStart,this._index);var parsed=parseInt(entity,base);this._emitPartial(decodeCodePoint(parsed));this._sectionStart=this._index}else{this._sectionStart--}this._state=this._baseState};Tokenizer.prototype._stateInNumericEntity=function(c){if(c===";"){this._decodeNumericEntity(2,10);this._sectionStart++}else if(c<"0"||c>"9"){if(!this._xmlMode){this._decodeNumericEntity(2,10)}else{this._state=this._baseState}this._index--}};Tokenizer.prototype._stateInHexEntity=function(c){if(c===";"){this._decodeNumericEntity(3,16);this._sectionStart++}else if((c<"a"||c>"f")&&(c<"A"||c>"F")&&(c<"0"||c>"9")){if(!this._xmlMode){this._decodeNumericEntity(3,16)}else{this._state=this._baseState}this._index--}};Tokenizer.prototype._cleanup=function(){if(this._sectionStart<0){this._buffer="";this._index=0;this._bufferOffset+=this._index}else if(this._running){if(this._state===TEXT){if(this._sectionStart!==this._index){this._cbs.ontext(this._buffer.substr(this._sectionStart))}this._buffer="";this._index=0;this._bufferOffset+=this._index}else if(this._sectionStart===this._index){this._buffer="";this._index=0;this._bufferOffset+=this._index}else{this._buffer=this._buffer.substr(this._sectionStart);this._index-=this._sectionStart;this._bufferOffset+=this._sectionStart}this._sectionStart=0}};Tokenizer.prototype.write=function(chunk){if(this._ended)this._cbs.onerror(Error(".write() after done!"));this._buffer+=chunk;this._parse()};Tokenizer.prototype._parse=function(){while(this._index<this._buffer.length&&this._running){var c=this._buffer.charAt(this._index);if(this._state===TEXT){this._stateText(c)}else if(this._state===BEFORE_TAG_NAME){this._stateBeforeTagName(c)}else if(this._state===IN_TAG_NAME){this._stateInTagName(c)}else if(this._state===BEFORE_CLOSING_TAG_NAME){this._stateBeforeCloseingTagName(c)}else if(this._state===IN_CLOSING_TAG_NAME){this._stateInCloseingTagName(c)}else if(this._state===AFTER_CLOSING_TAG_NAME){this._stateAfterCloseingTagName(c)}else if(this._state===IN_SELF_CLOSING_TAG){this._stateInSelfClosingTag(c)}else if(this._state===BEFORE_ATTRIBUTE_NAME){this._stateBeforeAttributeName(c)}else if(this._state===IN_ATTRIBUTE_NAME){this._stateInAttributeName(c)}else if(this._state===AFTER_ATTRIBUTE_NAME){this._stateAfterAttributeName(c)}else if(this._state===BEFORE_ATTRIBUTE_VALUE){this._stateBeforeAttributeValue(c)}else if(this._state===IN_ATTRIBUTE_VALUE_DQ){this._stateInAttributeValueDoubleQuotes(c)}else if(this._state===IN_ATTRIBUTE_VALUE_SQ){this._stateInAttributeValueSingleQuotes(c)}else if(this._state===IN_ATTRIBUTE_VALUE_NQ){this._stateInAttributeValueNoQuotes(c)}else if(this._state===BEFORE_DECLARATION){this._stateBeforeDeclaration(c)}else if(this._state===IN_DECLARATION){this._stateInDeclaration(c)}else if(this._state===IN_PROCESSING_INSTRUCTION){this._stateInProcessingInstruction(c)}else if(this._state===BEFORE_COMMENT){this._stateBeforeComment(c)}else if(this._state===IN_COMMENT){this._stateInComment(c)}else if(this._state===AFTER_COMMENT_1){this._stateAfterComment1(c)}else if(this._state===AFTER_COMMENT_2){this._stateAfterComment2(c)}else if(this._state===BEFORE_CDATA_1){this._stateBeforeCdata1(c)}else if(this._state===BEFORE_CDATA_2){this._stateBeforeCdata2(c)}else if(this._state===BEFORE_CDATA_3){this._stateBeforeCdata3(c)}else if(this._state===BEFORE_CDATA_4){this._stateBeforeCdata4(c)}else if(this._state===BEFORE_CDATA_5){this._stateBeforeCdata5(c)}else if(this._state===BEFORE_CDATA_6){this._stateBeforeCdata6(c)}else if(this._state===IN_CDATA){this._stateInCdata(c)}else if(this._state===AFTER_CDATA_1){this._stateAfterCdata1(c)}else if(this._state===AFTER_CDATA_2){this._stateAfterCdata2(c)}else if(this._state===BEFORE_SPECIAL){this._stateBeforeSpecial(c)}else if(this._state===BEFORE_SPECIAL_END){this._stateBeforeSpecialEnd(c)}else if(this._state===BEFORE_SCRIPT_1){this._stateBeforeScript1(c)}else if(this._state===BEFORE_SCRIPT_2){this._stateBeforeScript2(c)}else if(this._state===BEFORE_SCRIPT_3){this._stateBeforeScript3(c)}else if(this._state===BEFORE_SCRIPT_4){this._stateBeforeScript4(c)}else if(this._state===BEFORE_SCRIPT_5){this._stateBeforeScript5(c)}else if(this._state===AFTER_SCRIPT_1){this._stateAfterScript1(c)}else if(this._state===AFTER_SCRIPT_2){this._stateAfterScript2(c)}else if(this._state===AFTER_SCRIPT_3){this._stateAfterScript3(c)}else if(this._state===AFTER_SCRIPT_4){this._stateAfterScript4(c)}else if(this._state===AFTER_SCRIPT_5){this._stateAfterScript5(c)}else if(this._state===BEFORE_STYLE_1){this._stateBeforeStyle1(c)}else if(this._state===BEFORE_STYLE_2){this._stateBeforeStyle2(c)}else if(this._state===BEFORE_STYLE_3){this._stateBeforeStyle3(c)}else if(this._state===BEFORE_STYLE_4){this._stateBeforeStyle4(c)}else if(this._state===AFTER_STYLE_1){this._stateAfterStyle1(c)}else if(this._state===AFTER_STYLE_2){this._stateAfterStyle2(c)}else if(this._state===AFTER_STYLE_3){this._stateAfterStyle3(c)}else if(this._state===AFTER_STYLE_4){this._stateAfterStyle4(c)}else if(this._state===BEFORE_ENTITY){this._stateBeforeEntity(c)}else if(this._state===BEFORE_NUMERIC_ENTITY){this._stateBeforeNumericEntity(c)}else if(this._state===IN_NAMED_ENTITY){this._stateInNamedEntity(c)}else if(this._state===IN_NUMERIC_ENTITY){this._stateInNumericEntity(c)}else if(this._state===IN_HEX_ENTITY){this._stateInHexEntity(c)}else{this._cbs.onerror(Error("unknown _state"),this._state)}this._index++}this._cleanup()};Tokenizer.prototype.pause=function(){this._running=false};Tokenizer.prototype.resume=function(){this._running=true;if(this._index<this._buffer.length){this._parse()}if(this._ended){this._finish()}};Tokenizer.prototype.end=function(chunk){if(this._ended)this._cbs.onerror(Error(".end() after done!"));if(chunk)this.write(chunk);this._ended=true;if(this._running)this._finish()};Tokenizer.prototype._finish=function(){if(this._sectionStart<this._index){this._handleTrailingData()}this._cbs.onend()};Tokenizer.prototype._handleTrailingData=function(){var data=this._buffer.substr(this._sectionStart);if(this._state===IN_CDATA||this._state===AFTER_CDATA_1||this._state===AFTER_CDATA_2){this._cbs.oncdata(data)}else if(this._state===IN_COMMENT||this._state===AFTER_COMMENT_1||this._state===AFTER_COMMENT_2){this._cbs.oncomment(data)}else if(this._state===IN_NAMED_ENTITY&&!this._xmlMode){this._parseLegacyEntity();if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state===IN_NUMERIC_ENTITY&&!this._xmlMode){this._decodeNumericEntity(2,10);if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state===IN_HEX_ENTITY&&!this._xmlMode){this._decodeNumericEntity(3,16);if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state!==IN_TAG_NAME&&this._state!==BEFORE_ATTRIBUTE_NAME&&this._state!==BEFORE_ATTRIBUTE_VALUE&&this._state!==AFTER_ATTRIBUTE_NAME&&this._state!==IN_ATTRIBUTE_NAME&&this._state!==IN_ATTRIBUTE_VALUE_SQ&&this._state!==IN_ATTRIBUTE_VALUE_DQ&&this._state!==IN_ATTRIBUTE_VALUE_NQ&&this._state!==IN_CLOSING_TAG_NAME){this._cbs.ontext(data)}};Tokenizer.prototype.reset=function(){Tokenizer.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)};Tokenizer.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index};Tokenizer.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)};Tokenizer.prototype._emitToken=function(name){this._cbs[name](this._getSection());this._sectionStart=-1};Tokenizer.prototype._emitPartial=function(value){if(this._baseState!==TEXT){this._cbs.onattribdata(value)}else{this._cbs.ontext(value)}}},2236:function(module,exports,__webpack_require__){module.exports=Stream;var Parser=__webpack_require__(2234),WritableStream=__webpack_require__(170).Writable||__webpack_require__(3228).Writable;function Stream(cbs,options){var parser=this._parser=new Parser(cbs,options);WritableStream.call(this,{decodeStrings:false});this.once("finish",function(){parser.end()})}__webpack_require__(202).inherits(Stream,WritableStream);WritableStream.prototype._write=function(chunk,encoding,cb){this._parser.write(chunk);cb()}},2237:function(module,exports){module.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",
TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},2238:function(module,exports){module.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},2260:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _count=__webpack_require__(673);var _count2=_interopRequireDefault(_count);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({displayName:"BulkSelect",propTypes:{totalElements:_react2.default.PropTypes.number.isRequired,selectedElements:_react2.default.PropTypes.number.isRequired,onToggle:_react2.default.PropTypes.func.isRequired},getStateIcon:function getStateIcon(){if(this.hasSomeElementsSelected()){return _react2.default.createElement(_gridicon2.default,{className:"bulk-select__some-checked-icon",icon:"minus-small",size:18})}},hasAllElementsSelected:function hasAllElementsSelected(){return this.props.selectedElements&&this.props.selectedElements===this.props.totalElements},hasSomeElementsSelected:function hasSomeElementsSelected(){return this.props.selectedElements&&this.props.selectedElements<this.props.totalElements},handleToggleAll:function handleToggleAll(){var newCheckedState=!(this.hasSomeElementsSelected()||this.hasAllElementsSelected());this.props.onToggle(newCheckedState)},render:function render(){var isChecked=this.hasAllElementsSelected();var inputClasses=(0,_classnames2.default)("bulk-select__box",{"is-checked":isChecked});return _react2.default.createElement("span",{className:"bulk-select",onClick:this.handleToggleAll},_react2.default.createElement("span",{className:"bulk-select__container"},_react2.default.createElement("input",{type:"checkbox",className:inputClasses,checked:isChecked,readOnly:true}),_react2.default.createElement(_count2.default,{count:this.props.selectedElements}),this.getStateIcon()))}});module.exports=exports["default"]},2281:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(23);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(8);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(9);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(26);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(25);var _inherits3=_interopRequireDefault(_inherits2);var _react=__webpack_require__(1);var _reactRedux=__webpack_require__(21);var _actions=__webpack_require__(2217);var _selectors=__webpack_require__(728);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var QueryPluginKeys=function(_Component){(0,_inherits3.default)(QueryPluginKeys,_Component);function QueryPluginKeys(){(0,_classCallCheck3.default)(this,QueryPluginKeys);return(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(QueryPluginKeys).apply(this,arguments))}(0,_createClass3.default)(QueryPluginKeys,[{key:"componentWillMount",value:function componentWillMount(){if(this.props.siteId&&!this.props.hasRequested){this.props.fetchInstallInstructions(this.props.siteId)}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.siteId===this.props.siteId){return}this.refresh(nextProps.hasRequested,nextProps.siteId)}},{key:"refresh",value:function refresh(hasRequestedKeys,siteId){if(!hasRequestedKeys){this.props.fetchInstallInstructions(siteId)}}},{key:"render",value:function render(){return null}}]);return QueryPluginKeys}(_react.Component);QueryPluginKeys.propTypes={siteId:_react.PropTypes.number.isRequired,hasRequested:_react.PropTypes.bool,fetchInstallInstructions:_react.PropTypes.func};QueryPluginKeys.defaultProps={fetchInstallInstructions:function fetchInstallInstructions(){}};exports.default=(0,_reactRedux.connect)(function(state,props){var siteId=props.siteId;return{hasRequested:(0,_selectors.hasRequested)(state,siteId)}},{fetchInstallInstructions:_actions.fetchInstallInstructions})(QueryPluginKeys);module.exports=exports["default"]},2371:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({displayName:"Version",propTypes:{version:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string,_react2.default.PropTypes.number]).isRequired,icon:_react2.default.PropTypes.string},renderIcon:function renderIcon(){return this.props.icon?_react2.default.createElement(_gridicon2.default,{icon:this.props.icon,size:18}):null},render:function render(){return this.props.version?_react2.default.createElement("div",{className:"version"},this.renderIcon(),this.translate("Version %s",{args:this.props.version})):null}});module.exports=exports["default"]},2416:function(module,exports,__webpack_require__){"use strict";var clone=__webpack_require__(251);var Dispatcher=__webpack_require__(38),emitter=__webpack_require__(32),PluginsDataActions=__webpack_require__(2100),localStore=__webpack_require__(42),PluginsListsStore,config=__webpack_require__(10);var _shortLists={},_fullLists={},_fetching={},_currentSearchTerm=null,_CACHEABLE_CATEGORIES=["featured","popular"],_STORAGE_LIST_NAME="CachedPluginsLists",_DEFAULT_FIRST_PAGE=1,_CACHE_TIME_TO_LIVE=10*60*1e3;function appendPage(category,page,list){_fullLists[category]=_fullLists[category]||[];_fullLists[category]=_fullLists[category].concat(clone(list))}function update(category,page,list){if(!page||page===_DEFAULT_FIRST_PAGE){_shortLists[category]=clone(list.slice(0,6));_fullLists[category]=clone(list);if(_CACHEABLE_CATEGORIES.indexOf(category)>=0){storePluginsList(category,_shortLists[category])}}else{appendPage(category,page,list)}}function storePluginsList(category,pluginsList){if(config.isEnabled("manage/plugins/cache")){var storedLists=localStore.get(_STORAGE_LIST_NAME)||{};storedLists[category]={list:pluginsList,fetched:Date.now()};localStore.set(_STORAGE_LIST_NAME,storedLists)}}function getPluginsListFromStorage(category){if(config.isEnabled("manage/plugins/cache")){var storedLists=localStore.get(_STORAGE_LIST_NAME);if(storedLists&&storedLists[category]){return storedLists[category]}}}function isCachedListStillValid(storedList){return Date.now()-storedList.fetched<_CACHE_TIME_TO_LIVE}PluginsListsStore={getShortList:function getShortList(category){var storedList;if(!_shortLists[category]&&!_fetching[category]){if(_CACHEABLE_CATEGORIES.indexOf(category)>=0){storedList=getPluginsListFromStorage(category)}if(storedList&&isCachedListStillValid(storedList)){_shortLists[category]=storedList.list}else{PluginsDataActions.fetchPluginsList(category,_DEFAULT_FIRST_PAGE)}_shortLists[category]=storedList?storedList.list:[]}return{fetching:!!_fetching[category],list:_shortLists[category]||[]}},getFullList:function getFullList(category){if(!_fullLists[category]){PluginsDataActions.fetchPluginsList(category,_DEFAULT_FIRST_PAGE)}return{fetching:_fetching[category]!==false,list:_fullLists[category]||[]}},getSearchList:function getSearchList(searchTerm){var isSearching=_fetching.search!==false;if(!searchTerm){return}searchTerm=searchTerm.trim();if(_currentSearchTerm!==searchTerm){_fullLists.search=null;_currentSearchTerm=searchTerm;PluginsDataActions.fetchPluginsList("search",0,searchTerm);isSearching=true}return{fetching:isSearching,list:_fullLists.search||[]}},emitChange:function emitChange(){this.emit("change")}};PluginsListsStore.dispatchToken=Dispatcher.register(function(payload){var action=payload.action;switch(action.type){case"RECEIVE_WPORG_PLUGINS_LIST":if(action.data){update(action.category,action.page,action.data);_fetching[action.category]=false;PluginsListsStore.emitChange()}break;case"FETCH_WPORG_PLUGINS_LIST":if(action.category){_fetching[action.category]=true;if(action.category==="search"){_currentSearchTerm=action.searchTerm;if(action.page===0){update("search",0,[])}}PluginsListsStore.emitChange()}break;case"RESET_WPORG_PLUGINS_LIST":_shortLists={};_fullLists={};_fetching={};_currentSearchTerm=null;break}});emitter(PluginsListsStore);module.exports=PluginsListsStore},2451:function(module,exports,__webpack_require__){"use strict";var debug=__webpack_require__(4)("jsonp"),qs=__webpack_require__(193);module.exports=jsonp;var count=0;function noop(){}function jsonp(url,query,fn){var prefix="__jp",timeout=6e4,enc=encodeURIComponent,target=document.getElementsByTagName("script")[0]||document.head,script,timer,id;id=prefix+count++;if(timeout){timer=setTimeout(function(){cleanup();if(fn){fn(new Error("Timeout"))}},timeout)}function cleanup(){if(script.parentNode){script.parentNode.removeChild(script)}window[id]=noop;if(timer){clearTimeout(timer)}}function cancel(){if(window[id]){cleanup()}}window[id]=function(data){debug("jsonp got",data);cleanup();if(fn){fn(null,data)}};url+="="+enc(id)+"?"+qs.stringify(query);debug('jsonp req "%s"',url);script=document.createElement("script");script.src=url;target.parentNode.insertBefore(script,target);return cancel}},2613:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BusinessPluginsPanel=undefined;var _extends2=__webpack_require__(19);var _extends3=_interopRequireDefault(_extends2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(21);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _card=__webpack_require__(145);var _card2=_interopRequireDefault(_card);var _sectionHeader=__webpack_require__(1451);var _sectionHeader2=_interopRequireDefault(_sectionHeader);var _purchaseButton=__webpack_require__(2165);var _purchaseButton2=_interopRequireDefault(_purchaseButton);var _actions=__webpack_require__(250);var _plugin=__webpack_require__(1938);var _plugin2=_interopRequireDefault(_plugin);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BusinessPluginsPanel=exports.BusinessPluginsPanel=_react2.default.createClass({displayName:"BusinessPluginsPanel",render:function render(){var _props=this.props;var _props$isActive=_props.isActive;var isActive=_props$isActive===undefined?false:_props$isActive;var _onClick=_props.onClick;var purchaseLink=_props.purchaseLink;var _props$plugins=_props.plugins;var plugins=_props$plugins===undefined?[]:_props$plugins;var cardClasses=(0,_classnames2.default)("wpcom-plugins__business-panel",{"is-disabled":!isActive});return _react2.default.createElement("div",null,_react2.default.createElement(_sectionHeader2.default,{label:this.translate("Business Plan Upgrades")},_react2.default.createElement(_purchaseButton2.default,{isActive:isActive,href:purchaseLink})),_react2.default.createElement(_card2.default,{className:cardClasses},_react2.default.createElement("div",{className:"wpcom-plugins__list"},plugins.map(function(_ref){var name=_ref.name;var descriptionLink=_ref.descriptionLink;var icon=_ref.icon;var category=_ref.category;var description=_ref.description;return _react2.default.createElement(_plugin2.default,(0,_extends3.default)({onClick:function onClick(){return _onClick(name)}},{name:name,key:name,descriptionLink:descriptionLink,icon:icon,isActive:isActive,category:category,description:description}))}))))}});BusinessPluginsPanel.propTypes={isActive:_react.PropTypes.bool,purchaseLink:_react.PropTypes.string.isRequired,plugins:_react.PropTypes.array};var trackClick=function trackClick(name){return(0,_actions.recordTracksEvent)("calypso_plugin_wpcom_click",{plugin_name:name,plugin_plan:"business"})};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onClick:function onClick(name){return dispatch(trackClick(name))}}};exports.default=(0,_reactRedux.connect)(null,mapDispatchToProps)(BusinessPluginsPanel)},2614:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WpcomPluginsPanel=undefined;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _pluginPanel=__webpack_require__(2615);var _pluginPanel2=_interopRequireDefault(_pluginPanel);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WpcomPluginsPanel=exports.WpcomPluginsPanel=_react2.default.createClass({displayName:"WpcomPluginsPanel",render:function render(){return _react2.default.createElement(_pluginPanel2.default,null)}});exports.default=WpcomPluginsPanel},2615:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginPanel=undefined;var _extends2=__webpack_require__(19);var _extends3=_interopRequireDefault(_extends2);var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);var _keys=__webpack_require__(44);var _keys2=_interopRequireDefault(_keys);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(21);var _get=__webpack_require__(30);var _get2=_interopRequireDefault(_get);var _i18nCalypso=__webpack_require__(13);var _card=__webpack_require__(145);var _card2=_interopRequireDefault(_card);var _selectors=__webpack_require__(70);var _selectors2=__webpack_require__(106);var _productsValues=__webpack_require__(80);var _standardPluginsPanel=__webpack_require__(2166);var _standardPluginsPanel2=_interopRequireDefault(_standardPluginsPanel);var _premiumPluginsPanel=__webpack_require__(2617);var _premiumPluginsPanel2=_interopRequireDefault(_premiumPluginsPanel);var _businessPluginsPanel=__webpack_require__(2613);var _businessPluginsPanel2=_interopRequireDefault(_businessPluginsPanel);var _pageViewTracker=__webpack_require__(1540);var _pageViewTracker2=_interopRequireDefault(_pageViewTracker);var _defaultPlugins=__webpack_require__(2164);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var linkInterpolator=function linkInterpolator(replacements){return function(plugin){var link=plugin.descriptionLink;var descriptionLink=(0,_keys2.default)(replacements).reduce(function(s,r){return s.replace(new RegExp("{"+r+"}"),replacements[r])},link);return(0,_assign2.default)({},plugin,{descriptionLink:descriptionLink})}};var PluginPanel=exports.PluginPanel=_react2.default.createClass({displayName:"PluginPanel",render:function render(){var _props=this.props;var plan=_props.plan;var siteSlug=_props.siteSlug;var standardPluginsLink="/plugins/standard/"+siteSlug;var purchaseLink="/plans/"+siteSlug;var hasBusiness=(0,_productsValues.isBusiness)(plan)||(0,_productsValues.isEnterprise)(plan);var hasPremium=hasBusiness||(0,_productsValues.isPremium)(plan);var interpolateLink=linkInterpolator({siteSlug:siteSlug});var standardPlugins=_defaultPlugins.defaultStandardPlugins.map(interpolateLink);var premiumPlugins=_defaultPlugins.defaultPremiumPlugins.map(interpolateLink);var businessPlugins=_defaultPlugins.defaultBusinessPlugins.map(interpolateLink);return _react2.default.createElement("div",{className:"wpcom-plugin-panel"},_react2.default.createElement(_pageViewTracker2.default,{path:"/plugins/:site",title:"Plugins > WPCOM Site"}),_react2.default.createElement(_card2.default,{compact:true,className:"plugins-wpcom__header"},_react2.default.createElement("div",{className:"plugins-wpcom__header-text"},_react2.default.createElement("span",{className:"plugins-wpcom__header-title"},this.translate("Included Plugins")),_react2.default.createElement("span",{className:"plugins-wpcom__header-subtitle"},this.translate("Every plan includes a set of plugins specially tailored to supercharge your site."))),_react2.default.createElement("img",{className:"plugins-wpcom__header-image",src:"/calypso/images/plugins/plugins_hero.svg"})),_react2.default.createElement(_standardPluginsPanel2.default,{plugins:standardPlugins,displayCount:9}),_react2.default.createElement(_card2.default,{className:"wpcom-plugin-panel__panel-footer",href:standardPluginsLink},this.translate("View all standard plugins")),_react2.default.createElement(_premiumPluginsPanel2.default,(0,_extends3.default)({plugins:premiumPlugins,isActive:hasPremium},{purchaseLink:purchaseLink})),_react2.default.createElement(_businessPluginsPanel2.default,(0,_extends3.default)({plugins:businessPlugins,isActive:hasBusiness},{purchaseLink:purchaseLink})))}});var mapStateToProps=function mapStateToProps(state){return{plan:(0,_get2.default)((0,_selectors.getSelectedSite)(state),"plan",{}),siteSlug:(0,_selectors2.getSiteSlug)(state,(0,_selectors.getSelectedSiteId)(state))}};exports.default=(0,_reactRedux.connect)(mapStateToProps)((0,_i18nCalypso.localize)(PluginPanel))},2616:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginsList=undefined;var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(21);var _noop=__webpack_require__(36);var _noop2=_interopRequireDefault(_noop);var _headerCake=__webpack_require__(1460);var _headerCake2=_interopRequireDefault(_headerCake);var _pageViewTracker=__webpack_require__(1540);var _pageViewTracker2=_interopRequireDefault(_pageViewTracker);var _selectors=__webpack_require__(70);var _selectors2=__webpack_require__(106);var _standardPluginsPanel=__webpack_require__(2166);var _standardPluginsPanel2=_interopRequireDefault(_standardPluginsPanel);var _defaultPlugins=__webpack_require__(2164);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PluginsList=exports.PluginsList=_react2.default.createClass({displayName:"PluginsList",render:function render(){var siteSlug=this.props.siteSlug;var backHref="/plugins/"+siteSlug;return _react2.default.createElement("div",{className:"wpcom-plugin-panel wpcom-plugins-expanded"},_react2.default.createElement(_pageViewTracker2.default,{path:"/plugins/standard/:site",title:"Plugins > WPCOM Site > Standard Plugins"}),_react2.default.createElement(_headerCake2.default,{backHref:backHref,onClick:_noop2.default},"Standard Plugins"),_react2.default.createElement(_standardPluginsPanel2.default,{plugins:_defaultPlugins.defaultStandardPlugins}))}});var mapStateToProps=function mapStateToProps(state){return{siteSlug:(0,_selectors2.getSiteSlug)(state,(0,_selectors.getSelectedSiteId)(state))}};exports.default=(0,_reactRedux.connect)(mapStateToProps)(PluginsList)},2617:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PremiumPluginsPanel=undefined;var _extends2=__webpack_require__(19);var _extends3=_interopRequireDefault(_extends2);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(21);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _card=__webpack_require__(145);var _card2=_interopRequireDefault(_card);var _sectionHeader=__webpack_require__(1451);var _sectionHeader2=_interopRequireDefault(_sectionHeader);var _purchaseButton=__webpack_require__(2165);var _purchaseButton2=_interopRequireDefault(_purchaseButton);var _actions=__webpack_require__(250);var _plugin=__webpack_require__(1938);var _plugin2=_interopRequireDefault(_plugin);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PremiumPluginsPanel=exports.PremiumPluginsPanel=_react2.default.createClass({displayName:"PremiumPluginsPanel",render:function render(){var _props=this.props;var _props$isActive=_props.isActive;var isActive=_props$isActive===undefined?false:_props$isActive;var _onClick=_props.onClick;var purchaseLink=_props.purchaseLink;var _props$plugins=_props.plugins;var plugins=_props$plugins===undefined?[]:_props$plugins;var cardClasses=(0,_classnames2.default)("wpcom-plugins__premium-panel",{"is-disabled":!isActive});return _react2.default.createElement("div",null,_react2.default.createElement(_sectionHeader2.default,{label:this.translate("Premium Plan Upgrades")},_react2.default.createElement(_purchaseButton2.default,{isActive:isActive,href:purchaseLink})),_react2.default.createElement(_card2.default,{className:cardClasses},_react2.default.createElement("div",{className:"wpcom-plugins__list"},plugins.map(function(_ref){var name=_ref.name;var descriptionLink=_ref.descriptionLink;var icon=_ref.icon;var category=_ref.category;var description=_ref.description;return _react2.default.createElement(_plugin2.default,(0,_extends3.default)({onClick:function onClick(){return _onClick(name)}},{name:name,key:name,descriptionLink:descriptionLink,icon:icon,isActive:isActive,category:category,description:description}))}))))}});PremiumPluginsPanel.propTypes={isActive:_react.PropTypes.bool,purchaseLink:_react.PropTypes.string.isRequired,plugins:_react.PropTypes.array};var trackClick=function trackClick(name){return(0,_actions.recordTracksEvent)("calypso_plugin_wpcom_click",{plugin_name:name,plugin_plan:"premium"})};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onClick:function onClick(name){return dispatch(trackClick(name))}}};exports.default=(0,_reactRedux.connect)(null,mapDispatchToProps)(PremiumPluginsPanel)},2618:function(module,exports,__webpack_require__){"use strict";var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);var _reactDom=__webpack_require__(43);var _reactDom2=_interopRequireDefault(_reactDom);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _page=__webpack_require__(40);var _page2=_interopRequireDefault(_page);var _some=__webpack_require__(82);var _some2=_interopRequireDefault(_some);var _includes=__webpack_require__(34);var _includes2=_interopRequireDefault(_includes);var _capitalize=__webpack_require__(404);var _capitalize2=_interopRequireDefault(_capitalize);var _i18nCalypso=__webpack_require__(13);var _i18nCalypso2=_interopRequireDefault(_i18nCalypso);var _route=__webpack_require__(122);var _route2=_interopRequireDefault(_route);var _notices=__webpack_require__(71);var _notices2=_interopRequireDefault(_notices);var _sitesList=__webpack_require__(55);var _sitesList2=_interopRequireDefault(_sitesList);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);var _jetpackPluginsSetup=__webpack_require__(2619);var _jetpackPluginsSetup2=_interopRequireDefault(_jetpackPluginsSetup);var _main=__webpack_require__(2620);var _main2=_interopRequireDefault(_main);var _plugin=__webpack_require__(2632);var _plugin2=_interopRequireDefault(_plugin);var _pluginsBrowser=__webpack_require__(2635);var _pluginsBrowser2=_interopRequireDefault(_pluginsBrowser);var _actions=__webpack_require__(648);var _reactHelpers=__webpack_require__(1458);var _actions2=__webpack_require__(157);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var allowedCategoryNames=["new","popular","featured"];var sites=(0,_sitesList2.default)();var lastPluginsListVisited=void 0,lastPluginsQuerystring=void 0;function renderSinglePlugin(context,siteUrl){var pluginSlug=decodeURIComponent(context.params.plugin);var site=sites.getSelectedSite();var analyticsPageTitle="Plugins";var baseAnalyticsPath="plugins/:plugin";if(site){baseAnalyticsPath+="/:site"}_analytics2.default.pageView.record(baseAnalyticsPath,analyticsPageTitle+" > Plugin Details");window.scrollTo(0,0);(0,_reactHelpers.renderWithReduxStore)(_react2.default.createElement(_plugin2.default,{path:context.path,prevPath:lastPluginsListVisited||context.prevPath,prevQuerystring:lastPluginsQuerystring,sites:sites,pluginSlug:pluginSlug,siteUrl:siteUrl,onPluginRefresh:function onPluginRefresh(title){return context.store.dispatch((0,_actions.setDocumentHeadTitle)(title))}}),document.getElementById("primary"),context.store)}function getPathWithoutSiteSlug(context,site){var path=context.pathname;if(site&&site.slug){path=path.replace("/"+site.slug,"")}return path}function renderPluginList(context,basePath){var search=context.query.s;var site=sites.getSelectedSite();lastPluginsListVisited=getPathWithoutSiteSlug(context,site);lastPluginsQuerystring=context.querystring;context.store.dispatch((0,_actions.setDocumentHeadTitle)(_i18nCalypso2.default.translate("Plugins",{textOnly:true})));(0,_reactHelpers.renderWithReduxStore)(_react2.default.createElement(_main2.default,{path:basePath,context:context,filter:context.params.pluginFilter,sites:sites,search:search}),document.getElementById("primary"),context.store);if(search){_analytics2.default.ga.recordEvent("Plugins","Search","Search term",search)}var analyticsPageTitle="Plugins"+(context.params.pluginFilter?" "+(0,_capitalize2.default)(context.params.pluginFilter):"");_analytics2.default.pageView.record(context.pathname.replace(site.domain,":site"),analyticsPageTitle)}function renderPluginsBrowser(context){var searchTerm=context.query.s;var site=sites.getSelectedSite();var category=context.params.category;lastPluginsListVisited=getPathWithoutSiteSlug(context,site);lastPluginsQuerystring=context.querystring;if(context.params.siteOrCategory&&allowedCategoryNames.indexOf(context.params.siteOrCategory)>=0){category=context.params.siteOrCategory}if(!site&&allowedCategoryNames.indexOf(context.params.siteOrCategory)<0){site={slug:context.params.siteOrCategory}}context.store.dispatch((0,_actions.setDocumentHeadTitle)(_i18nCalypso2.default.translate("Plugin Browser",{textOnly:true})));var analyticsPageTitle="Plugin Browser"+(category?": "+category:"");_analytics2.default.pageView.record(context.pathname.replace(site.domain,":site"),analyticsPageTitle);(0,_reactHelpers.renderWithReduxStore)(_react2.default.createElement(_pluginsBrowser2.default,{site:site?site.slug:null,path:context.path,category:category,sites:sites,search:searchTerm}),document.getElementById("primary"),context.store)}function renderProvisionPlugins(context){var section=context.store.getState().ui.section;var site=sites.getSelectedSite();context.store.dispatch((0,_actions2.setSection)((0,_assign2.default)({},section,{secondary:false})));_reactDom2.default.unmountComponentAtNode(document.getElementById("secondary"));_analytics2.default.pageView.record(context.pathname.replace(site.domain,":site"),"Jetpack Plugins Setup");(0,_reactHelpers.renderWithReduxStore)(_react2.default.createElement(_jetpackPluginsSetup2.default,{whitelist:context.query.only||false}),document.getElementById("primary"),context.store)}var controller={validateFilters:function validateFilters(filter,context,next){var wpcomFilter="standard";var siteUrl=_route2.default.getSiteFragment(context.path);var site=sites.getSelectedSite();var appliedFilter=(filter?filter:context.params.plugin).toLowerCase();if(siteUrl&&appliedFilter===siteUrl.toString().toLowerCase()){next();return}var pluginIsNotInList=!site.jetpack&&!(0,_includes2.default)(["all",wpcomFilter],appliedFilter);var onlyJetPack=site.jetpack&&appliedFilter===wpcomFilter;if(siteUrl&&(pluginIsNotInList||onlyJetPack)){_page2.default.redirect("/plugins/"+siteUrl);return}else if(!siteUrl&&appliedFilter===wpcomFilter){_page2.default.redirect("/plugins");return}next()},plugins:function plugins(filter,context,next){var siteUrl=_route2.default.getSiteFragment(context.path);var basePath=_route2.default.sectionify(context.path).replace("/"+filter,"");if(!siteUrl&&sites.getJetpack().length===0){return next()}context.params.pluginFilter=filter;_notices2.default.clearNotices("notices");renderPluginList(context,basePath)},plugin:function plugin(context){var siteUrl=_route2.default.getSiteFragment(context.path);if(siteUrl&&context.params.plugin&&context.params.plugin===siteUrl.toString()){controller.plugins("all",context);return}_notices2.default.clearNotices("notices");renderSinglePlugin(context,siteUrl)},browsePlugins:function browsePlugins(context){renderPluginsBrowser(context)},jetpackCanUpdate:function jetpackCanUpdate(filter,context,next){var selectedSites=sites.getSelectedOrAllWithPlugins();var redirectToPlugins=false;if("updates"===filter&&selectedSites.length){redirectToPlugins=!(0,_some2.default)(sites.getSelectedOrAllWithPlugins(),function(site){return site&&site.jetpack&&site.canUpdateFiles});if(redirectToPlugins){if(context.params&&context.params.site_id){_page2.default.redirect("/plugins/"+context.params.site_id);return}_page2.default.redirect("/plugins");return}}next()},setupPlugins:function setupPlugins(context){renderProvisionPlugins(context)}};module.exports=controller},2619:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);var _react=__webpack_require__(1);
var _react2=_interopRequireDefault(_react);var _page=__webpack_require__(40);var _page2=_interopRequireDefault(_page);var _redux=__webpack_require__(6);var _reactRedux=__webpack_require__(21);var _filter=__webpack_require__(69);var _filter2=_interopRequireDefault(_filter);var _range=__webpack_require__(678);var _range2=_interopRequireDefault(_range);var _card=__webpack_require__(145);var _card2=_interopRequireDefault(_card);var _compact=__webpack_require__(1450);var _compact2=_interopRequireDefault(_compact);var _featureExample=__webpack_require__(690);var _featureExample2=_interopRequireDefault(_featureExample);var _button=__webpack_require__(68);var _button2=_interopRequireDefault(_button);var _notice=__webpack_require__(79);var _notice2=_interopRequireDefault(_notice);var _noticeAction=__webpack_require__(151);var _noticeAction2=_interopRequireDefault(_noticeAction);var _spinner=__webpack_require__(350);var _spinner2=_interopRequireDefault(_spinner);var _queryPluginKeys=__webpack_require__(2281);var _queryPluginKeys2=_interopRequireDefault(_queryPluginKeys);var _pluginIcon=__webpack_require__(1661);var _pluginIcon2=_interopRequireDefault(_pluginIcon);var _jetpackManageErrorPage=__webpack_require__(670);var _jetpackManageErrorPage2=_interopRequireDefault(_jetpackManageErrorPage);var _pluginItem=__webpack_require__(1942);var _pluginItem2=_interopRequireDefault(_pluginItem);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);var _jetpack=__webpack_require__(726);var _jetpack2=_interopRequireDefault(_jetpack);var _sitesList=__webpack_require__(55);var _sitesList2=_interopRequireDefault(_sitesList);var _support=__webpack_require__(339);var _support2=_interopRequireDefault(_support);var _utils=__webpack_require__(186);var _utils2=_interopRequireDefault(_utils);var _selectors=__webpack_require__(70);var _selectors2=__webpack_require__(1994);var _actions=__webpack_require__(1993);var _actions2=__webpack_require__(697);var _actions3=__webpack_require__(2217);var _selectors3=__webpack_require__(728);var _store=__webpack_require__(1718);var _store2=_interopRequireDefault(_store);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var sites=(0,_sitesList2.default)();var helpLinks={vaultpress:_support2.default.JETPACK_SERVICE_VAULTPRESS,akismet:_support2.default.JETPACK_SERVICE_AKISMET,polldaddy:_support2.default.JETPACK_SERVICE_POLLDADDY};var PlansSetup=_react2.default.createClass({displayName:"PlanSetup",sentTracks:false,trackConfigFinished:function trackConfigFinished(eventName){var options=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(!this.sentTracks){_analytics2.default.tracks.recordEvent(eventName,options)}this.sentTracks=true},trackManualInstall:function trackManualInstall(){_analytics2.default.tracks.recordEvent("calypso_plans_autoconfig_click_manual_error")},trackContactSupport:function trackContactSupport(){_analytics2.default.tracks.recordEvent("calypso_plans_autoconfig_click_contact_support")},addWporgDataToPlugins:function addWporgDataToPlugins(plugins){var _this=this;return plugins.map(function(plugin){var pluginData=(0,_selectors2.getPlugin)(_this.props.wporg,plugin.slug);if(!pluginData){_this.props.fetchPluginData(plugin.slug)}return(0,_assign2.default)({},plugin,pluginData)})},allPluginsHaveWporgData:function allPluginsHaveWporgData(){var plugins=this.addWporgDataToPlugins(this.props.plugins);return plugins.length===(0,_filter2.default)(plugins,{wporg:true}).length},componentDidMount:function componentDidMount(){var _this2=this;window.addEventListener("beforeunload",this.warnIfNotFinished);this.props.requestSites();_page2.default.exit("/plugins/setup/*",function(context,next){var confirmText=_this2.warnIfNotFinished({});if(!confirmText){return next()}if(window.confirm(confirmText)){next()}else{(function(){var currentPath=context.canonicalPath;setTimeout(function(){_page2.default.replace(currentPath,null,false,false)},0)})()}})},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("beforeunload",this.warnIfNotFinished)},componentDidUpdate:function componentDidUpdate(){var site=this.props.selectedSite;if(site&&site.jetpack&&site.canUpdateFiles&&site.canManage()&&this.allPluginsHaveWporgData()&&!this.props.isInstalling&&this.props.nextPlugin){this.startNextPlugin(this.props.nextPlugin)}},warnIfNotFinished:function warnIfNotFinished(event){var site=this.props.selectedSite;if(!site||!site.jetpack||!site.canUpdateFiles||!site.canManage()||this.props.isFinished){return}_analytics2.default.tracks.recordEvent("calypso_plans_autoconfig_user_interrupt");var beforeUnloadText=this.translate("We haven't finished installing your plugins.");(event||window.event).returnValue=beforeUnloadText;return beforeUnloadText},startNextPlugin:function startNextPlugin(plugin){var install=this.props.installPlugin;var site=this.props.selectedSite;plugin=(0,_assign2.default)({},plugin,(0,_selectors2.getPlugin)(this.props.wporg,plugin.slug));var getPluginFromStore=function getPluginFromStore(){var sitePlugin=_store2.default.getSitePlugin(site,plugin.slug);if(!sitePlugin&&_store2.default.isFetchingSite(site)){return setTimeout(getPluginFromStore,500)}plugin=(0,_assign2.default)({id:plugin.slug},plugin,sitePlugin);install(plugin,site)};getPluginFromStore()},renderNoJetpackSiteSelected:function renderNoJetpackSiteSelected(){this.trackConfigFinished("calypso_plans_autoconfig_error_wordpresscom");return _react2.default.createElement(_jetpackManageErrorPage2.default,{site:this.props.selectedSite,title:this.translate("Oh no! You need to select a jetpack site to be able to setup your plan"),illustration:"/calypso/images/jetpack/jetpack-manage.svg"})},renderCantInstallPlugins:function renderCantInstallPlugins(){var site=this.props.selectedSite;var reasons=_utils2.default.getSiteFileModDisableReason(site,"modifyFiles");var reason=void 0;if(reasons&&reasons.length>0){reason=reasons[0];this.trackConfigFinished("calypso_plans_autoconfig_error_filemod",{error:reason})}else if(!site.hasMinimumJetpackVersion){reason=this.translate("You need to update your version of Jetpack.");this.trackConfigFinished("calypso_plans_autoconfig_error_jpversion",{jetpack_version:site.options.jetpack_version})}else if(!site.isMainNetworkSite()){reason=this.translate("We can't install plugins on multisite sites.");this.trackConfigFinished("calypso_plans_autoconfig_error_multisite")}else if(site.options.is_multi_network){reason=this.translate("We can't install plugins on multi-network sites.");this.trackConfigFinished("calypso_plans_autoconfig_error_multinetwork")}return _react2.default.createElement(_jetpackManageErrorPage2.default,{site:this.props.selectedSite,action:this.translate("Contact Support"),actionURL:_support2.default.JETPACK_CONTACT_SUPPORT,title:this.translate("Oh no! We can't install plugins on this site."),line:reason,illustration:"/calypso/images/jetpack/jetpack-manage.svg"})},renderNoJetpackPlan:function renderNoJetpackPlan(){return _react2.default.createElement("div",null,_react2.default.createElement("h1",{className:"jetpack-plugins-setup__header"},this.translate("Nothing to do here…")))},renderPluginsPlaceholders:function renderPluginsPlaceholders(){var placeholderCount=3;return(0,_range2.default)(placeholderCount).map(function(i){return _react2.default.createElement(_pluginItem2.default,{key:"placeholder-"+i})})},renderPlugins:function renderPlugins(){var _this3=this;var hidden=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var site=this.props.selectedSite;if(this.props.isRequesting||_store2.default.isFetchingSite(site)){return this.renderPluginsPlaceholders()}var plugins=this.addWporgDataToPlugins(this.props.plugins);return plugins.map(function(item,i){var plugin=(0,_assign2.default)({},item,(0,_selectors2.getPlugin)(_this3.props.wporg,item.slug));return _react2.default.createElement(_compact2.default,{className:"plugin-item",key:i},_react2.default.createElement("span",{className:"plugin-item__link"},_react2.default.createElement(_pluginIcon2.default,{image:plugin.icon}),_react2.default.createElement("div",{className:"plugin-item__title"},plugin.name),hidden?_react2.default.createElement(_notice2.default,{key:0,isCompact:true,showDismiss:false,icon:"plugins",text:_this3.translate("Waiting to install")}):_this3.renderStatus(plugin)),_this3.renderActions(plugin))})},renderStatus:function renderStatus(plugin){var statusProps={isCompact:true,status:"is-info",showDismiss:false};if(plugin.error){statusProps.status="is-error";switch(plugin.status){case"install":statusProps.text=this.translate("An error occurred when installing %(plugin)s.",{args:{plugin:plugin.name}});break;case"activate":statusProps.text=this.translate("An error occurred when activating %(plugin)s.",{args:{plugin:plugin.name}});break;case"configure":statusProps.text=this.translate("An error occurred when configuring %(plugin)s.",{args:{plugin:plugin.name}});break;default:statusProps.text=plugin.error.message||this.translate("An error occured.");break}statusProps.children=_react2.default.createElement(_noticeAction2.default,{key:"notice_action",href:helpLinks[plugin.slug],onClick:this.trackManualInstall},this.translate("Manual Installation"))}else{statusProps.icon="plugins";statusProps.status="is-info";switch(plugin.status){case"done":return _react2.default.createElement("div",{className:"plugin-item__finished"},this.translate("Successfully installed & configured."));case"activate":case"configure":statusProps.text=this.translate("Almost done");break;case"install":statusProps.text=this.translate("Working…");break;case"wait":default:statusProps.text=this.translate("Waiting to install")}}return _react2.default.createElement(_notice2.default,statusProps)},renderActions:function renderActions(plugin){if(plugin.status==="wait"){return null}else if(plugin.error!==null){return null}else if(plugin.status!=="done"){return _react2.default.createElement("div",{className:"plugin-item__actions"},_react2.default.createElement(_spinner2.default,null))}return null},renderErrorMessage:function renderErrorMessage(){var noticeText=void 0;var plugins=this.addWporgDataToPlugins(this.props.plugins);var pluginsWithErrors=(0,_filter2.default)(plugins,function(item){return item.error!==null});var tracksData={};pluginsWithErrors.map(function(item){tracksData[item.slug]=item.error.name+": "+item.error.message});this.trackConfigFinished("calypso_plans_autoconfig_error_plugin",tracksData);if(pluginsWithErrors.length===1){noticeText=this.translate("There was an issue installing %(plugin)s. "+"It may be possible to fix this by {{a}}manually installing{{/a}} the plugin.",{args:{plugin:pluginsWithErrors[0].name},components:{a:_react2.default.createElement("a",{href:_support2.default.JETPACK_SUPPORT,onClick:this.trackManualInstall})}})}else{noticeText=this.translate("There were some issues installing your plugins. "+"It may be possible to fix this by {{a}}manually installing{{/a}} the plugins.",{components:{a:_react2.default.createElement("a",{href:_support2.default.JETPACK_SUPPORT,onClick:this.trackManualInstall})}})}return _react2.default.createElement(_notice2.default,{status:"is-error",text:noticeText,showDismiss:false},_react2.default.createElement(_noticeAction2.default,{href:_support2.default.JETPACK_CONTACT_SUPPORT,onClick:this.trackContactSupport},this.translate("Contact Support")))},renderSuccess:function renderSuccess(){var site=this.props.selectedSite;if(!this.props.hasRequested||!this.props.isFinished){return null}var pluginsWithErrors=(0,_filter2.default)(this.props.plugins,function(item){return item.error!==null});if(pluginsWithErrors.length){return this.renderErrorMessage(pluginsWithErrors)}this.trackConfigFinished("calypso_plans_autoconfig_success");var noticeText=this.translate("We've set up your plugin, your site is powered up!","We've set up your plugins, your site is powered up!",{count:this.props.plugins.length});return _react2.default.createElement(_notice2.default,{status:"is-success",text:noticeText,showDismiss:false},_react2.default.createElement(_noticeAction2.default,{href:"/plans/my-plan/"+site.slug},this.translate("Continue")))},renderPlaceholder:function renderPlaceholder(){return _react2.default.createElement("div",{className:"jetpack-plugins-setup"},_react2.default.createElement("h1",{className:"jetpack-plugins-setup__header is-placeholder"},this.translate("Setting up your plan")),_react2.default.createElement("p",{className:"jetpack-plugins-setup__description is-placeholder"},this.translate("We need to install a few plugins for you. It won't take long!")),this.renderPluginsPlaceholders())},render:function render(){var site=this.props.selectedSite;if(!site&&sites.fetching){return this.renderPlaceholder()}if(!site||!site.jetpack){return this.renderNoJetpackSiteSelected()}if(!site.canUpdateFiles){return this.renderCantInstallPlugins()}if(site&&!sites.fetching&&!this.props.isRequesting&&!_store2.default.isFetchingSite(site)&&!this.props.plugins.length){return this.renderNoJetpackPlan()}var turnOnManage=void 0;if(site&&!site.canManage()){var manageUrl=site.getRemoteManagementURL()+"&section=plugins-setup";turnOnManage=_react2.default.createElement(_card2.default,{className:"jetpack-plugins-setup__need-manage"},_react2.default.createElement("p",null,this.translate("{{strong}}Jetpack Manage must be enabled for us to auto-configure your %(plan)s plan.{{/strong}} This will allow WordPress.com to communicate with your site and auto-configure the features unlocked with your new plan. Or you can opt out.",{args:{plan:site.plan.product_name_short},components:{strong:_react2.default.createElement("strong",null)}})),_react2.default.createElement(_button2.default,{primary:true,href:manageUrl},this.translate("Enable Manage")),_react2.default.createElement(_button2.default,{href:_support2.default.JETPACK_SUPPORT},this.translate("Manual Installation")))}return _react2.default.createElement("div",{className:"jetpack-plugins-setup"},_react2.default.createElement(_queryPluginKeys2.default,{siteId:site.ID}),_react2.default.createElement("h1",{className:"jetpack-plugins-setup__header"},this.translate("Setting up your %(plan)s Plan",{args:{plan:site.plan.product_name_short}})),_react2.default.createElement("p",{className:"jetpack-plugins-setup__description"},this.translate("We need to install a few plugins for you. It won't take long!")),turnOnManage,!turnOnManage&&this.renderSuccess(),turnOnManage?_react2.default.createElement(_featureExample2.default,null,this.renderPlugins(true)):this.renderPlugins(false))}});exports.default=(0,_reactRedux.connect)(function(state,ownProps){var siteId=(0,_selectors.getSelectedSiteId)(state);var site=sites.getSelectedSite();var plugins=(0,_filter2.default)((0,_selectors3.getPluginsForSite)(state,siteId),function(plugin){if(!!ownProps.whitelist){return ownProps.whitelist===plugin.slug}return true});return{wporg:state.plugins.wporg.items,isRequesting:(0,_selectors3.isRequesting)(state,siteId),hasRequested:(0,_selectors3.hasRequested)(state,siteId),isInstalling:(0,_selectors3.isInstalling)(state,siteId),isFinished:(0,_selectors3.isFinished)(state,siteId),plugins:plugins,activePlugin:(0,_selectors3.getActivePlugin)(state,siteId),nextPlugin:(0,_selectors3.getNextPlugin)(state,siteId),selectedSite:site&&site.jetpack?(0,_jetpack2.default)(site):site,siteId:siteId}},function(dispatch){return(0,_redux.bindActionCreators)({requestSites:_actions2.requestSites,fetchPluginData:_actions.fetchPluginData,installPlugin:_actions3.installPlugin},dispatch)})(PlansSetup);module.exports=exports["default"]},2620:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _redux=__webpack_require__(6);var _reactRedux=__webpack_require__(21);var _debug=__webpack_require__(4);var _debug2=_interopRequireDefault(_debug);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _get=__webpack_require__(30);var _get2=_interopRequireDefault(_get);var _some=__webpack_require__(82);var _some2=_interopRequireDefault(_some);var _find=__webpack_require__(33);var _find2=_interopRequireDefault(_find);var _isEmpty=__webpack_require__(81);var _isEmpty2=_interopRequireDefault(_isEmpty);var _main=__webpack_require__(147);var _main2=_interopRequireDefault(_main);var _sidebarNavigation=__webpack_require__(1465);var _sidebarNavigation2=_interopRequireDefault(_sidebarNavigation);var _accessControl=__webpack_require__(1939);var _accessControl2=_interopRequireDefault(_accessControl);var _pluginItem=__webpack_require__(1942);var _pluginItem2=_interopRequireDefault(_pluginItem);var _sectionNav=__webpack_require__(1473);var _sectionNav2=_interopRequireDefault(_sectionNav);var _tabs=__webpack_require__(1471);var _tabs2=_interopRequireDefault(_tabs);var _item=__webpack_require__(1470);var _item2=_interopRequireDefault(_item);var _noResults=__webpack_require__(1494);var _noResults2=_interopRequireDefault(_noResults);var _search=__webpack_require__(651);var _search2=_interopRequireDefault(_search);var _urlSearch=__webpack_require__(1499);var _urlSearch2=_interopRequireDefault(_urlSearch);var _emptyContent=__webpack_require__(185);var _emptyContent2=_interopRequireDefault(_emptyContent);var _store=__webpack_require__(1718);var _store2=_interopRequireDefault(_store);var _actions=__webpack_require__(1993);var _selectors=__webpack_require__(1994);var _selectors2=_interopRequireDefault(_selectors);var _featureExample=__webpack_require__(690);var _featureExample2=_interopRequireDefault(_featureExample);var _pluginsList=__webpack_require__(2636);var _pluginsList2=_interopRequireDefault(_pluginsList);var _jetpackManageErrorPage=__webpack_require__(670);var _jetpackManageErrorPage2=_interopRequireDefault(_jetpackManageErrorPage);var _pluginsWpcom=__webpack_require__(2614);var _pluginsWpcom2=_interopRequireDefault(_pluginsWpcom);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=(0,_debug2.default)("calypso:my-sites:plugins");var PluginsMain=_react2.default.createClass({displayName:"PluginsMain",mixins:[_urlSearch2.default],getInitialState:function getInitialState(){return this.getPluginsState(this.props)},componentDidMount:function componentDidMount(){debug("Plugins React component mounted.");this.props.sites.on("change",this.refreshPlugins);_store2.default.on("change",this.refreshPlugins)},componentWillUnmount:function componentWillUnmount(){this.props.sites.removeListener("change",this.refreshPlugins);_store2.default.removeListener("change",this.refreshPlugins)},componentWillReceiveProps:function componentWillReceiveProps(nextProps){this.refreshPlugins(nextProps)},getPluginsFromStore:function getPluginsFromStore(nextProps,sites){var props=nextProps||this.props;var plugins=null;if(!props.sites.selected){plugins=_store2.default.getPlugins(sites.filter(function(site){return site.visible}),props.filter)}else{plugins=_store2.default.getPlugins(sites,props.filter)}if(!plugins){return plugins}if(props&&props.search){plugins=plugins.filter(this.matchSearchTerms.bind(this,props.search))}return this.addWporgDataToPlugins(plugins)},addWporgDataToPlugins:function addWporgDataToPlugins(plugins){var _this=this;return plugins.map(function(plugin){var pluginData=_selectors2.default.getPlugin(_this.props.wporgPlugins,plugin.slug);if(!pluginData){_this.props.wporgFetchPluginData(plugin.slug)}return(0,_assign2.default)({},plugin,pluginData)})},getPluginsState:function getPluginsState(nextProps){var sites=this.props.sites.getSelectedOrAllWithPlugins(),pluginUpdate=_store2.default.getPlugins(sites,"updates");return{accessError:_accessControl2.default.hasRestrictedAccess(),plugins:this.getPluginsFromStore(nextProps,sites),pluginUpdateCount:pluginUpdate&&pluginUpdate.length,selectedAction:"Actions"}},refreshPlugins:function refreshPlugins(nextProps){this.setState(this.getPluginsState(nextProps))},matchSearchTerms:function matchSearchTerms(search,plugin){search=search.toLowerCase();return["name","description","author"].some(function(attribute){return plugin[attribute]&&plugin[attribute].toLowerCase().indexOf(search)!==-1})},getFilters:function getFilters(){var siteFilter=this.props.sites.selected?"/"+this.props.sites.selected:"";return[{title:this.translate("All",{context:"Filter label for plugins list"}),path:"/plugins"+siteFilter,id:"all"},{title:this.translate("Active",{context:"Filter label for plugins list"}),path:"/plugins/active"+siteFilter,id:"active"},{title:this.translate("Inactive",{context:"Filter label for plugins list"}),path:"/plugins/inactive"+siteFilter,id:"inactive"},{title:this.translate("Updates",{context:"Filter label for plugins list"}),path:"/plugins/updates"+siteFilter,id:"updates"}]},isFetchingPlugins:function isFetchingPlugins(){var sites=this.props.sites.getSelectedOrAllWithPlugins()||[];return sites.some(_store2.default.isFetchingSite)},getSelectedText:function getSelectedText(){var _this2=this;var found=(0,_find2.default)(this.getFilters(),function(filterItem){return _this2.props.filter===filterItem.id});if("undefined"!==typeof found){return found.title}return""},getSearchPlaceholder:function getSearchPlaceholder(){switch(this.props.filter){case"active":return this.translate("Search All…",{textOnly:true});case"inactive":return this.translate("Search Inactive…",{textOnly:true});case"updates":return this.translate("Search Updates…",{textOnly:true});case"all":return this.translate("Search All…",{textOnly:true})}},getEmptyContentUpdateData:function getEmptyContentUpdateData(){var emptyContentData={illustration:"/calypso/images/drake/drake-ok.svg"},selectedSite=this.props.sites.getSelectedSite();if(selectedSite){emptyContentData.title=this.translate("All plugins on %(siteName)s are {{span}}up to date.{{/span}}",{textOnly:true,args:{siteName:selectedSite.title},components:{span:_react2.default.createElement("span",{className:"plugins__plugin-list-state"})},comment:"The span tags prevents single words from showing on a single line."})}else{emptyContentData.title=this.translate("All plugins are up to date.",{textOnly:true})}if(this.getUpdatesTabVisibility()){return emptyContentData}emptyContentData.action=this.translate("All Plugins",{textOnly:true});if(selectedSite){emptyContentData.actionURL="/plugins/"+selectedSite.slug;if(selectedSite.jetpack){emptyContentData.illustration="/calypso/images/drake/drake-jetpack.svg";emptyContentData.title=this.translate("Plugins can't be updated on %(siteName)s.",{textOnly:true,args:{siteName:selectedSite.title}})}else{emptyContentData.title=this.translate("Plugins are updated automatically on %(siteName)s.",{textOnly:true,args:{siteName:selectedSite.title}})}}else{emptyContentData.title=this.translate("No updates are available.",{textOnly:true});emptyContentData.illustration="/calypso/images/drake/drake-empty-results.svg";emptyContentData.actionURL="/plugins"}return emptyContentData},getEmptyContentData:function getEmptyContentData(){var emptyContentData={illustration:"/calypso/images/drake/drake-empty-results.svg"};switch(this.props.filter){case"active":emptyContentData.title=this.translate("No plugins are active.",{textOnly:true});break;case"inactive":emptyContentData.title=this.translate("No plugins are inactive.",{textOnly:true});break;case"updates":emptyContentData=this.getEmptyContentUpdateData();break;default:return null}return emptyContentData},getUpdatesTabVisibility:function getUpdatesTabVisibility(){var selectedSite=this.props.sites.getSelectedSite();if(selectedSite){return selectedSite.jetpack&&selectedSite.canUpdateFiles}return(0,_some2.default)(this.props.sites.getSelectedOrAllWithPlugins(),function(site){return site&&site.jetpack&&site.canUpdateFiles})},shouldShowPluginListPlaceholders:function shouldShowPluginListPlaceholders(){var plugins=this.state.plugins;return(0,_isEmpty2.default)(plugins)&&this.isFetchingPlugins()},renderPluginsContent:function renderPluginsContent(){var plugins=this.state.plugins||[];if((0,_isEmpty2.default)(plugins)&&!this.isFetchingPlugins()){if(this.props.search){return _react2.default.createElement(_noResults2.default,{text:this.translate("No plugins match your search for {{searchTerm/}}.",{textOnly:true,components:{searchTerm:_react2.default.createElement("em",null,this.props.search)}})})}var emptyContentData=this.getEmptyContentData();if(emptyContentData){return _react2.default.createElement(_emptyContent2.default,{title:emptyContentData.title,illustration:emptyContentData.illustration,actionURL:emptyContentData.actionURL,action:emptyContentData.action})}}return _react2.default.createElement("div",{className:"plugins__lists"},_react2.default.createElement(_pluginsList2.default,{header:this.translate("Plugins"),plugins:plugins,sites:this.props.sites,selectedSite:this.props.sites.getSelectedSite(),pluginUpdateCount:this.state.pluginUpdateCount,isPlaceholder:this.shouldShowPluginListPlaceholders()}))},getMockPluginItems:function getMockPluginItems(){var plugins=[{slug:"akismet",name:"Akismet",icon:"//ps.w.org/akismet/assets/icon-256x256.png",wporg:true},{slug:"wp-super-cache",name:"WP Super Cache",icon:"//ps.w.org/wp-super-cache/assets/icon-256x256.png",wporg:true},{slug:"jetpack",name:"Jetpack by WordPress.com",icon:"//ps.w.org/jetpack/assets/icon-256x256.png",wporg:true}];var selectedSite={slug:"no-slug",canUpdateFiles:true,name:"Not a real site"};return plugins.map(function(plugin){return _react2.default.createElement(_pluginItem2.default,{key:"plugin-item-mock-"+plugin.slug,plugin:plugin,sites:[],selectedSite:selectedSite,progress:[],isMock:true})})},render:function render(){var _this3=this;var selectedSite=this.props.sites.getSelectedSite();if(!(0,_get2.default)(selectedSite,"jetpack",true)){return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_pluginsWpcom2.default,null))}if(this.state.accessError){return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_emptyContent2.default,this.state.accessError),this.state.accessError.featureExample?_react2.default.createElement(_featureExample2.default,null,this.state.accessError.featureExample):null)}if(selectedSite&&selectedSite.jetpack&&!selectedSite.canManage()){return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_jetpackManageErrorPage2.default,{template:"optInManage",site:selectedSite,title:this.translate("Looking to manage this site's plugins?"),section:"plugins",featureExample:this.getMockPluginItems()}))}var containerClass=(0,_classnames2.default)({"main-column":true,plugins:true,"search-open":this.getSearchOpen()});return _react2.default.createElement(_main2.default,{className:containerClass},_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_sectionNav2.default,{selectedText:this.getSelectedText()},_react2.default.createElement(_tabs2.default,null,this.getFilters().map(function(filterItem){if("updates"===filterItem.id&&!_this3.getUpdatesTabVisibility()){return null}var attr={key:filterItem.id,path:filterItem.path,selected:filterItem.id===_this3.props.filter};if("updates"===filterItem.id){attr.count=_this3.state.pluginUpdateCount}return _react2.default.createElement(_item2.default,attr,filterItem.title)})),_react2.default.createElement(_search2.default,{pinned:true,fitsContainer:true,onSearch:this.doSearch,initialValue:this.props.search,ref:"url-search",analyticsGroup:"Plugins",placeholder:this.getSearchPlaceholder()})),this.renderPluginsContent())}});exports.default=(0,_reactRedux.connect)(function(state){return{wporgPlugins:state.plugins.wporg.items}},function(dispatch){return(0,_redux.bindActionCreators)({wporgFetchPluginData:_actions.fetchPluginData},dispatch)})(PluginsMain);module.exports=exports["default"]},2621:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var CompactCard=__webpack_require__(1450);module.exports=React.createClass({displayName:"PluginCardHeader",renderTextInCard:function renderTextInCard(){return React.createElement(CompactCard,null,React.createElement("h3",{className:"plugin-card-header__text"},this.props.text))},render:function render(){return React.createElement("div",{className:"plugin-card-header"},this.props.text?this.renderTextInCard():this.props.children)}})},2622:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _i18nCalypso=__webpack_require__(13);var _i18nCalypso2=_interopRequireDefault(_i18nCalypso);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _externalLink=__webpack_require__(353);var _externalLink2=_interopRequireDefault(_externalLink);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);var _version=__webpack_require__(2371);var _version2=_interopRequireDefault(_version);var _pluginRatings=__webpack_require__(2625);var _pluginRatings2=_interopRequireDefault(_pluginRatings);var _versionCompare=__webpack_require__(358);var _versionCompare2=_interopRequireDefault(_versionCompare);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({_WPORG_PLUGINS_URL:"wordpress.org/plugins/",displayName:"PluginInformation",propTypes:{plugin:_react2.default.PropTypes.object.isRequired,isPlaceholder:_react2.default.PropTypes.bool,hasUpdate:_react2.default.PropTypes.bool,pluginVersion:_react2.default.PropTypes.string,siteVersion:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string,_react2.default.PropTypes.bool])},getDefaultProps:function getDefaultProps(){return{plugin:{rating:0}}},renderHomepageLink:function renderHomepageLink(){if(!this.props.plugin||!this.props.plugin.plugin_url){return}if(this.props.plugin.plugin_url.search(this._WPORG_PLUGINS_URL+this.props.plugin.slug)!==-1){return}var recordEvent=_analytics2.default.ga.recordEvent.bind(_analytics2.default,"Plugins","Clicked Plugin Homepage Link","Plugin Name",this.props.plugin.slug);return _react2.default.createElement(_externalLink2.default,{icon:true,href:this.props.plugin.plugin_url,onClick:recordEvent,className:"plugin-information__external-link"},this.translate("Plugin homepage"))},renderWporgLink:function renderWporgLink(){if(!this.props.plugin.slug){return}var recordEvent=_analytics2.default.ga.recordEvent.bind(_analytics2.default,"Plugins","Clicked wp.org Plugin Link","Plugin Name",this.props.plugin.slug);return _react2.default.createElement(_externalLink2.default,{icon:true,href:"https://"+this._WPORG_PLUGINS_URL+this.props.plugin.slug+"/",onClick:recordEvent,className:"plugin-information__external-link"},this.translate("WordPress.org Plugin page"))},renderLastUpdated:function renderLastUpdated(){if(this.props.plugin&&this.props.plugin.last_updated){var dateFromNow=_i18nCalypso2.default.moment.utc(this.props.plugin.last_updated,"YYYY-MM-DD hh:mma").fromNow();var syncIcon=this.props.hasUpdate?_react2.default.createElement(_gridicon2.default,{icon:"sync",size:18}):null;return _react2.default.createElement("div",{className:"plugin-information__last-updated"},this.translate("Released %(dateFromNow)s",{args:{dateFromNow:dateFromNow}}),syncIcon)}},renderSiteVersion:function renderSiteVersion(){return this.props.siteVersion?_react2.default.createElement(_version2.default,{version:this.props.siteVersion,icon:"my-sites",
className:"plugin-information__version"}):null},renderLimits:function renderLimits(){var limits=this.getCompatibilityLimits();var versionView=null;var versionCheck=null;if(this.props.siteVersion&&limits.maxVersion){if((0,_versionCompare2.default)(this.props.siteVersion,limits.maxVersion,"<=")){versionCheck=_react2.default.createElement(_gridicon2.default,{icon:"checkmark",size:18})}else{versionCheck=_react2.default.createElement(_gridicon2.default,{icon:"cross-small",size:18})}}if(limits.minVersion&&limits.maxVersion&&limits.minVersion!==limits.maxVersion){versionView=_react2.default.createElement("div",{className:"plugin-information__version-limit"},this.translate("{{wpIcon/}}  Compatible with %(minVersion)s to {{span}} %(maxVersion)s {{versionCheck/}}{{/span}}",{args:{minVersion:limits.minVersion,maxVersion:limits.maxVersion},components:{wpIcon:this.props.siteVersion?null:_react2.default.createElement(_gridicon2.default,{icon:"my-sites",size:18}),span:_react2.default.createElement("span",{className:"plugin-information__version-limit-state"}),versionCheck:versionCheck}}))}if(limits.minVersion&&limits.maxVersion&&limits.minVersion===limits.maxVersion){versionView=_react2.default.createElement("div",{className:"plugin-information__version-limit"},this.translate("{{wpIcon/}} Compatible with %(maxVersion)s",{args:{maxVersion:limits.maxVersion},components:{wpIcon:this.props.siteVersion?null:_react2.default.createElement(_gridicon2.default,{icon:"my-sites",size:18})}}))}return _react2.default.createElement("div",{className:"plugin-information__versions"},versionView)},getCompatibilityLimits:function getCompatibilityLimits(){if(this.props.plugin.compatibility&&this.props.plugin.compatibility.length){return{maxVersion:this.props.plugin.compatibility[this.props.plugin.compatibility.length-1],minVersion:this.props.plugin.compatibility[0]}}return{}},renderPlaceholder:function renderPlaceholder(){var classes=(0,_classnames2.default)({"plugin-information":true,"is-placeholder":true});return _react2.default.createElement("div",{className:classes},_react2.default.createElement("div",{className:"plugin-information__wrapper"},_react2.default.createElement("div",{className:"plugin-information__version-info"},_react2.default.createElement("div",{className:"plugin-information__version-shell"},this.props.pluginVersion?_react2.default.createElement(_version2.default,{version:this.props.pluginVersion,icon:"plugins",className:"plugin-information__version"}):null,this.renderLastUpdated()),_react2.default.createElement("div",{className:"plugin-information__version-shell"},this.renderSiteVersion(),this.renderLimits())),_react2.default.createElement("div",{className:"plugin-information__links"},this.renderWporgLink(),this.renderHomepageLink())),_react2.default.createElement(_pluginRatings2.default,{rating:this.props.plugin.rating,ratings:this.props.plugin.ratings,downloaded:this.props.plugin.downloaded,numRatings:this.props.plugin.num_ratings,slug:this.props.plugin.slug,placeholder:true}))},render:function render(){if(this.props.isPlaceholder){return this.renderPlaceholder()}if(!this.props.plugin.wporg){return null}var classes=(0,_classnames2.default)({"plugin-information__version-info":true,"is-singlesite":!!this.props.siteVersion});return _react2.default.createElement("div",{className:"plugin-information"},_react2.default.createElement("div",{className:"plugin-information__wrapper"},_react2.default.createElement("div",{className:classes},_react2.default.createElement("div",{className:"plugin-information__version-shell"},this.props.pluginVersion&&_react2.default.createElement(_version2.default,{version:this.props.pluginVersion,icon:"plugins",className:"plugin-information__version"}),this.renderLastUpdated()),_react2.default.createElement("div",{className:"plugin-information__version-shell"},this.renderSiteVersion(),this.renderLimits())),_react2.default.createElement("div",{className:"plugin-information__links"},this.renderWporgLink(),this.renderHomepageLink())),_react2.default.createElement(_pluginRatings2.default,{rating:this.props.plugin.rating,ratings:this.props.plugin.ratings,downloaded:this.props.plugin.downloaded,numRatings:this.props.plugin.num_ratings,slug:this.props.plugin.slug}))}});module.exports=exports["default"]},2623:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _debounce=__webpack_require__(343);var _debounce2=_interopRequireDefault(_debounce);var _reactDom=__webpack_require__(43);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);var _isEqual=__webpack_require__(92);var _isEqual2=_interopRequireDefault(_isEqual);var _sectionHeader=__webpack_require__(1451);var _sectionHeader2=_interopRequireDefault(_sectionHeader);var _buttonGroup=__webpack_require__(1849);var _buttonGroup2=_interopRequireDefault(_buttonGroup);var _button=__webpack_require__(68);var _button2=_interopRequireDefault(_button);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);var _selectDropdown=__webpack_require__(1566);var _selectDropdown2=_interopRequireDefault(_selectDropdown);var _item=__webpack_require__(1611);var _item2=_interopRequireDefault(_item);var _separator=__webpack_require__(2078);var _separator2=_interopRequireDefault(_separator);var _bulkSelect=__webpack_require__(2260);var _bulkSelect2=_interopRequireDefault(_bulkSelect);var _tooltip=__webpack_require__(657);var _tooltip2=_interopRequireDefault(_tooltip);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _actionBarVisible=true;var MAX_ACTIONBAR_HEIGHT=50;var MIN_ACTIONBAR_WIDTH=600;function checkPropsChange(nextProps,propArr){for(var i=0;i<propArr.length;i++){var prop=propArr[i];if(nextProps[prop]!==this.props[prop]){return true}}return false}exports.default=_react2.default.createClass({displayName:"Plugins-list-header",propTypes:{label:_react2.default.PropTypes.string,isBulkManagementActive:_react2.default.PropTypes.bool,toggleBulkManagement:_react2.default.PropTypes.func.isRequired,updateAllPlugins:_react2.default.PropTypes.func.isRequired,updateSelected:_react2.default.PropTypes.func.isRequired,haveUpdatesSelected:_react2.default.PropTypes.bool,pluginUpdateCount:_react2.default.PropTypes.number.isRequired,activateSelected:_react2.default.PropTypes.func.isRequired,deactiveAndDisconnectSelected:_react2.default.PropTypes.func.isRequired,deactivateSelected:_react2.default.PropTypes.func.isRequired,setAutoupdateSelected:_react2.default.PropTypes.func.isRequired,setSelectionState:_react2.default.PropTypes.func.isRequired,unsetAutoupdateSelected:_react2.default.PropTypes.func.isRequired,removePluginNotice:_react2.default.PropTypes.func.isRequired,haveActiveSelected:_react2.default.PropTypes.bool,haveInactiveSelected:_react2.default.PropTypes.bool,bulkManagement:_react2.default.PropTypes.bool,selectedSiteSlug:_react2.default.PropTypes.string,plugins:_react2.default.PropTypes.array.isRequired,selected:_react2.default.PropTypes.array.isRequired},shouldComponentUpdate:function shouldComponentUpdate(nextProps,nextState){var propsToCheck=["label","isBulkManagementActive","haveUpdatesSelected","pluginUpdateCount","haveActiveSelected","haveInactiveSelected","bulkManagement"];if(checkPropsChange.call(this,nextProps,propsToCheck)){return true}if(this.props.plugins.length!==nextProps.plugins.length){return true}if(!(0,_isEqual2.default)(this.props.sites,nextProps.sites)){return true}if(this.props.selected.length!==nextProps.selected.length){return true}if(this.state.actionBarVisible!==nextState.actionBarVisible){return true}if(this.state.addPluginTooltip!==nextState.addPluginTooltip){return true}return false},getInitialState:function getInitialState(){return{actionBarVisible:_actionBarVisible,addPluginTooltip:false}},componentDidMount:function componentDidMount(){this.debouncedAfterResize=(0,_debounce2.default)(this.afterResize,100);window.addEventListener("resize",this.debouncedAfterResize)},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("resize",this.debouncedAfterResize)},afterResize:function afterResize(){if(this.props.isBulkManagementActive){this.maybeMakeActionBarVisible()}},maybeMakeActionBarVisible:function maybeMakeActionBarVisible(){var _this=this;var actionBarDomElement=(0,_reactDom.findDOMNode)(this);if(actionBarDomElement.offsetWidth<MIN_ACTIONBAR_WIDTH){return}this.setState({actionBarVisible:true});setTimeout(function(){var actionBarVisible=actionBarDomElement.offsetHeight<=MAX_ACTIONBAR_HEIGHT;_this.setState({actionBarVisible:actionBarVisible})},1)},showPluginTooltip:function showPluginTooltip(){this.setState({addPluginTooltip:true})},hidePluginTooltip:function hidePluginTooltip(){this.setState({addPluginTooltip:false})},toggleBulkManagement:function toggleBulkManagement(){this.props.toggleBulkManagement();this.maybeMakeActionBarVisible()},onBrowserLinkClick:function onBrowserLinkClick(){_analytics2.default.ga.recordEvent("Plugins","Clicked Add New Plugins")},canUpdatePlugins:function canUpdatePlugins(){return this.props.selected.some(function(plugin){return plugin.sites.some(function(site){return site.canUpdateFiles})})},unselectOrSelectAll:function unselectOrSelectAll(){var someSelected=this.props.selected.length>0;this.props.setSelectionState(this.props.plugins,!someSelected);_analytics2.default.ga.recordEvent("Plugins",someSelected?"Clicked to Uncheck All Plugins":"Clicked to Check All Plugins")},renderCurrentActionButtons:function renderCurrentActionButtons(){var isJetpackSelected=this.props.selected.some(function(plugin){return"jetpack"===plugin.slug}),needsRemoveButton=this.props.selected.length&&this.canUpdatePlugins()&&!isJetpackSelected,buttons=[],rightSideButtons=[],leftSideButtons=[],autoupdateButtons=[],activateButtons=[];if(!this.props.isBulkManagementActive){if(0<this.props.pluginUpdateCount){rightSideButtons.push(_react2.default.createElement(_buttonGroup2.default,{key:"plugin-list-header__buttons-update-all"},_react2.default.createElement(_button2.default,{compact:true,primary:true,onClick:this.props.updateAllPlugins},this.translate("Update All",{context:"button label"}))))}rightSideButtons.push(_react2.default.createElement(_buttonGroup2.default,{key:"plugin-list-header__buttons-bulk-management"},_react2.default.createElement(_button2.default,{compact:true,onClick:this.toggleBulkManagement},this.translate("Edit All",{context:"button label"}))));var browserUrl="/plugins/browse"+(this.props.selectedSiteSlug?"/"+this.props.selectedSiteSlug:"");rightSideButtons.push(_react2.default.createElement(_buttonGroup2.default,{key:"plugin-list-header__buttons-browser"},_react2.default.createElement(_button2.default,{compact:true,href:browserUrl,onClick:this.onBrowserLinkClick,className:"plugin-list-header__browser-button",onMouseEnter:this.showPluginTooltip,onMouseLeave:this.hidePluginTooltip,ref:"addPluginButton","aria-label":this.translate("Browse all plugins",{context:"button label"})},_react2.default.createElement(_gridicon2.default,{key:"plus-icon",icon:"plus-small",size:18}),_react2.default.createElement(_gridicon2.default,{key:"plugins-icon",icon:"plugins",size:18}),_react2.default.createElement(_tooltip2.default,{isVisible:this.state.addPluginTooltip,context:this.refs&&this.refs.addPluginButton,position:"bottom"},this.translate("Browse all plugins",{context:"button tooltip"})))))}else{var updateButton=_react2.default.createElement(_button2.default,{key:"plugin-list-header__buttons-update",disabled:!this.props.haveUpdatesSelected,compact:true,primary:true,onClick:this.props.updateSelected},this.translate("Update"));leftSideButtons.push(_react2.default.createElement(_buttonGroup2.default,{key:"plugin-list-header__buttons-update-button"},updateButton));activateButtons.push(_react2.default.createElement(_button2.default,{key:"plugin-list-header__buttons-activate",disabled:!this.props.haveInactiveSelected,compact:true,onClick:this.props.activateSelected},this.translate("Activate")));var deactivateButton=isJetpackSelected?_react2.default.createElement(_button2.default,{compact:true,key:"plugin-list-header__buttons-deactivate",disabled:!this.props.haveActiveSelected,onClick:this.props.deactiveAndDisconnectSelected},this.translate("Disconnect")):_react2.default.createElement(_button2.default,{compact:true,key:"plugin-list-header__buttons-disable",disabled:!this.props.haveActiveSelected,onClick:this.props.deactivateSelected},this.translate("Deactivate"));activateButtons.push(deactivateButton);leftSideButtons.push(_react2.default.createElement(_buttonGroup2.default,{key:"plugin-list-header__buttons-activate-buttons"},activateButtons));autoupdateButtons.push(_react2.default.createElement(_button2.default,{key:"plugin-list-header__buttons-autoupdate-on",disabled:!this.canUpdatePlugins(),compact:true,onClick:this.props.setAutoupdateSelected},this.translate("Autoupdate")));autoupdateButtons.push(_react2.default.createElement(_button2.default,{key:"plugin-list-header__buttons-autoupdate-off",disabled:!this.canUpdatePlugins(),compact:true,onClick:this.props.unsetAutoupdateSelected},this.translate("Disable Autoupdates")));leftSideButtons.push(_react2.default.createElement(_buttonGroup2.default,{key:"plugin-list-header__buttons-update-buttons"},autoupdateButtons));leftSideButtons.push(_react2.default.createElement(_buttonGroup2.default,{key:"plugin-list-header__buttons-remove-button"},_react2.default.createElement(_button2.default,{compact:true,scary:true,disabled:!needsRemoveButton,onClick:this.props.removePluginNotice},this.translate("Remove"))));rightSideButtons.push(_react2.default.createElement("button",{key:"plugin-list-header__buttons-close-button",className:"plugin-list-header__section-actions-close",onClick:this.props.toggleBulkManagement},_react2.default.createElement("span",{className:"screen-reader-text"},this.translate("Close")),_react2.default.createElement(_gridicon2.default,{icon:"cross"})))}buttons.push(_react2.default.createElement("span",{key:"plugin-list-header__buttons-action-buttons",className:"plugin-list-header__action-buttons"},leftSideButtons));buttons.push(_react2.default.createElement("span",{key:"plugin-list-header__buttons-global-buttons",className:"plugin-list-header__mode-buttons"},rightSideButtons));return buttons},renderCurrentActionDropdown:function renderCurrentActionDropdown(){if(!this.props.isBulkManagementActive){return null}var isJetpackSelected=this.props.selected.some(function(plugin){return"jetpack"===plugin.slug}),needsRemoveButton=!!this.props.selected.length&&this.canUpdatePlugins()&&!isJetpackSelected;return _react2.default.createElement(_selectDropdown2.default,{compact:true,className:"plugin-list-header__actions_dropdown",key:"plugin-list-header__actions_dropdown",selectedText:this.translate("Actions")},_react2.default.createElement(_item2.default,{key:"plugin__actions_title",selected:true,value:"Actions"},this.translate("Actions")),_react2.default.createElement(_separator2.default,{key:"plugin__actions_separator_1"}),_react2.default.createElement(_item2.default,{key:"plugin__actions_activate",disabled:!this.props.haveUpdatesSelected,onClick:this.props.updateSelected},this.translate("Update")),_react2.default.createElement(_separator2.default,{key:"plugin__actions_separator_1"}),_react2.default.createElement(_item2.default,{key:"plugin__actions_activate",disabled:!this.props.haveInactiveSelected,onClick:this.props.activateSelected},this.translate("Activate")),isJetpackSelected?_react2.default.createElement(_item2.default,{key:"plugin__actions_disconnect",disabled:!this.props.haveActiveSelected,onClick:this.props.deactiveAndDisconnectSelected},this.translate("Disconnect")):_react2.default.createElement(_item2.default,{key:"plugin__actions_deactivate",disabled:!this.props.haveActiveSelected,onClick:this.props.deactivateSelected},this.translate("Deactivate")),_react2.default.createElement(_separator2.default,{key:"plugin__actions_separator_2"}),_react2.default.createElement(_item2.default,{key:"plugin__actions_autoupdate",disabled:!this.canUpdatePlugins(),onClick:this.props.setAutoupdateSelected},this.translate("Autoupdate")),_react2.default.createElement(_item2.default,{key:"plugin__actions_disable_autoupdate",disabled:!this.canUpdatePlugins(),onClick:this.props.unsetAutoupdateSelected},this.translate("Disable Autoupdates")),_react2.default.createElement(_separator2.default,{key:"plugin__actions_separator_3"}),_react2.default.createElement(_item2.default,{key:"plugin__actions_remove",className:"plugin-list-header__actions_remove_item",disabled:!needsRemoveButton,onClick:this.props.removePluginNotice},this.translate("Remove")))},render:function render(){var sectionClasses=(0,_classnames2.default)("plugin-list-header",{"is-bulk-editing":this.props.isBulkManagementActive,"is-action-bar-visible":this.state.actionBarVisible});return _react2.default.createElement(_sectionHeader2.default,{label:this.props.label,className:sectionClasses},this.props.isBulkManagementActive&&_react2.default.createElement(_bulkSelect2.default,{key:"plugin-list-header__bulk-select",totalElements:this.props.plugins.length,selectedElements:this.props.selected.length,onToggle:this.unselectOrSelectAll}),this.renderCurrentActionDropdown(),this.renderCurrentActionButtons())}});module.exports=exports["default"]},2624:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _i18nCalypso=__webpack_require__(13);var _i18nCalypso2=_interopRequireDefault(_i18nCalypso);var _some=__webpack_require__(82);var _some2=_interopRequireDefault(_some);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);var _card=__webpack_require__(145);var _card2=_interopRequireDefault(_card);var _noticeAction=__webpack_require__(151);var _noticeAction2=_interopRequireDefault(_noticeAction);var _notice=__webpack_require__(79);var _notice2=_interopRequireDefault(_notice);var _pluginIcon=__webpack_require__(1661);var _pluginIcon2=_interopRequireDefault(_pluginIcon);var _actions=__webpack_require__(1541);var _actions2=_interopRequireDefault(_actions);var _logStore=__webpack_require__(1570);var _logStore2=_interopRequireDefault(_logStore);var _pluginActivateToggle=__webpack_require__(1817);var _pluginActivateToggle2=_interopRequireDefault(_pluginActivateToggle);var _pluginAutoupdateToggle=__webpack_require__(1818);var _pluginAutoupdateToggle2=_interopRequireDefault(_pluginAutoupdateToggle);var _safeProtocolUrl=__webpack_require__(1491);var _safeProtocolUrl2=_interopRequireDefault(_safeProtocolUrl);var _config=__webpack_require__(10);var _config2=_interopRequireDefault(_config);var _pluginInstallButton=__webpack_require__(1941);var _pluginInstallButton2=_interopRequireDefault(_pluginInstallButton);var _pluginRemoveButton=__webpack_require__(1943);var _pluginRemoveButton2=_interopRequireDefault(_pluginRemoveButton);var _pluginSettingsLink=__webpack_require__(2627);var _pluginSettingsLink2=_interopRequireDefault(_pluginSettingsLink);var _pluginInformation=__webpack_require__(2622);var _pluginInformation2=_interopRequireDefault(_pluginInformation);var _utils=__webpack_require__(186);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({OUT_OF_DATE_YEARS:2,displayName:"PluginMeta",propTypes:{siteURL:_react2.default.PropTypes.string,sites:_react2.default.PropTypes.array,notices:_react2.default.PropTypes.object,plugin:_react2.default.PropTypes.object.isRequired,isInstalledOnSite:_react2.default.PropTypes.bool,isPlaceholder:_react2.default.PropTypes.bool,isMock:_react2.default.PropTypes.bool},displayBanner:function displayBanner(){if(this.props.plugin&&this.props.plugin.banners&&(this.props.plugin.banners.high||this.props.plugin.banners.low)){return _react2.default.createElement("div",{className:"plugin-meta__banner"},_react2.default.createElement("img",{className:"plugin-meta__banner-image",src:this.props.plugin.banners.high||this.props.plugin.banners.low}))}},renderActions:function renderActions(){if(!this.props.selectedSite){return}if(this.props.isPlaceholder){return}if(this.props.isInstalledOnSite===null)return;if(this.props.isInstalledOnSite===false){return _react2.default.createElement("div",{className:"plugin-meta__actions"}," ",this.getInstallButton()," ")}return _react2.default.createElement("div",{className:"plugin-meta__actions"},_react2.default.createElement(_pluginActivateToggle2.default,{plugin:this.props.plugin,site:this.props.selectedSite,notices:this.props.notices,isMock:this.props.isMock}),_react2.default.createElement(_pluginAutoupdateToggle2.default,{plugin:this.props.plugin,site:this.props.selectedSite,notices:this.props.notices,wporg:this.props.plugin.wporg,isMock:this.props.isMock}),_react2.default.createElement(_pluginRemoveButton2.default,{plugin:this.props.plugin,site:this.props.selectedSite,notices:this.props.notices,isMock:this.props.isMock}),this.renderSettingsLink())},renderSettingsLink:function renderSettingsLink(){if(!this.props.plugin||!this.props.plugin.wp_admin_settings_page_url||!this.props.plugin.active||!this.props.selectedSite){return}var isInProgress=_logStore2.default.isInProgressAction(this.props.selectedSite.ID,this.props.plugin.slug,["ACTIVATE_PLUGIN","DEACTIVATE_PLUGIN"]);if(isInProgress){return}return _react2.default.createElement(_pluginSettingsLink2.default,{linkUrl:this.props.plugin.wp_admin_settings_page_url})},renderName:function renderName(){if(!this.props.plugin||!this.props.plugin.name){return}return _react2.default.createElement("div",{className:"plugin-meta__name"},this.props.plugin.name)},renderAuthorUrl:function renderAuthorUrl(){if(!this.props.plugin||!(this.props.plugin.author_url&&this.props.plugin.author_name)){return}var linkToAuthor=_react2.default.createElement("a",{className:"plugin-meta__author",href:(0,_safeProtocolUrl2.default)(this.props.plugin.author_url)},this.props.plugin.author_name);return this.translate("By {{linkToAuthor/}}",{components:{linkToAuthor:linkToAuthor}})},getInstallButton:function getInstallButton(){if(this.hasInstallButton()){return _react2.default.createElement(_pluginInstallButton2.default,this.props)}},isOutOfDate:function isOutOfDate(){if(this.props.plugin&&this.props.plugin.last_updated){var lastUpdated=this.moment(this.props.plugin.last_updated,"YYYY-MM-DD");return this.moment().diff(lastUpdated,"years")>=this.OUT_OF_DATE_YEARS}return false},getVersionWarning:function getVersionWarning(){var newVersions=this.getAvailableNewVersions();if(this.isOutOfDate()&&newVersions.length===0){return _react2.default.createElement(_notice2.default,{className:"plugin-meta__version-notice",text:this.translate("This plugin hasn't been updated in over 2 years. It may no longer be maintained or supported and may have compatibility issues when used with more recent versions of WordPress"),status:"is-warning",showDismiss:false})}else if(_config2.default.isEnabled("manage/plugins/compatibility-warning")&&!this.isVersionCompatible()){return _react2.default.createElement(_notice2.default,{className:"plugin-meta__version-notice",text:_i18nCalypso2.default.translate("The new version of this plugin may not be compatible with your version of WordPress"),status:"is-warning",showDismiss:false})}},getUpdateWarning:function getUpdateWarning(){var newVersions=this.getAvailableNewVersions();if(newVersions.length>0){if(this.props.selectedSite){return _react2.default.createElement(_notice2.default,{status:"is-warning",className:"plugin-meta__version-notice",showDismiss:false,icon:"sync",text:_i18nCalypso2.default.translate("A new version is available.")},_react2.default.createElement(_noticeAction2.default,{onClick:this.handlePluginUpdatesSingleSite},_i18nCalypso2.default.translate("Update to %(newPluginVersion)s",{args:{newPluginVersion:newVersions[0].newVersion}})))}var noticeMessage=newVersions.length>1?_i18nCalypso2.default.translate("Version %(newPluginVersion)s is available for %(numberOfSites)s sites",{args:{numberOfSites:newVersions.length,newPluginVersion:this.props.plugin.version}}):_i18nCalypso2.default.translate("Version %(newPluginVersion)s is available for %(siteName)s",{args:{siteName:newVersions[0].title,newPluginVersion:this.props.plugin.version}});var noticeActionMessage=newVersions.length>1?_i18nCalypso2.default.translate("Update all"):_i18nCalypso2.default.translate("Update");return _react2.default.createElement(_notice2.default,{status:"is-warning",className:"plugin-meta__version-notice",showDismiss:false,icon:"sync",text:noticeMessage},_react2.default.createElement(_noticeAction2.default,{onClick:this.handlePluginUpdatesMultiSite},noticeActionMessage))}},isVersionCompatible:function isVersionCompatible(){if(!this.props.selectedSite){return true}if(!this.props.plugin.compatibility){return true}if(!this.props.plugin.compatibility||this.props.plugin.compatibility.length===0){return false}var siteVersion=this.props.selectedSite.options.software_version.split("-")[0];return(0,_some2.default)(this.props.plugin.compatibility,function(compatibleVersion){return compatibleVersion.indexOf(siteVersion)===0})},hasInstallButton:function hasInstallButton(){if(this.props.selectedSite){return!this.props.isInstalledOnSite&&(0,_utils.userCan)("manage_options",this.props.selectedSite)&&this.props.selectedSite.jetpack}},getAvailableNewVersions:function getAvailableNewVersions(){return this.props.sites.map(function(site){if(!site.canUpdateFiles){return null}if(site.plugin&&site.plugin.update){if("error"!==site.plugin.update&&site.plugin.update.new_version){return{title:site.title,newVersion:site.plugin.update.new_version}}}}).filter(function(newVersions){return newVersions})},handlePluginUpdatesSingleSite:function handlePluginUpdatesSingleSite(event){event.preventDefault();_actions2.default.updatePlugin(this.props.sites[0],this.props.sites[0].plugin);_analytics2.default.ga.recordEvent("Plugins","Clicked Update Selected Site Plugin","Plugin Name",this.props.pluginSlug);_analytics2.default.tracks.recordEvent("calypso_plugins_actions_update_plugin",{site:this.props.sites[0].ID,plugin:this.props.sites[0].plugin.slug,selected_site:this.props.sites[0].ID})},handlePluginUpdatesMultiSite:function handlePluginUpdatesMultiSite(event){var _this=this;event.preventDefault();this.props.sites.forEach(function(site){var plugin=site.plugin;if(site.canUpdateFiles&&plugin.update&&"error"!==plugin.update&&plugin.update.new_version){_actions2.default.updatePlugin(site,plugin);_actions2.default.removePluginsNotices(_this.props.notices.completed.concat(_this.props.notices.errors));_analytics2.default.tracks.recordEvent("calypso_plugins_actions_update_plugin_all_sites",{site:site,plugin:plugin.slug})}});_analytics2.default.ga.recordEvent("Plugins","Clicked Update All Sites Plugin","Plugin Name",this.props.pluginSlug)},render:function render(){var cardClasses=(0,_classnames2.default)("plugin-meta__information",{"has-button":this.hasInstallButton(),"has-site":!!this.props.selectedSite,"is-placeholder":!!this.props.isPlaceholder});var plugin=this.props.selectedSite&&this.props.sites[0]?this.props.sites[0].plugin:this.props.plugin;return _react2.default.createElement("div",null,_react2.default.createElement(_card2.default,{className:"plugin-meta"},this.displayBanner(),_react2.default.createElement("div",{className:cardClasses},_react2.default.createElement("div",{className:"plugin-meta__detail"},_react2.default.createElement(_pluginIcon2.default,{image:this.props.plugin&&this.props.plugin.icon,isPlaceholder:this.props.isPlaceholder}),this.renderName(),_react2.default.createElement("div",{className:"plugin-meta__meta"},this.renderAuthorUrl())),this.renderActions()),!this.props.isMock&&_react2.default.createElement(_pluginInformation2.default,{plugin:this.props.plugin,isPlaceholder:this.props.isPlaceholder,site:this.props.selectedSite,pluginVersion:plugin&&plugin.version,siteVersion:this.props.selectedSite&&this.props.selectedSite.options.software_version,hasUpdate:this.getAvailableNewVersions().length>0})),this.getVersionWarning(),this.getUpdateWarning())}});module.exports=exports["default"]},2625:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _progressBar=__webpack_require__(1610);var _progressBar2=_interopRequireDefault(_progressBar);var _rating=__webpack_require__(2077);var _rating2=_interopRequireDefault(_rating);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REVIEW_URL="https://wordpress.org/support/view/plugin-reviews/";module.exports=_react2.default.createClass({displayName:"PluginRatings",propTypes:{rating:_react2.default.PropTypes.number,ratings:_react2.default.PropTypes.object,downloaded:_react2.default.PropTypes.number,slug:_react2.default.PropTypes.string,numRatings:_react2.default.PropTypes.number},ratingTiers:[5,4,3,2,1],getDefaultProps:function getDefaultProps(){return{barWidth:88}},renderPlaceholder:function renderPlaceholder(){return _react2.default.createElement("div",{className:"plugin-ratings is-placeholder"},_react2.default.createElement("div",{className:"plugin-ratings__rating-stars"},_react2.default.createElement(_rating2.default,{rating:0})),_react2.default.createElement("div",{className:"plugin-ratings__rating-text"},"Based on"))},renderRatingTier:function renderRatingTier(ratingTier){var numberOfRatings=this.props.ratings&&this.props.ratings[ratingTier]?this.props.ratings[ratingTier]:0;return _react2.default.createElement("div",{className:"plugin-ratings__rating-tier",key:"plugins-ratings__tier-"+ratingTier},_react2.default.createElement("a",{className:"plugin-ratings__rating-container",target:"_blank",onClick:_analytics2.default.ga.recordEvent.bind(this,"Plugins","Clicked Plugin Ratings Link","Plugin Name",this.props.slug),href:REVIEW_URL+this.props.slug},_react2.default.createElement("span",{className:"plugin-ratings__rating-tier-text"}," ",this.translate("%(ratingTier)s stars",{args:{ratingTier:ratingTier}})," "),_react2.default.createElement("span",{className:"plugin_ratings__bar"},_react2.default.createElement(_progressBar2.default,{value:numberOfRatings,total:this.props.numRatings,title:this.translate("%(numberOfRatings)s ratings",{args:{numberOfRatings:numberOfRatings}})}))))},renderDownloaded:function renderDownloaded(){var downloaded=this.props.downloaded;if(downloaded>1e5){downloaded=this.numberFormat(Math.floor(downloaded/1e4)*1e4)+"+"}else if(downloaded>1e4){downloaded=this.numberFormat(Math.floor(downloaded/1e3)*1e3)+"+"}else{downloaded=this.numberFormat(downloaded)}return _react2.default.createElement("div",{className:"plugin-ratings__downloads"},this.translate("%(installs)s downloads",{args:{installs:downloaded}}))},render:function render(){var tierViews;if(this.props.placeholder){return this.renderPlaceholder()}if(!this.props.ratings){return null}tierViews=this.ratingTiers.map(function(tierLevel){return this.renderRatingTier(tierLevel)},this);return _react2.default.createElement("div",{className:"plugin-ratings"},_react2.default.createElement("div",{className:"plugin-ratings__rating-stars"},_react2.default.createElement(_rating2.default,{rating:this.props.rating})),_react2.default.createElement("div",{className:"plugin-ratings__rating-text"},this.translate("Based on %(ratingsNumber)s rating","Based on %(ratingsNumber)s ratings",{count:this.props.numRatings,args:{ratingsNumber:this.props.numRatings
}})),tierViews,this.renderDownloaded())}})},2626:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1),titleCase=__webpack_require__(659),find=__webpack_require__(33),filter=__webpack_require__(69),classNames=__webpack_require__(11);var analytics=__webpack_require__(16),Card=__webpack_require__(145),PluginCardHeader=__webpack_require__(2621),SectionNav=__webpack_require__(1473),NavTabs=__webpack_require__(1471),NavItem=__webpack_require__(1470),descriptionHeight=0;module.exports=React.createClass({_COLLAPSED_DESCRIPTION_HEIGHT:140,displayName:"PluginSections",recordEvent:function recordEvent(eventAction){analytics.ga.recordEvent("Plugins",eventAction,"Plugin Name",this.props.plugin.slug)},componentDidUpdate:function componentDidUpdate(){if(this.refs.content){var node=this.refs.content;if(node&&node.offsetHeight){descriptionHeight=node.offsetHeight}}},getFilteredSections:function getFilteredSections(){return[{key:"description",title:this.translate("Description",{context:"Navigation item",textOnly:true})},{key:"installation",title:this.translate("Installation",{context:"Navigation item",textOnly:true})},{key:"changelog",title:this.translate("Changelog",{context:"Navigation item",textOnly:true})},{key:"faq",title:this.translate("FAQs",{context:"Navigation item",textOnly:true})},{key:"other_notes",title:this.translate("Other Notes",{context:"Navigation item",textOnly:true})}]},getInitialState:function getInitialState(){return{selectedSection:false,readMore:false}},getSelected:function getSelected(){return this.state.selectedSection||this.getDefaultSection()},getDefaultSection:function getDefaultSection(){var sections=this.props.plugin.sections;return find(this.getFilteredSections(),function(section){return sections[section.key]}).key},getAvailableSections:function getAvailableSections(){var sections=this.props.plugin.sections;return filter(this.getFilteredSections(),function(section){return sections[section.key]})},getNavTitle:function getNavTitle(sectionKey){var titleSection=find(this.getFilteredSections(),function(section){return section.key===sectionKey});return titleSection&&titleSection.title?titleSection.title:titleCase(sectionKey)},setSelectedSection:function setSelectedSection(section,event){this.setState({readMore:false!==this.state.readMore||this.getSelected()!==section,selectedSection:section});if(event){this.recordEvent("Clicked Section Tab: "+section)}},toggleReadMore:function toggleReadMore(){this.setState({readMore:!this.state.readMore})},renderReadMore:function renderReadMore(){if(descriptionHeight<this._COLLAPSED_DESCRIPTION_HEIGHT){return null}return React.createElement("div",{className:"plugin-sections__read-more"},this.state.readMore?null:React.createElement("button",{className:"plugin-sections__read-more-link",onClick:this.toggleReadMore},React.createElement("span",{className:"plugin-sections__read-more-text"},this.translate("Read More"))))},render:function render(){var contentClasses=classNames("plugin-sections__content",{trimmed:!this.state.readMore});if(!this.props.plugin||!this.props.plugin.sections||!this.getAvailableSections()){return null}return React.createElement("div",{className:"plugin-sections"},React.createElement(PluginCardHeader,null,React.createElement(SectionNav,{selectedText:this.getNavTitle(this.getSelected())},React.createElement(NavTabs,null,this.getAvailableSections().map(function(section){return React.createElement(NavItem,{key:section.key,onClick:this.setSelectedSection.bind(this,section.key),selected:this.getSelected()===section.key},section.title)},this)))),React.createElement(Card,null,React.createElement("div",{ref:"content",className:contentClasses,dangerouslySetInnerHTML:{__html:this.props.plugin.sections[this.getSelected()]}}),this.renderReadMore()))}})},2627:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({displayName:"PluginSettingsLink",propTypes:{linkUrl:_react.PropTypes.string.isRequired},render:function render(){if(!this.props.linkUrl){return}return _react2.default.createElement("a",{className:"plugin-settings-link",href:this.props.linkUrl,target:"_blank"},this.translate("Setup"),_react2.default.createElement(_gridicon2.default,{size:18,icon:"external"}))}});module.exports=exports["default"]},2628:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var FoldableCard=__webpack_require__(1486),PluginsLog=__webpack_require__(1570),PluginActivateToggle=__webpack_require__(1817),PluginAutoupdateToggle=__webpack_require__(1818),PluginUpdateIndicator=__webpack_require__(2168),PluginInstallButton=__webpack_require__(1941),PluginRemoveButton=__webpack_require__(1943),PluginSiteDisabledManage=__webpack_require__(2167),Site=__webpack_require__(344);module.exports=React.createClass({displayName:"PluginSiteJetpack",propTypes:{site:React.PropTypes.object,plugin:React.PropTypes.object,notices:React.PropTypes.object},renderInstallButton:function renderInstallButton(){var installInProgress=PluginsLog.isInProgressAction(this.props.site.ID,this.props.plugin.slug,"INSTALL_PLUGIN");return React.createElement(PluginInstallButton,{isEmbed:true,notices:this.props.notices,selectedSite:this.props.site,plugin:this.props.plugin,isInstalling:installInProgress})},renderInstallPlugin:function renderInstallPlugin(){return React.createElement(FoldableCard,{compact:true,className:"plugin-site-jetpack",header:React.createElement(Site,{site:this.props.site,indicator:false}),actionButton:this.renderInstallButton()})},renderPluginSite:function renderPluginSite(){return React.createElement(FoldableCard,{compact:true,clickableHeader:true,className:"plugin-site-jetpack",header:React.createElement(Site,{site:this.props.site,indicator:false}),summary:React.createElement(PluginUpdateIndicator,{site:this.props.site,plugin:this.props.plugin,notices:this.props.notices,expanded:false}),expandedSummary:React.createElement(PluginUpdateIndicator,{site:this.props.site,plugin:this.props.plugin,notices:this.props.notices,expanded:true})},React.createElement("div",null,React.createElement(PluginActivateToggle,{site:this.props.site,plugin:this.props.site.plugin,notices:this.props.notices}),React.createElement(PluginAutoupdateToggle,{site:this.props.site,plugin:this.props.site.plugin,notices:this.props.notices,wporg:true}),React.createElement(PluginRemoveButton,{plugin:this.props.site.plugin,site:this.props.site,notices:this.props.notices})))},renderManageWarning:function renderManageWarning(){return React.createElement(FoldableCard,{compact:true,className:"plugin-site-jetpack has-manage-error",header:React.createElement(Site,{site:this.props.site,indicator:false}),actionButton:React.createElement(PluginSiteDisabledManage,{site:this.props.site,plugin:this.props.plugin})})},render:function render(){if(!this.props.site||!this.props.plugin){return null}if(!this.props.site.canManage()){return this.renderManageWarning()}if(!this.props.site.plugin){return this.renderInstallPlugin()}return this.renderPluginSite()}})},2629:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1),classNames=__webpack_require__(11),compact=__webpack_require__(161);var allSites=__webpack_require__(55)(),PluginSite=__webpack_require__(2631),SectionHeader=__webpack_require__(1451),PluginsStore=__webpack_require__(1718);module.exports=React.createClass({displayName:"PluginSiteList",propTypes:{site:React.PropTypes.object,plugin:React.PropTypes.object,notices:React.PropTypes.object,title:React.PropTypes.string},getSecondaryPluginSites:function getSecondaryPluginSites(site){var secondarySites=allSites.getNetworkSites(site);var secondaryPluginSites=site.plugin?PluginsStore.getSites(secondarySites,this.props.plugin.slug):secondarySites;return compact(secondaryPluginSites)},renderPluginSite:function renderPluginSite(site){return React.createElement(PluginSite,{key:"pluginSite"+site.ID,site:site,secondarySites:this.getSecondaryPluginSites(site),plugin:this.props.plugin,wporg:this.props.wporg,notices:this.props.notices})},render:function render(){if(!this.props.sites||this.props.sites.length===0){return null}var classes=classNames("plugin-site-list",this.props.className),pluginSites=this.props.sites.map(function(site){if(allSites.isConnectedSecondaryNetworkSite(site)){return}return this.renderPluginSite(site)},this);return React.createElement("div",{className:classes},React.createElement(SectionHeader,{label:this.props.title}),pluginSites)}})},2630:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var FoldableCard=__webpack_require__(1486),CompactCard=__webpack_require__(1450),AllSites=__webpack_require__(395),PluginsLog=__webpack_require__(1570),PluginActivateToggle=__webpack_require__(1817),PluginAutoupdateToggle=__webpack_require__(1818),PluginUpdateIndicator=__webpack_require__(2168),PluginInstallButton=__webpack_require__(1941),PluginRemoveButton=__webpack_require__(1943),PluginSiteDisabledManage=__webpack_require__(2167),Site=__webpack_require__(344);module.exports=React.createClass({displayName:"PluginSiteNetwork",propTypes:{site:React.PropTypes.object,plugin:React.PropTypes.object,notices:React.PropTypes.object,secondarySites:React.PropTypes.array},renderInstallButton:function renderInstallButton(){if(!this.props.site.canManage()){return this.renderManageWarning()}var installInProgress=PluginsLog.isInProgressAction(this.props.site.ID,this.props.plugin.slug,"INSTALL_PLUGIN");return React.createElement(PluginInstallButton,{isEmbed:true,notices:this.props.notices,selectedSite:this.props.site,plugin:this.props.plugin,isInstalling:installInProgress})},renderMultisiteHeader:function renderMultisiteHeader(){return React.createElement("div",{className:"plugin-site-network__header"},React.createElement(AllSites,{sites:this.props.secondarySites,count:this.props.secondarySites.length,domain:this.props.site.domain,title:this.translate("%(mainSiteName)s's Network",{args:{mainSiteName:this.props.site.name}})}))},renderInstallPlugin:function renderInstallPlugin(){return React.createElement(FoldableCard,{compact:true,className:"plugin-site-network",header:this.renderMultisiteHeader(),actionButton:this.renderInstallButton()})},renderPluginActions:function renderPluginActions(){if(!this.props.site.canManage()){return this.renderManageWarning()}return React.createElement("div",{className:"plugin-site-network__actions"},React.createElement(PluginAutoupdateToggle,{site:this.props.site,plugin:this.props.site.plugin,notices:this.props.notices,wporg:true}),React.createElement(PluginRemoveButton,{plugin:this.props.site.plugin,site:this.props.site,notices:this.props.notices}))},renderPluginSite:function renderPluginSite(){return React.createElement(FoldableCard,{compact:true,clickableHeader:true,className:"plugin-site-network",header:this.renderMultisiteHeader(),summary:React.createElement(PluginUpdateIndicator,{site:this.props.site,plugin:this.props.plugin,notices:this.props.notices,expanded:false}),expandedSummary:React.createElement(PluginUpdateIndicator,{site:this.props.site,plugin:this.props.plugin,notices:this.props.notices,expanded:true})},React.createElement("div",null,this.renderPluginActions(),React.createElement("div",{className:"plugin-site__secondary-sites"},this.props.secondarySites.map(this.renderSecondarySite))))},renderSecondarySite:function renderSecondarySite(site){return React.createElement(CompactCard,{className:"plugin-site-network__secondary-site",key:"secondary-site-"+site.ID},React.createElement(Site,{site:site,indicator:false}),this.renderSecondarySiteActions(site))},renderSecondarySiteActions:function renderSecondarySiteActions(site){if(!site.canManage()){return React.createElement("div",{className:"plugin-site-network__secondary-site-actions"},React.createElement(PluginSiteDisabledManage,{site:site,plugin:site.plugin}))}return React.createElement("div",{className:"plugin-site-network__secondary-site-actions"},React.createElement(PluginActivateToggle,{site:site,plugin:site.plugin,notices:this.props.notices}))},renderManageWarning:function renderManageWarning(){return React.createElement("div",{className:"plugin-site-network__network_disabled"},React.createElement(PluginSiteDisabledManage,{site:this.props.site,plugin:this.props.plugin,isNetwork:true}))},render:function render(){if(!this.props.site||!this.props.plugin){return null}if(!this.props.site.plugin){return this.renderInstallPlugin()}return this.renderPluginSite()}})},2631:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var PluginSiteJetpack=__webpack_require__(2628),PluginSiteNetwork=__webpack_require__(2630);module.exports=React.createClass({displayName:"PluginSite",render:function render(){if(!this.props.site){return null}if(this.props.site.jetpack&&this.props.secondarySites&&this.props.secondarySites.length){return React.createElement(PluginSiteNetwork,this.props)}return React.createElement(PluginSiteJetpack,this.props)}})},2632:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _redux=__webpack_require__(6);var _reactRedux=__webpack_require__(21);var _debug=__webpack_require__(4);var _debug2=_interopRequireDefault(_debug);var _page=__webpack_require__(40);var _page2=_interopRequireDefault(_page);var _uniq=__webpack_require__(258);var _uniq2=_interopRequireDefault(_uniq);var _upperFirst=__webpack_require__(790);var _upperFirst2=_interopRequireDefault(_upperFirst);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);var _pluginSiteList=__webpack_require__(2629);var _pluginSiteList2=_interopRequireDefault(_pluginSiteList);var _headerCake=__webpack_require__(1460);var _headerCake2=_interopRequireDefault(_headerCake);var _pluginMeta=__webpack_require__(2624);var _pluginMeta2=_interopRequireDefault(_pluginMeta);var _store=__webpack_require__(1718);var _store2=_interopRequireDefault(_store);var _logStore=__webpack_require__(1570);var _logStore2=_interopRequireDefault(_logStore);var _selectors=__webpack_require__(1994);var _selectors2=_interopRequireDefault(_selectors);var _actions=__webpack_require__(1541);var _actions2=_interopRequireDefault(_actions);var _actions3=__webpack_require__(1993);var _notices=__webpack_require__(1896);var _notices2=_interopRequireDefault(_notices);var _main=__webpack_require__(147);var _main2=_interopRequireDefault(_main);var _sidebarNavigation=__webpack_require__(1465);var _sidebarNavigation2=_interopRequireDefault(_sidebarNavigation);var _jetpackManageErrorPage=__webpack_require__(670);var _jetpackManageErrorPage2=_interopRequireDefault(_jetpackManageErrorPage);var _pluginSections=__webpack_require__(2626);var _pluginSections2=_interopRequireDefault(_pluginSections);var _accessControl=__webpack_require__(1939);var _accessControl2=_interopRequireDefault(_accessControl);var _emptyContent=__webpack_require__(185);var _emptyContent2=_interopRequireDefault(_emptyContent);var _featureExample=__webpack_require__(690);var _featureExample2=_interopRequireDefault(_featureExample);var _pluginsList=__webpack_require__(2616);var _pluginsList2=_interopRequireDefault(_pluginsList);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=(0,_debug2.default)("calypso:my-sites:plugin");var SinglePlugin=_react2.default.createClass({displayName:"SinglePlugin",_DEFAULT_PLUGINS_BASE_PATH:"http://wordpress.org/plugins/",_currentPageTitle:null,mixins:[_notices2.default],componentWillMount:function componentWillMount(){if(!this.isFetched()){this.props.wporgFetchPluginData(this.props.pluginSlug)}},componentDidMount:function componentDidMount(){debug("Plugin React component mounted.");this.props.sites.on("change",this.refreshSitesAndPlugins);_store2.default.on("change",this.refreshSitesAndPlugins);_logStore2.default.on("change",this.refreshSitesAndPlugins);this.updatePageTitle()},getInitialState:function getInitialState(){return this.getSitesPlugin()},componentWillUnmount:function componentWillUnmount(){this.props.sites.removeListener("change",this.refreshSitesAndPlugins);_store2.default.removeListener("change",this.refreshSitesAndPlugins);_logStore2.default.removeListener("change",this.refreshSitesAndPlugins);if(this.pluginRefreshTimeout){clearTimeout(this.pluginRefreshTimeout)}},componentWillReceiveProps:function componentWillReceiveProps(nextProps){this.refreshSitesAndPlugins(nextProps)},getSitesPlugin:function getSitesPlugin(nextProps){var props=nextProps||this.props,selectedSite=this.props.sites.getSelectedSite();if(selectedSite&&!selectedSite.jetpack){return{accessError:false,sites:[],notInstalledSites:[],plugin:null}}var sites=(0,_uniq2.default)(props.sites.getSelectedOrAllWithPlugins()),sitePlugin=_store2.default.getPlugin(sites,props.pluginSlug);var plugin=(0,_assign2.default)({name:props.pluginSlug,id:props.pluginSlug,slug:props.pluginSlug},sitePlugin);return{accessError:_accessControl2.default.hasRestrictedAccess(),sites:_store2.default.getSites(sites,props.pluginSlug)||[],notInstalledSites:_store2.default.getNotInstalledSites(sites,props.pluginSlug)||[],plugin:plugin}},refreshSitesAndPlugins:function refreshSitesAndPlugins(nextProps){this.setState(this.getSitesPlugin(nextProps));this.updatePageTitle()},updatePageTitle:function updatePageTitle(){var _this=this;var pageTitle=this.state.plugin?this.state.plugin.name:this.props.pluginSlug;if(this._currentPageTitle===pageTitle){return}this._currentPageTitle=pageTitle;this.pluginRefreshTimeout=setTimeout(function(){_this.props.onPluginRefresh(_this.translate("%(pluginName)s Plugin","%(pluginName)s Plugins",{count:pageTitle.toLowerCase()!=="standard"|0,args:{pluginName:(0,_upperFirst2.default)(_this._currentPageTitle)},textOnly:true,context:"Page title: Plugin detail"}))},1)},removeNotice:function removeNotice(error){_actions2.default.removePluginsNotices(error)},recordEvent:function recordEvent(eventAction){_analytics2.default.ga.recordEvent("Plugins",eventAction,"Plugin Name",this.props.pluginSlug)},getPreviousListUrl:function getPreviousListUrl(){var splitPluginUrl=this.props.prevPath.split("/"+this.props.pluginSlug+"/");var previousPath=this.props.prevPath;if(splitPluginUrl[1]){previousPath=splitPluginUrl[0]}return previousPath+"/"+(this.props.siteUrl||"")+(this.props.prevQuerystring?"?"+this.props.prevQuerystring:"")},goBack:function goBack(){if(this.props.prevPath){return(0,_page2.default)(this.getPreviousListUrl())}return(0,_page2.default)("/plugins/"+(this.props.siteUrl||""))},displayHeader:function displayHeader(){var recordEvent=this.recordEvent.bind(this,"Clicked Header Plugin Back Arrow");return _react2.default.createElement(_headerCake2.default,{isCompact:true,onClick:this.goBack,onBackArrowClick:recordEvent})},pluginExists:function pluginExists(plugin){if(this.isFetching()){return"unknown"}if(plugin&&plugin.fetched){return true}var sites=this.props.sites.getSelectedOrAllWithPlugins()||[];if(plugin.sites&&plugin.sites[0]){return true}if(sites.some(_store2.default.isFetchingSite)){return"unknown"}return false},isFetching:function isFetching(){return this.props.wporgFetching},isFetched:function isFetched(){return _selectors2.default.isFetched(this.props.wporgPlugins,this.props.pluginSlug)},isFetchingSites:function isFetchingSites(){var sites=this.props.sites.getSelectedOrAllWithPlugins()||[];return sites.every(_store2.default.isFetchingSite)},getPlugin:function getPlugin(){var plugin=(0,_assign2.default)({},this.state.plugin);plugin=(0,_assign2.default)(plugin,_selectors2.default.getPlugin(this.props.wporgPlugins,this.props.pluginSlug));return plugin},getPluginDoesNotExistView:function getPluginDoesNotExistView(selectedSite){var actionUrl="/plugins/browse"+(selectedSite?"/"+selectedSite.slug:""),action=this.translate("Browse all plugins");return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_jetpackManageErrorPage2.default,{title:this.translate("Oops! We can't find this plugin!"),line:this.translate("The plugin you are looking for doesn't exist."),actionURL:actionUrl,action:action,illustration:"/calypso/images/drake/drake-404.svg"}))},renderSitesList:function renderSitesList(plugin){if(this.props.siteUrl||this.isFetching()){return}return _react2.default.createElement("div",null,_react2.default.createElement(_pluginSiteList2.default,{className:"plugin__installed-on",title:this.translate("Installed on",{comment:"header for list of sites a plugin is installed on"}),sites:this.state.sites,plugin:plugin,notices:this.state.notices}),plugin.wporg&&_react2.default.createElement(_pluginSiteList2.default,{className:"plugin__not-installed-on",title:this.translate("Available sites",{comment:"header for list of sites a plugin can be installed on"}),sites:this.state.notInstalledSites,plugin:plugin,notices:this.state.notices}))},renderPluginPlaceholder:function renderPluginPlaceholder(){var selectedSite=this.props.sites.getSelectedSite();return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement("div",{className:"plugin__page"},this.displayHeader(),_react2.default.createElement(_pluginMeta2.default,{isPlaceholder:true,notices:this.state.notices,isInstalledOnSite:this.isFetchingSites()?null:!!_store2.default.getSitePlugin(selectedSite,this.state.plugin.slug),plugin:this.getPlugin(),siteUrl:this.props.siteUrl,sites:this.state.sites,selectedSite:selectedSite})))},getMockPlugin:function getMockPlugin(){var selectedSite={slug:"no-slug",canUpdateFiles:true,name:"Not a real site",options:{software_version:"1"}};return _react2.default.createElement(_main2.default,null,_react2.default.createElement("div",{className:"plugin__page"},this.displayHeader(),_react2.default.createElement(_pluginMeta2.default,{notices:{},isInstalledOnSite:!!_store2.default.getSitePlugin(selectedSite,this.state.plugin.slug),plugin:this.getPlugin(),siteUrl:"no-real-url",sites:[selectedSite],selectedSite:selectedSite,isMock:true})))},render:function render(){var selectedSite=this.props.sites.getSelectedSite();if(selectedSite&&!selectedSite.jetpack){return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_pluginsList2.default,null))}if(this.state.accessError){return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_emptyContent2.default,this.state.accessError),this.state.accessError.featureExample?_react2.default.createElement(_featureExample2.default,null,this.state.accessError.featureExample):null)}var plugin=this.getPlugin();var pluginExists=this.pluginExists(plugin);if(pluginExists==="unknown"){return this.renderPluginPlaceholder()}if(pluginExists===false){return this.getPluginDoesNotExistView(selectedSite)}if(selectedSite&&selectedSite.jetpack&&!selectedSite.canManage()){return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_jetpackManageErrorPage2.default,{template:"optInManage",title:this.translate("Looking to manage this site's plugins?"),site:selectedSite,section:"plugins",featureExample:this.getMockPlugin()}))}var installInProgress=_logStore2.default.isInProgressAction(selectedSite.ID,this.state.plugin.slug,"INSTALL_PLUGIN");return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement("div",{className:"plugin__page"},this.displayHeader(),_react2.default.createElement(_pluginMeta2.default,{notices:this.state.notices,plugin:plugin,siteUrl:this.props.siteUrl,sites:this.state.sites,selectedSite:selectedSite,isInstalledOnSite:this.isFetchingSites()?null:!!_store2.default.getSitePlugin(selectedSite,this.state.plugin.slug),isInstalling:installInProgress}),plugin.wporg&&_react2.default.createElement(_pluginSections2.default,{plugin:plugin}),this.renderSitesList(plugin)))}});exports.default=(0,_reactRedux.connect)(function(state,props){return{wporgPlugins:state.plugins.wporg.items,wporgFetching:_selectors2.default.isFetching(state.plugins.wporg.fetchingItems,props.pluginSlug)}},function(dispatch){return(0,_redux.bindActionCreators)({wporgFetchPluginData:_actions3.fetchPluginData},dispatch)})(SinglePlugin);module.exports=exports["default"]},2633:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1);var PluginIcon=__webpack_require__(1661),PluginsStore=__webpack_require__(1718),Rating=__webpack_require__(2077);module.exports=React.createClass({displayName:"PluginsBrowserListElement",getDefaultProps:function getDefaultProps(){return{iconSize:40}},getPluginLink:function getPluginLink(){var url="/plugins/"+this.props.plugin.slug;if(this.props.site){url+="/"+this.props.site}return url},getSites:function getSites(){if(this.props.site&&this.props.currentSites){return PluginsStore.getSites(this.props.currentSites,this.props.plugin.slug)}return[]},renderInstalledIn:function renderInstalledIn(){var sites=this.getSites();if(sites&&sites.length>0){return React.createElement("div",{className:"plugins-browser-item__installed"},this.translate("Installed"))}return null},renderPlaceholder:function renderPlaceholder(){return React.createElement("li",{className:"plugins-browser-item is-placeholder"},React.createElement("span",{className:"plugins-browser-item__link"},React.createElement("div",{className:"plugins-browser-item__info"},React.createElement(PluginIcon,{size:this.props.iconSize,isPlaceholder:true}),React.createElement("div",{className:"plugins-browser-item__title"},"…"),React.createElement("div",{className:"plugins-browser-item__author"},"…")),React.createElement(Rating,{rating:0})))},render:function render(){if(this.props.isPlaceholder){return this.renderPlaceholder()}return React.createElement("li",{className:"plugins-browser-item"},React.createElement("a",{href:this.getPluginLink(),className:"plugins-browser-item__link"},React.createElement("div",{className:"plugins-browser-item__info"},React.createElement(PluginIcon,{size:this.props.iconSize,image:this.props.plugin.icon,isPlaceholder:this.props.isPlaceholder}),React.createElement("div",{className:"plugins-browser-item__title"},this.props.plugin.name),React.createElement("div",{className:"plugins-browser-item__author"},this.props.plugin.author_name),this.renderInstalledIn()),React.createElement(Rating,{rating:this.props.plugin.rating})))}})},2634:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _pluginsBrowserItem=__webpack_require__(2633);var _pluginsBrowserItem2=_interopRequireDefault(_pluginsBrowserItem);var _card=__webpack_require__(145);var _card2=_interopRequireDefault(_card);var _gridicon=__webpack_require__(28);var _gridicon2=_interopRequireDefault(_gridicon);var _sectionHeader=__webpack_require__(1451);var _sectionHeader2=_interopRequireDefault(_sectionHeader);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_react2.default.createClass({displayName:"PluginsBrowserList",_DEFAULT_PLACEHOLDER_NUMBER:6,renderPluginsViewList:function renderPluginsViewList(){var _this=this;var emptyCounter=0;var pluginsViewsList=this.props.plugins.map(function(plugin,n){return _react2.default.createElement(_pluginsBrowserItem2.default,{site:_this.props.site,key:plugin.slug+n,plugin:plugin,currentSites:_this.props.currentSites})});if(this.props.showPlaceholders){pluginsViewsList=pluginsViewsList.concat(this.renderPlaceholdersViews())}while(pluginsViewsList.length%3!==0||pluginsViewsList.length%2!==0){pluginsViewsList.push(_react2.default.createElement("div",{className:"plugins-browser-item is-empty",key:"empty-item-"+emptyCounter++}))}if(this.props.size){return pluginsViewsList.slice(0,this.props.size)}return pluginsViewsList},renderPlaceholdersViews:function renderPlaceholdersViews(){return Array.apply(null,Array(this.props.size||this._DEFAULT_PLACEHOLDER_NUMBER)).map(function(item,i){return _react2.default.createElement(_pluginsBrowserItem2.default,{isPlaceholder:true,key:"placeholder-plugin-"+i})})},renderViews:function renderViews(){if(this.props.plugins.length){return this.renderPluginsViewList()}else if(this.props.showPlaceholders){return this.renderPlaceholdersViews()}},renderLink:function renderLink(){if(this.props.expandedListLink){return _react2.default.createElement("a",{className:"button is-link plugins-browser-list__select-all",href:this.props.expandedListLink+(this.props.site||"")},this.translate("See All"),_react2.default.createElement(_gridicon2.default,{icon:"chevron-right",size:12}))}},render:function render(){return _react2.default.createElement("div",{className:"plugins-browser-list"},_react2.default.createElement(_sectionHeader2.default,{label:this.props.title},this.renderLink()),_react2.default.createElement(_card2.default,{className:"plugins-browser-list__elements"},this.renderViews()))}});module.exports=exports["default"]},2635:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _accessControl=__webpack_require__(1939);var _accessControl2=_interopRequireDefault(_accessControl);var _sidebarNavigation=__webpack_require__(1465);var _sidebarNavigation2=_interopRequireDefault(_sidebarNavigation);var _search=__webpack_require__(651);var _search2=_interopRequireDefault(_search);var _searchCard=__webpack_require__(1502);var _searchCard2=_interopRequireDefault(_searchCard);var _sectionNav=__webpack_require__(1473);var _sectionNav2=_interopRequireDefault(_sectionNav);var _main=__webpack_require__(147);var _main2=_interopRequireDefault(_main);var _tabs=__webpack_require__(1471);var _tabs2=_interopRequireDefault(_tabs);var _item=__webpack_require__(1470);var _item2=_interopRequireDefault(_item);var _noResults=__webpack_require__(1494);var _noResults2=_interopRequireDefault(_noResults);var _pluginsBrowserList=__webpack_require__(2634);var _pluginsBrowserList2=_interopRequireDefault(_pluginsBrowserList);var _listStore=__webpack_require__(2416);var _listStore2=_interopRequireDefault(_listStore);var _actions=__webpack_require__(2100);var _actions2=_interopRequireDefault(_actions);var _emptyContent=__webpack_require__(185);var _emptyContent2=_interopRequireDefault(_emptyContent);var _urlSearch=__webpack_require__(1499);var _urlSearch2=_interopRequireDefault(_urlSearch);var _infiniteScroll=__webpack_require__(1569);var _infiniteScroll2=_interopRequireDefault(_infiniteScroll);var _jetpackManageErrorPage=__webpack_require__(670);var _jetpackManageErrorPage2=_interopRequireDefault(_jetpackManageErrorPage);var _featureExample=__webpack_require__(690);var _featureExample2=_interopRequireDefault(_featureExample);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_react2.default.createClass({displayName:"PluginsBrowser",_SHORT_LIST_LENGTH:6,visibleCategories:["new","popular","featured"],mixins:[(0,_infiniteScroll2.default)("fetchNextPagePlugins"),_urlSearch2.default],componentDidMount:function componentDidMount(){_listStore2.default.on("change",this.refreshLists);this.props.sites.on("change",this.refreshLists)},getInitialState:function getInitialState(){
return this.getPluginsLists(this.props.search)},componentWillUnmount:function componentWillUnmount(){_listStore2.default.removeListener("change",this.refreshLists);this.props.sites.removeListener("change",this.refreshLists)},componentWillReceiveProps:function componentWillReceiveProps(newProps){this.refreshLists(newProps.search)},refreshLists:function refreshLists(search){this.setState(this.getPluginsLists(search||this.props.search))},fetchNextPagePlugins:function fetchNextPagePlugins(){var doSearch=true;if(this.state.fullLists.search&&this.state.fullLists.search.fetching){doSearch=false}if(this.state.fullLists.search&&this.state.fullLists.search.list&&this.state.fullLists.search.list.length<10){doSearch=false}if(this.props.search&&doSearch){_actions2.default.fetchNextCategoryPage("search",this.props.search)}else if(this.props.category){_actions2.default.fetchNextCategoryPage(this.props.category)}},getPluginsLists:function getPluginsLists(search){var shortLists={},fullLists={};this.visibleCategories.forEach(function(category){shortLists[category]=_listStore2.default.getShortList(category);fullLists[category]=_listStore2.default.getFullList(category)});fullLists.search=_listStore2.default.getSearchList(search);return{accessError:_accessControl2.default.hasRestrictedAccess(),shortLists:shortLists,fullLists:fullLists}},getPluginsShortList:function getPluginsShortList(listName){return this.state.shortLists[listName]?this.state.shortLists[listName].list:[]},getPluginsFullList:function getPluginsFullList(listName){return this.state.fullLists[listName]?this.state.fullLists[listName].list:[]},getPluginBrowserContent:function getPluginBrowserContent(){if(this.props.search){return this.getSearchListView(this.props.search)}if(this.props.category){return this.getFullListView(this.props.category)}return this.getShortListsView()},translateCategory:function translateCategory(category){switch(category){case"new":return this.translate("New",{context:"Category description for the plugin browser."});case"popular":return this.translate("Popular",{context:"Category description for the plugin browser."});case"featured":return this.translate("Featured",{context:"Category description for the plugin browser."})}},getFullListView:function getFullListView(category){var isFetching=this.state.fullLists[category]?!!this.state.fullLists[category].fetching:true;if(this.getPluginsFullList(category).length>0||isFetching){return _react2.default.createElement(_pluginsBrowserList2.default,{plugins:this.getPluginsFullList(category),listName:category,title:this.translateCategory(category),site:this.props.site,showPlaceholders:isFetching,currentSites:this.props.sites.getSelectedOrAllJetpackCanManage()})}},getSearchListView:function getSearchListView(searchTerm){var isFetching=this.state.fullLists.search?!!this.state.fullLists.search.fetching:true;if(this.getPluginsFullList("search").length>0||isFetching){var searchTitle=this.translate("Results for: %(searchTerm)s",{textOnly:true,args:{searchTerm:searchTerm}});return _react2.default.createElement(_pluginsBrowserList2.default,{plugins:this.getPluginsFullList("search"),listName:searchTerm,title:searchTitle,site:this.props.site,showPlaceholders:isFetching,currentSites:this.props.sites.getSelectedOrAllJetpackCanManage()})}return _react2.default.createElement(_noResults2.default,{text:this.translate("No plugins match your search for {{searchTerm/}}.",{textOnly:true,components:{searchTerm:_react2.default.createElement("em",null,searchTerm)}})})},getPluginSingleListView:function getPluginSingleListView(category){return _react2.default.createElement(_pluginsBrowserList2.default,{plugins:this.getPluginsShortList(category),listName:category,title:this.translateCategory(category),site:this.props.site,expandedListLink:this.getPluginsFullList(category).length>this._SHORT_LIST_LENGTH?"/plugins/browse/"+category+"/":false,size:this._SHORT_LIST_LENGTH,showPlaceholders:this.state.fullLists[category].fetching!==false,currentSites:this.props.sites.getSelectedOrAllJetpackCanManage()})},getShortListsView:function getShortListsView(){return _react2.default.createElement("span",null,this.getPluginSingleListView("featured"),this.getPluginSingleListView("popular"),this.getPluginSingleListView("new"))},getSearchBox:function getSearchBox(pinned){if(pinned){return _react2.default.createElement(_search2.default,{pinned:true,fitsContainer:true,onSearch:this.doSearch,initialValue:this.props.search,placeholder:this.translate("Search Plugins"),delaySearch:true,analyticsGroup:"PluginsBrowser"})}return _react2.default.createElement(_searchCard2.default,{onSearch:this.doSearch,initialValue:this.props.search,placeholder:this.translate("Search Plugins"),delaySearch:true,analyticsGroup:"PluginsBrowser"})},getNavigationBar:function getNavigationBar(){var site=this.props.site?"/"+this.props.site:"";return _react2.default.createElement(_sectionNav2.default,{selectedText:this.translate("Category",{context:"Category of plugins to be filtered by"})},_react2.default.createElement(_tabs2.default,{label:"Category"},_react2.default.createElement(_item2.default,{path:"/plugins/browse"+site,selected:false},this.translate("All",{context:"Filter all plugins"})," "),_react2.default.createElement(_item2.default,{path:"/plugins/browse/featured"+site,selected:this.props.path==="/plugins/browse/featured"+site}," ",this.translate("Featured",{context:"Filter featured plugins"})," "),_react2.default.createElement(_item2.default,{path:"/plugins/browse/popular"+site,selected:this.props.path==="/plugins/browse/popular"+site}," ",this.translate("Popular",{context:"Filter popular plugins"})," "),_react2.default.createElement(_item2.default,{path:"/plugins/browse/new"+site,selected:this.props.path==="/plugins/browse/new"+site}," ",this.translate("New",{context:"Filter new plugins"})," ")),this.getSearchBox(true))},getPageHeaderView:function getPageHeaderView(){if(this.props.category){return this.getNavigationBar()}return _react2.default.createElement("div",{className:"plugins-browser__main-header"},this.getSearchBox(false))},getMockPluginItems:function getMockPluginItems(){return _react2.default.createElement(_pluginsBrowserList2.default,{plugins:this.getPluginsShortList("popular"),listName:"Plugins",title:this.translate("Popular Plugins"),size:12})},renderAccessError:function renderAccessError(){if(this.state.accessError){return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_emptyContent2.default,this.state.accessError),this.state.accessError.featureExample?_react2.default.createElement(_featureExample2.default,null,this.state.accessError.featureExample):null)}var selectedSite=this.props.sites.getSelectedSite();return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),_react2.default.createElement(_jetpackManageErrorPage2.default,{template:"optInManage",title:this.translate("Looking to manage this site's plugins?"),site:selectedSite,section:"plugins",illustration:"/calypso/images/jetpack/jetpack-manage.svg",featureExample:this.getMockPluginItems()}))},render:function render(){var selectedSite=this.props.sites.getSelectedSite();if(this.state.accessError||selectedSite&&selectedSite.jetpack&&!selectedSite.canManage()){return this.renderAccessError(selectedSite)}return _react2.default.createElement(_main2.default,null,_react2.default.createElement(_sidebarNavigation2.default,null),this.getPageHeaderView(),this.getPluginBrowserContent())}})},2636:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keys=__webpack_require__(44);var _keys2=_interopRequireDefault(_keys);var _toConsumableArray2=__webpack_require__(46);var _toConsumableArray3=_interopRequireDefault(_toConsumableArray2);var _defineProperty2=__webpack_require__(7);var _defineProperty3=_interopRequireDefault(_defineProperty2);var _assign=__webpack_require__(5);var _assign2=_interopRequireDefault(_assign);var _react=__webpack_require__(1);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(11);var _classnames2=_interopRequireDefault(_classnames);var _isEmpty=__webpack_require__(81);var _isEmpty2=_interopRequireDefault(_isEmpty);var _find=__webpack_require__(33);var _find2=_interopRequireDefault(_find);var _includes=__webpack_require__(34);var _includes2=_interopRequireDefault(_includes);var _negate=__webpack_require__(388);var _negate2=_interopRequireDefault(_negate);var _range=__webpack_require__(678);var _range2=_interopRequireDefault(_range);var _isEqual=__webpack_require__(92);var _isEqual2=_interopRequireDefault(_isEqual);var _analytics=__webpack_require__(16);var _analytics2=_interopRequireDefault(_analytics);var _accept=__webpack_require__(667);var _accept2=_interopRequireDefault(_accept);var _disconnectJetpackDialog=__webpack_require__(757);var _disconnectJetpackDialog2=_interopRequireDefault(_disconnectJetpackDialog);var _pluginItem=__webpack_require__(1942);var _pluginItem2=_interopRequireDefault(_pluginItem);var _actions=__webpack_require__(1541);var _actions2=_interopRequireDefault(_actions);var _pluginListHeader=__webpack_require__(2623);var _pluginListHeader2=_interopRequireDefault(_pluginListHeader);var _logStore=__webpack_require__(1570);var _logStore2=_interopRequireDefault(_logStore);var _notices=__webpack_require__(1896);var _notices2=_interopRequireDefault(_notices);var _sectionHeader=__webpack_require__(1451);var _sectionHeader2=_interopRequireDefault(_sectionHeader);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function checkPropsChange(nextProps,propArr){var i,prop;for(i=0;i<propArr.length;i++){prop=propArr[i];if(!(0,_isEqual2.default)(nextProps[prop],this.props[prop])){return true}}return false}exports.default=_react2.default.createClass({displayName:"PluginsList",mixins:[_notices2.default],propTypes:{plugins:_react.PropTypes.arrayOf(_react.PropTypes.shape({sites:_react.PropTypes.array,slug:_react.PropTypes.string,name:_react.PropTypes.string})).isRequired,header:_react.PropTypes.string.isRequired,sites:_react.PropTypes.object.isRequired,selectedSite:_react.PropTypes.oneOfType([_react.PropTypes.bool,_react.PropTypes.object]).isRequired,pluginUpdateCount:_react.PropTypes.number,isPlaceholder:_react.PropTypes.bool.isRequired},shouldComponentUpdate:function shouldComponentUpdate(nextProps,nextState){var propsToCheck=["plugins","sites","selectedSite","pluginUpdateCount",""];if(checkPropsChange.call(this,nextProps,propsToCheck)){return true}if(this.props.isPlaceholder!==nextProps.isPlaceholder){return true}if(this.state.bulkManagementActive!==nextState.bulkManagementActive){return true}if(this.state.disconnectJetpackDialog!==nextState.disconnectJetpackDialog){return true}if(!(0,_isEqual2.default)(this.state.selectedPlugins,nextState.selectedPlugins)){return true}if(this.shouldComponentUpdateNotices(this.state.notices,nextState.notices)){return true}return false},getInitialState:function getInitialState(){return{disconnectJetpackDialog:false,bulkManagementActive:false,selectedPlugins:{}}},componentDidMount:function componentDidMount(){_logStore2.default.on("change",this.showDisconnectDialog)},componentWillUnmount:function componentWillUnmount(){_logStore2.default.removeListener("change",this.showDisconnectDialog)},isSelected:function isSelected(_ref){var slug=_ref.slug;return!!this.state.selectedPlugins[slug]},togglePlugin:function togglePlugin(plugin){var slug=plugin.slug;var selectedPlugins=this.state.selectedPlugins;var oldValue=selectedPlugins[slug];this.setState({selectedPlugins:(0,_assign2.default)({},selectedPlugins,(0,_defineProperty3.default)({},slug,!oldValue))});_analytics2.default.ga.recordEvent("Plugins",true?"Deselect":"Select"+"Single Plugin","Plugin Name",slug)},setBulkSelectionState:function setBulkSelectionState(plugins,selectionState){var _this=this;var slugsToBeUpdated={};plugins.forEach(function(plugin){return slugsToBeUpdated[plugin.slug]=_this.hasNoSitesThatCanManage(plugin)?false:selectionState});this.setState({selectedPlugins:(0,_assign2.default)({},this.state.selectedPlugins,slugsToBeUpdated)})},getPluginBySlug:function getPluginBySlug(slug){var plugins=this.props.plugins;return(0,_find2.default)(plugins,function(plugin){return plugin.slug===slug})},filterSelection:{active:function active(plugin){if(this.isSelected(plugin)){return plugin.sites.some(function(site){return site.plugin&&site.plugin.active})}return false},inactive:function inactive(plugin){if(this.isSelected(plugin)){return plugin.sites.some(function(site){return site.plugin&&!site.plugin.active})}return false},updates:function updates(plugin){if(this.isSelected(plugin)){return plugin.sites.some(function(site){return site.plugin&&site.plugin.update&&site.plugin.update.new_version&&site.canUpdateFiles})}return false},selected:function selected(plugin){return this.isSelected(plugin)}},hasNoSitesThatCanManage:function hasNoSitesThatCanManage(plugin){return!plugin.sites.some(function(site){return(0,_includes2.default)(site.modules||[],"manage")})},getSelected:function getSelected(){return this.props.plugins.filter(this.filterSelection.selected.bind(this))},siteSuffix:function siteSuffix(){return this.props.selectedSite||this.props.sites.get().length===1?"/"+this.props.sites.selected:""},recordEvent:function recordEvent(eventAction,includeSelectedPlugins){eventAction+=this.props.selectedSite?"":" on Multisite";if(includeSelectedPlugins){var pluginSlugs=this.getSelected().map(function(plugin){return plugin.slug});_analytics2.default.ga.recordEvent("Plugins",eventAction,"Plugins",pluginSlugs)}else{_analytics2.default.ga.recordEvent("Plugins",eventAction)}},toggleBulkManagement:function toggleBulkManagement(){var activateBulkManagement=!this.state.bulkManagementActive;if(activateBulkManagement){this.setBulkSelectionState(this.props.plugins,true);this.setState({bulkManagementActive:true});this.recordEvent("Clicked Manage")}else{this.setState({bulkManagementActive:false});this.removePluginsNotices();this.recordEvent("Clicked Manage Done")}},removePluginsNotices:function removePluginsNotices(){var _state$notices=this.state.notices;_state$notices=_state$notices===undefined?{}:_state$notices;var completed=_state$notices.completed;var errors=_state$notices.errors;if(completed||errors){_actions2.default.removePluginsNotices([].concat((0,_toConsumableArray3.default)(completed),(0,_toConsumableArray3.default)(errors)))}},doActionOverSelected:function doActionOverSelected(actionName,action){var isDeactivatingAndJetpackSelected=function isDeactivatingAndJetpackSelected(_ref2){var slug=_ref2.slug;return"deactivating"===actionName&&"jetpack"===slug};var flattenArrays=function flattenArrays(full,partial){return[].concat((0,_toConsumableArray3.default)(full),(0,_toConsumableArray3.default)(partial))};this.removePluginsNotices();this.props.plugins.filter(this.isSelected).filter((0,_negate2.default)(isDeactivatingAndJetpackSelected)).map(function(p){return p.sites}).reduce(flattenArrays,[]).forEach(function(site){return action(site,site.plugin)})},updateAllPlugins:function updateAllPlugins(){this.removePluginsNotices();this.props.plugins.forEach(function(plugin){plugin.sites.forEach(function(site){return _actions2.default.updatePlugin(site,site.plugin)})});this.recordEvent("Clicked Update all Plugins",true)},updateSelected:function updateSelected(){this.doActionOverSelected("updating",_actions2.default.updatePlugin);this.recordEvent("Clicked Update Plugin(s)",true)},activateSelected:function activateSelected(){this.doActionOverSelected("activating",_actions2.default.activatePlugin);this.recordEvent("Clicked Activate Plugin(s)",true)},deactivateSelected:function deactivateSelected(){this.doActionOverSelected("deactivating",_actions2.default.deactivatePlugin);this.recordEvent("Clicked Deactivate Plugin(s)",true)},deactiveAndDisconnectSelected:function deactiveAndDisconnectSelected(){var waitForDeactivate=false;this.doActionOverSelected("deactivating",function(site,plugin){waitForDeactivate=true;_actions2.default.deactivatePlugin(site,plugin)});if(waitForDeactivate){this.setState({disconnectJetpackDialog:true})}else{this.refs.dialog.open()}this.recordEvent("Clicked Deactivate Plugin(s) and Disconnect Jetpack",true)},setAutoupdateSelected:function setAutoupdateSelected(){this.doActionOverSelected("enablingAutoupdates",_actions2.default.enableAutoUpdatesPlugin);this.recordEvent("Clicked Enable Autoupdate Plugin(s)",true)},unsetAutoupdateSelected:function unsetAutoupdateSelected(){this.doActionOverSelected("disablingAutoupdates",_actions2.default.disableAutoUpdatesPlugin);this.recordEvent("Clicked Disable Autoupdate Plugin(s)",true)},getConfirmationText:function getConfirmationText(){var pluginsList={},sitesList={},pluginName=void 0,siteName=void 0;this.props.plugins.filter(this.isSelected).forEach(function(plugin){pluginsList[plugin.slug]=true;pluginName=plugin.name||plugin.slug;plugin.sites.forEach(function(site){if(site.canUpdateFiles){sitesList[site.ID]=true;siteName=site.title}})});var pluginsListSize=(0,_keys2.default)(pluginsList).length;var siteListSize=(0,_keys2.default)(sitesList).length;var combination=(siteListSize>1?"n sites":"1 site")+" "+(pluginsListSize>1?"n plugins":"1 plugin");switch(combination){case"1 site 1 plugin":return this.translate("You are about to remove {{em}}%(plugin)s from %(site)s{{/em}}.{{p}}This will deactivate the plugin and delete all associated files and data.{{/p}}",{components:{em:_react2.default.createElement("em",null),p:_react2.default.createElement("p",null)},args:{plugin:pluginName,site:siteName}});break;case"1 site n plugins":return this.translate("You are about to remove {{em}}%(numberOfPlugins)d plugins from %(site)s{{/em}}.{{p}}This will deactivate the plugins and delete all associated files and data.{{/p}}",{components:{em:_react2.default.createElement("em",null),p:_react2.default.createElement("p",null)},args:{numberOfPlugins:pluginsListSize,site:siteName}});break;case"n sites 1 plugin":return this.translate("You are about to remove {{em}}%(plugin)s from %(numberOfSites)d sites{{/em}}.{{p}}This will deactivate the plugin and delete all associated files and data.{{/p}}",{components:{em:_react2.default.createElement("em",null),p:_react2.default.createElement("p",null)},args:{plugin:pluginName,numberOfSites:siteListSize}});break;case"n sites n plugins":return this.translate("You are about to remove {{em}}%(numberOfPlugins)d plugins from %(numberOfSites)d sites{{/em}}.{{p}}This will deactivate the plugins and delete all associated files and data.{{/p}}",{components:{em:_react2.default.createElement("em",null),p:_react2.default.createElement("p",null)},args:{numberOfPlugins:pluginsListSize,numberOfSites:siteListSize}});break}},removePluginDialog:function removePluginDialog(){var message=_react2.default.createElement("div",null,_react2.default.createElement("span",null,this.getConfirmationText()),_react2.default.createElement("span",null,this.translate("Do you want to continue?")));(0,_accept2.default)(message,this.removeSelected,this.translate("Remove",{context:"Verb. Presented to user as a label for a button."}))},removeSelected:function removeSelected(accepted){if(accepted){this.doActionOverSelected("removing",_actions2.default.removePlugin);this.recordEvent("Clicked Remove Plugin(s)",true)}},showDisconnectDialog:function showDisconnectDialog(){if(this.state.disconnectJetpackDialog&&!this.state.notices.inProgress.length){this.setState({disconnectJetpackDialog:false});this.refs.dialog.open()}},render:function render(){var itemListClasses=(0,_classnames2.default)("list-cards-compact","plugins-list",{"is-bulk-editing":this.state.bulkManagementActive});var selectedSiteSlug=this.props.sites.getSelectedSite()?this.props.sites.getSelectedSite().slug:"";if(this.props.isPlaceholder){return _react2.default.createElement("div",{className:"plugins-list"},_react2.default.createElement(_sectionHeader2.default,{key:"plugins-list__section-placeholder",label:this.props.header,className:"plugins-list__section-actions is-placeholder"}),_react2.default.createElement("div",{className:itemListClasses},this.renderPlaceholders()))}if((0,_isEmpty2.default)(this.props.plugins)){return null}return _react2.default.createElement("div",{className:"plugins-list"},_react2.default.createElement(_pluginListHeader2.default,{label:this.props.header,isBulkManagementActive:this.state.bulkManagementActive,selectedSiteSlug:selectedSiteSlug,plugins:this.props.plugins,selected:this.getSelected(),toggleBulkManagement:this.toggleBulkManagement,updateAllPlugins:this.updateAllPlugins,updateSelected:this.updateSelected,pluginUpdateCount:this.props.pluginUpdateCount,activateSelected:this.activateSelected,deactiveAndDisconnectSelected:this.deactiveAndDisconnectSelected,deactivateSelected:this.deactivateSelected,setAutoupdateSelected:this.setAutoupdateSelected,unsetAutoupdateSelected:this.unsetAutoupdateSelected,removePluginNotice:this.removePluginDialog,setSelectionState:this.setBulkSelectionState,haveActiveSelected:this.props.plugins.some(this.filterSelection.active.bind(this)),haveInactiveSelected:this.props.plugins.some(this.filterSelection.inactive.bind(this)),haveUpdatesSelected:this.props.plugins.some(this.filterSelection.updates.bind(this))}),_react2.default.createElement("div",{className:itemListClasses},this.props.plugins.map(this.renderPlugin)),_react2.default.createElement(_disconnectJetpackDialog2.default,{ref:"dialog",site:this.props.site,sites:this.props.sites,redirect:"/plugins"}))},renderPlugin:function renderPlugin(plugin){var selectThisPlugin=this.togglePlugin.bind(this,plugin);return _react2.default.createElement(_pluginItem2.default,{key:plugin.slug,hasAllNoManageSites:this.hasNoSitesThatCanManage(plugin),plugin:plugin,sites:plugin.sites,progress:this.state.notices.inProgress.filter(function(log){return log.plugin.slug===plugin.slug}),errors:this.state.notices.errors.filter(function(log){return log.plugin&&log.plugin.slug===plugin.slug}),notices:this.state.notices,isSelected:this.isSelected(plugin),isSelectable:this.state.bulkManagementActive,onClick:selectThisPlugin,selectedSite:this.props.selectedSite,pluginLink:"/plugins/"+encodeURIComponent(plugin.slug)+this.siteSuffix()})},renderPlaceholders:function renderPlaceholders(){var placeholderCount=16;return(0,_range2.default)(placeholderCount).map(function(i){return _react2.default.createElement(_pluginItem2.default,{key:"placeholder-"+i})})}});module.exports=exports["default"]},3066:function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(3103),__esModule:true}},3103:function(module,exports,__webpack_require__){__webpack_require__(3108);module.exports=parseInt},3104:function(module,exports,__webpack_require__){var $parseInt=__webpack_require__(54).parseInt,$trim=__webpack_require__(3105).trim,ws=__webpack_require__(2228),hex=/^[\-+]?0[xX]/;module.exports=$parseInt(ws+"08")!==8||$parseInt(ws+"0x16")!==22?function parseInt(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt},3105:function(module,exports,__webpack_require__){var $export=__webpack_require__(53),defined=__webpack_require__(209),fails=__webpack_require__(115),spaces=__webpack_require__(2228),space="["+spaces+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$");var exporter=function(KEY,exec,ALIAS){var exp={};var FORCE=fails(function(){return!!spaces[KEY]()||non[KEY]()!=non});var fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];if(ALIAS)exp[ALIAS]=fn;$export($export.P+$export.F*FORCE,"String",exp)};var trim=exporter.trim=function(string,TYPE){string=String(defined(string));if(TYPE&1)string=string.replace(ltrim,"");if(TYPE&2)string=string.replace(rtrim,"");return string};module.exports=exporter},3108:function(module,exports,__webpack_require__){var $export=__webpack_require__(53),$parseInt=__webpack_require__(3104);$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt})},3112:function(module,exports,__webpack_require__){var ElementType=__webpack_require__(3113);var entities=__webpack_require__(3114);var booleanAttributes={__proto__:null,allowfullscreen:true,async:true,autofocus:true,autoplay:true,checked:true,controls:true,default:true,defer:true,disabled:true,hidden:true,ismap:true,loop:true,multiple:true,muted:true,open:true,readonly:true,required:true,reversed:true,scoped:true,seamless:true,selected:true,typemustmatch:true};var unencodedElements={__proto__:null,style:true,script:true,xmp:true,iframe:true,noembed:true,noframes:true,plaintext:true,noscript:true};function formatAttrs(attributes,opts){if(!attributes)return;var output="",value;for(var key in attributes){value=attributes[key];if(output){output+=" "}if(!value&&booleanAttributes[key]){output+=key}else{output+=key+'="'+(opts.decodeEntities?entities.encodeXML(value):value)+'"'}}return output}var singleTag={__proto__:null,area:true,base:true,basefont:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,isindex:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var render=module.exports=function(dom,opts){if(!Array.isArray(dom)&&!dom.cheerio)dom=[dom];opts=opts||{};var output="";for(var i=0;i<dom.length;i++){var elem=dom[i];if(elem.type==="root")output+=render(elem.children,opts);else if(ElementType.isTag(elem))output+=renderTag(elem,opts);else if(elem.type===ElementType.Directive)output+=renderDirective(elem);else if(elem.type===ElementType.Comment)output+=renderComment(elem);else if(elem.type===ElementType.CDATA)output+=renderCdata(elem);else output+=renderText(elem,opts)}return output};function renderTag(elem,opts){if(elem.name==="svg")opts={decodeEntities:opts.decodeEntities,xmlMode:true};var tag="<"+elem.name,attribs=formatAttrs(elem.attribs,opts);if(attribs){tag+=" "+attribs}if(opts.xmlMode&&(!elem.children||elem.children.length===0)){tag+="/>"}else{tag+=">";if(elem.children){tag+=render(elem.children,opts)}if(!singleTag[elem.name]||opts.xmlMode){tag+="</"+elem.name+">"}}return tag}function renderDirective(elem){return"<"+elem.data+">"}function renderText(elem,opts){var data=elem.data||"";if(opts.decodeEntities&&!(elem.parent&&elem.parent.name in unencodedElements)){data=entities.encodeXML(data)}return data}function renderCdata(elem){return"<![CDATA["+elem.children[0].data+"]]>"}function renderComment(elem){return"<!--"+elem.data+"-->"}},3113:function(module,exports){module.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(elem){return elem.type==="tag"||elem.type==="script"||elem.type==="style"}}},3114:function(module,exports,__webpack_require__){var encode=__webpack_require__(3117),decode=__webpack_require__(3115);exports.decode=function(data,level){return(!level||level<=0?decode.XML:decode.HTML)(data)};exports.decodeStrict=function(data,level){return(!level||level<=0?decode.XML:decode.HTMLStrict)(data)};exports.encode=function(data,level){return(!level||level<=0?encode.XML:encode.HTML)(data)};exports.encodeXML=encode.XML;exports.encodeHTML4=exports.encodeHTML5=exports.encodeHTML=encode.HTML;exports.decodeXML=exports.decodeXMLStrict=decode.XML;exports.decodeHTML4=exports.decodeHTML5=exports.decodeHTML=decode.HTML;exports.decodeHTML4Strict=exports.decodeHTML5Strict=exports.decodeHTMLStrict=decode.HTMLStrict;exports.escape=encode.escape},3115:function(module,exports,__webpack_require__){var entityMap=__webpack_require__(2237),legacyMap=__webpack_require__(3156),xmlMap=__webpack_require__(2238),decodeCodePoint=__webpack_require__(3116);var decodeXMLStrict=getStrictDecoder(xmlMap),decodeHTMLStrict=getStrictDecoder(entityMap);function getStrictDecoder(map){var keys=Object.keys(map).join("|"),replace=getReplacer(map);keys+="|#[xX][\\da-fA-F]+|#\\d+";var re=new RegExp("&(?:"+keys+");","g");return function(str){return String(str).replace(re,replace)}}var decodeHTML=function(){var legacy=Object.keys(legacyMap).sort(sorter);var keys=Object.keys(entityMap).sort(sorter);for(var i=0,j=0;i<keys.length;i++){if(legacy[j]===keys[i]){keys[i]+=";?";j++}else{keys[i]+=";"}}var re=new RegExp("&(?:"+keys.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),replace=getReplacer(entityMap);function replacer(str){if(str.substr(-1)!==";")str+=";";return replace(str)}return function(str){return String(str).replace(re,replacer)}}();function sorter(a,b){return a<b?1:-1}function getReplacer(map){return function replace(str){if(str.charAt(1)==="#"){if(str.charAt(2)==="X"||str.charAt(2)==="x"){return decodeCodePoint(parseInt(str.substr(3),16))}return decodeCodePoint(parseInt(str.substr(2),10))}return map[str.slice(1,-1)]}}module.exports={XML:decodeXMLStrict,HTML:decodeHTML,HTMLStrict:decodeHTMLStrict}},3116:function(module,exports,__webpack_require__){var decodeMap=__webpack_require__(3155);module.exports=decodeCodePoint;function decodeCodePoint(codePoint){if(codePoint>=55296&&codePoint<=57343||codePoint>1114111){return"�"}if(codePoint in decodeMap){codePoint=decodeMap[codePoint]}var output="";if(codePoint>65535){codePoint-=65536;output+=String.fromCharCode(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}output+=String.fromCharCode(codePoint);return output}},3117:function(module,exports,__webpack_require__){var inverseXML=getInverseObj(__webpack_require__(2238)),xmlReplacer=getInverseReplacer(inverseXML);exports.XML=getInverse(inverseXML,xmlReplacer);var inverseHTML=getInverseObj(__webpack_require__(2237)),htmlReplacer=getInverseReplacer(inverseHTML);exports.HTML=getInverse(inverseHTML,htmlReplacer);function getInverseObj(obj){return Object.keys(obj).sort().reduce(function(inverse,name){inverse[obj[name]]="&"+name+";";return inverse},{})}function getInverseReplacer(inverse){var single=[],multiple=[];Object.keys(inverse).forEach(function(k){if(k.length===1){single.push("\\"+k)}else{multiple.push(k)}});multiple.unshift("["+single.join("")+"]");return new RegExp(multiple.join("|"),"g")}var re_nonASCII=/[^\0-\x7F]/g,re_astralSymbols=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function singleCharReplacer(c){return"&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(c){var high=c.charCodeAt(0);var low=c.charCodeAt(1);var codePoint=(high-55296)*1024+low-56320+65536;return"&#x"+codePoint.toString(16).toUpperCase()+";"}function getInverse(inverse,re){function func(name){return inverse[name]}return function(data){return data.replace(re,func).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}}var re_xmlChars=getInverseReplacer(inverseXML);function escapeXML(data){return data.replace(re_xmlChars,singleCharReplacer).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}exports.escape=escapeXML},3118:function(module,exports,__webpack_require__){var ElementType=__webpack_require__(1754);var re_whitespace=/\s+/g;var NodePrototype=__webpack_require__(2229);var ElementPrototype=__webpack_require__(3119);function DomHandler(callback,options,elementCB){if(typeof callback==="object"){elementCB=options;options=callback;callback=null}else if(typeof options==="function"){elementCB=options;options=defaultOpts}this._callback=callback;this._options=options||defaultOpts;this._elementCB=elementCB;this.dom=[];this._done=false;this._tagStack=[];this._parser=this._parser||null}var defaultOpts={normalizeWhitespace:false,withStartIndices:false};DomHandler.prototype.onparserinit=function(parser){this._parser=parser};DomHandler.prototype.onreset=function(){DomHandler.call(this,this._callback,this._options,this._elementCB)};DomHandler.prototype.onend=function(){if(this._done)return;this._done=true;this._parser=null;this._handleCallback(null)};DomHandler.prototype._handleCallback=DomHandler.prototype.onerror=function(error){if(typeof this._callback==="function"){
this._callback(error,this.dom)}else{if(error)throw error}};DomHandler.prototype.onclosetag=function(){var elem=this._tagStack.pop();if(this._elementCB)this._elementCB(elem)};DomHandler.prototype._addDomElement=function(element){var parent=this._tagStack[this._tagStack.length-1];var siblings=parent?parent.children:this.dom;var previousSibling=siblings[siblings.length-1];element.next=null;if(this._options.withStartIndices){element.startIndex=this._parser.startIndex}if(this._options.withDomLvl1){element.__proto__=element.type==="tag"?ElementPrototype:NodePrototype}if(previousSibling){element.prev=previousSibling;previousSibling.next=element}else{element.prev=null}siblings.push(element);element.parent=parent||null};DomHandler.prototype.onopentag=function(name,attribs){var element={type:name==="script"?ElementType.Script:name==="style"?ElementType.Style:ElementType.Tag,name:name,attribs:attribs,children:[]};this._addDomElement(element);this._tagStack.push(element)};DomHandler.prototype.ontext=function(data){var normalize=this._options.normalizeWhitespace||this._options.ignoreWhitespace;var lastTag;if(!this._tagStack.length&&this.dom.length&&(lastTag=this.dom[this.dom.length-1]).type===ElementType.Text){if(normalize){lastTag.data=(lastTag.data+data).replace(re_whitespace," ")}else{lastTag.data+=data}}else{if(this._tagStack.length&&(lastTag=this._tagStack[this._tagStack.length-1])&&(lastTag=lastTag.children[lastTag.children.length-1])&&lastTag.type===ElementType.Text){if(normalize){lastTag.data=(lastTag.data+data).replace(re_whitespace," ")}else{lastTag.data+=data}}else{if(normalize){data=data.replace(re_whitespace," ")}this._addDomElement({data:data,type:ElementType.Text})}}};DomHandler.prototype.oncomment=function(data){var lastTag=this._tagStack[this._tagStack.length-1];if(lastTag&&lastTag.type===ElementType.Comment){lastTag.data+=data;return}var element={data:data,type:ElementType.Comment};this._addDomElement(element);this._tagStack.push(element)};DomHandler.prototype.oncdatastart=function(){var element={children:[{data:"",type:ElementType.Text}],type:ElementType.CDATA};this._addDomElement(element);this._tagStack.push(element)};DomHandler.prototype.oncommentend=DomHandler.prototype.oncdataend=function(){this._tagStack.pop()};DomHandler.prototype.onprocessinginstruction=function(name,data){this._addDomElement({name:name,data:data,type:ElementType.Directive})};module.exports=DomHandler},3119:function(module,exports,__webpack_require__){var NodePrototype=__webpack_require__(2229);var ElementPrototype=module.exports=Object.create(NodePrototype);var domLvl1={tagName:"name"};Object.keys(domLvl1).forEach(function(key){var shorthand=domLvl1[key];Object.defineProperty(ElementPrototype,key,{get:function(){return this[shorthand]||null},set:function(val){this[shorthand]=val;return val}})})},3120:function(module,exports,__webpack_require__){var DomUtils=module.exports;[__webpack_require__(3125),__webpack_require__(3126),__webpack_require__(3123),__webpack_require__(3124),__webpack_require__(3122),__webpack_require__(3121)].forEach(function(ext){Object.keys(ext).forEach(function(key){DomUtils[key]=ext[key].bind(DomUtils)})})},3121:function(module,exports){exports.removeSubsets=function(nodes){var idx=nodes.length,node,ancestor,replace;while(--idx>-1){node=ancestor=nodes[idx];nodes[idx]=null;replace=true;while(ancestor){if(nodes.indexOf(ancestor)>-1){replace=false;nodes.splice(idx,1);break}ancestor=ancestor.parent}if(replace){nodes[idx]=node}}return nodes};var POSITION={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16};var comparePos=exports.compareDocumentPosition=function(nodeA,nodeB){var aParents=[];var bParents=[];var current,sharedParent,siblings,aSibling,bSibling,idx;if(nodeA===nodeB){return 0}current=nodeA;while(current){aParents.unshift(current);current=current.parent}current=nodeB;while(current){bParents.unshift(current);current=current.parent}idx=0;while(aParents[idx]===bParents[idx]){idx++}if(idx===0){return POSITION.DISCONNECTED}sharedParent=aParents[idx-1];siblings=sharedParent.children;aSibling=aParents[idx];bSibling=bParents[idx];if(siblings.indexOf(aSibling)>siblings.indexOf(bSibling)){if(sharedParent===nodeB){return POSITION.FOLLOWING|POSITION.CONTAINED_BY}return POSITION.FOLLOWING}else{if(sharedParent===nodeA){return POSITION.PRECEDING|POSITION.CONTAINS}return POSITION.PRECEDING}};exports.uniqueSort=function(nodes){var idx=nodes.length,node,position;nodes=nodes.slice();while(--idx>-1){node=nodes[idx];position=nodes.indexOf(node);if(position>-1&&position<idx){nodes.splice(idx,1)}}nodes.sort(function(a,b){var relative=comparePos(a,b);if(relative&POSITION.PRECEDING){return-1}else if(relative&POSITION.FOLLOWING){return 1}return 0});return nodes}},3122:function(module,exports,__webpack_require__){var ElementType=__webpack_require__(1754);var isTag=exports.isTag=ElementType.isTag;exports.testElement=function(options,element){for(var key in options){if(!options.hasOwnProperty(key));else if(key==="tag_name"){if(!isTag(element)||!options.tag_name(element.name)){return false}}else if(key==="tag_type"){if(!options.tag_type(element.type))return false}else if(key==="tag_contains"){if(isTag(element)||!options.tag_contains(element.data)){return false}}else if(!element.attribs||!options[key](element.attribs[key])){return false}}return true};var Checks={tag_name:function(name){if(typeof name==="function"){return function(elem){return isTag(elem)&&name(elem.name)}}else if(name==="*"){return isTag}else{return function(elem){return isTag(elem)&&elem.name===name}}},tag_type:function(type){if(typeof type==="function"){return function(elem){return type(elem.type)}}else{return function(elem){return elem.type===type}}},tag_contains:function(data){if(typeof data==="function"){return function(elem){return!isTag(elem)&&data(elem.data)}}else{return function(elem){return!isTag(elem)&&elem.data===data}}}};function getAttribCheck(attrib,value){if(typeof value==="function"){return function(elem){return elem.attribs&&value(elem.attribs[attrib])}}else{return function(elem){return elem.attribs&&elem.attribs[attrib]===value}}}function combineFuncs(a,b){return function(elem){return a(elem)||b(elem)}}exports.getElements=function(options,element,recurse,limit){var funcs=Object.keys(options).map(function(key){var value=options[key];return key in Checks?Checks[key](value):getAttribCheck(key,value)});return funcs.length===0?[]:this.filter(funcs.reduce(combineFuncs),element,recurse,limit)};exports.getElementById=function(id,element,recurse){if(!Array.isArray(element))element=[element];return this.findOne(getAttribCheck("id",id),element,recurse!==false)};exports.getElementsByTagName=function(name,element,recurse,limit){return this.filter(Checks.tag_name(name),element,recurse,limit)};exports.getElementsByTagType=function(type,element,recurse,limit){return this.filter(Checks.tag_type(type),element,recurse,limit)}},3123:function(module,exports){exports.removeElement=function(elem){if(elem.prev)elem.prev.next=elem.next;if(elem.next)elem.next.prev=elem.prev;if(elem.parent){var childs=elem.parent.children;childs.splice(childs.lastIndexOf(elem),1)}};exports.replaceElement=function(elem,replacement){var prev=replacement.prev=elem.prev;if(prev){prev.next=replacement}var next=replacement.next=elem.next;if(next){next.prev=replacement}var parent=replacement.parent=elem.parent;if(parent){var childs=parent.children;childs[childs.lastIndexOf(elem)]=replacement}};exports.appendChild=function(elem,child){child.parent=elem;if(elem.children.push(child)!==1){var sibling=elem.children[elem.children.length-2];sibling.next=child;child.prev=sibling;child.next=null}};exports.append=function(elem,next){var parent=elem.parent,currNext=elem.next;next.next=currNext;next.prev=elem;elem.next=next;next.parent=parent;if(currNext){currNext.prev=next;if(parent){var childs=parent.children;childs.splice(childs.lastIndexOf(currNext),0,next)}}else if(parent){parent.children.push(next)}};exports.prepend=function(elem,prev){var parent=elem.parent;if(parent){var childs=parent.children;childs.splice(childs.lastIndexOf(elem),0,prev)}if(elem.prev){elem.prev.next=prev}prev.parent=parent;prev.prev=elem.prev;prev.next=elem;elem.prev=prev}},3124:function(module,exports,__webpack_require__){var isTag=__webpack_require__(1754).isTag;module.exports={filter:filter,find:find,findOneChild:findOneChild,findOne:findOne,existsOne:existsOne,findAll:findAll};function filter(test,element,recurse,limit){if(!Array.isArray(element))element=[element];if(typeof limit!=="number"||!isFinite(limit)){limit=Infinity}return find(test,element,recurse!==false,limit)}function find(test,elems,recurse,limit){var result=[],childs;for(var i=0,j=elems.length;i<j;i++){if(test(elems[i])){result.push(elems[i]);if(--limit<=0)break}childs=elems[i].children;if(recurse&&childs&&childs.length>0){childs=find(test,childs,recurse,limit);result=result.concat(childs);limit-=childs.length;if(limit<=0)break}}return result}function findOneChild(test,elems){for(var i=0,l=elems.length;i<l;i++){if(test(elems[i]))return elems[i]}return null}function findOne(test,elems){var elem=null;for(var i=0,l=elems.length;i<l&&!elem;i++){if(!isTag(elems[i])){continue}else if(test(elems[i])){elem=elems[i]}else if(elems[i].children.length>0){elem=findOne(test,elems[i].children)}}return elem}function existsOne(test,elems){for(var i=0,l=elems.length;i<l;i++){if(isTag(elems[i])&&(test(elems[i])||elems[i].children.length>0&&existsOne(test,elems[i].children))){return true}}return false}function findAll(test,elems){var result=[];for(var i=0,j=elems.length;i<j;i++){if(!isTag(elems[i]))continue;if(test(elems[i]))result.push(elems[i]);if(elems[i].children.length>0){result=result.concat(findAll(test,elems[i].children))}}return result}},3125:function(module,exports,__webpack_require__){var ElementType=__webpack_require__(1754),getOuterHTML=__webpack_require__(3112),isTag=ElementType.isTag;module.exports={getInnerHTML:getInnerHTML,getOuterHTML:getOuterHTML,getText:getText};function getInnerHTML(elem,opts){return elem.children?elem.children.map(function(elem){return getOuterHTML(elem,opts)}).join(""):""}function getText(elem){if(Array.isArray(elem))return elem.map(getText).join("");if(isTag(elem)||elem.type===ElementType.CDATA)return getText(elem.children);if(elem.type===ElementType.Text)return elem.data;return""}},3126:function(module,exports){var getChildren=exports.getChildren=function(elem){return elem.children};var getParent=exports.getParent=function(elem){return elem.parent};exports.getSiblings=function(elem){var parent=getParent(elem);return parent?getChildren(parent):[elem]};exports.getAttributeValue=function(elem,name){return elem.attribs&&elem.attribs[name]};exports.hasAttrib=function(elem,name){return!!elem.attribs&&hasOwnProperty.call(elem.attribs,name)};exports.getName=function(elem){return elem.name}},3127:function(module,exports,__webpack_require__){var decodeMap=__webpack_require__(3157);module.exports=decodeCodePoint;function decodeCodePoint(codePoint){if(codePoint>=55296&&codePoint<=57343||codePoint>1114111){return"�"}if(codePoint in decodeMap){codePoint=decodeMap[codePoint]}var output="";if(codePoint>65535){codePoint-=65536;output+=String.fromCharCode(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}output+=String.fromCharCode(codePoint);return output}},3142:function(module,exports,__webpack_require__){module.exports=CollectingHandler;function CollectingHandler(cbs){this._cbs=cbs||{};this.events=[]}var EVENTS=__webpack_require__(1758).EVENTS;Object.keys(EVENTS).forEach(function(name){if(EVENTS[name]===0){name="on"+name;CollectingHandler.prototype[name]=function(){this.events.push([name]);if(this._cbs[name])this._cbs[name]()}}else if(EVENTS[name]===1){name="on"+name;CollectingHandler.prototype[name]=function(a){this.events.push([name,a]);if(this._cbs[name])this._cbs[name](a)}}else if(EVENTS[name]===2){name="on"+name;CollectingHandler.prototype[name]=function(a,b){this.events.push([name,a,b]);if(this._cbs[name])this._cbs[name](a,b)}}else{throw Error("wrong number of arguments")}});CollectingHandler.prototype.onreset=function(){this.events=[];if(this._cbs.onreset)this._cbs.onreset()};CollectingHandler.prototype.restart=function(){if(this._cbs.onreset)this._cbs.onreset();for(var i=0,len=this.events.length;i<len;i++){if(this._cbs[this.events[i][0]]){var num=this.events[i].length;if(num===1){this._cbs[this.events[i][0]]()}else if(num===2){this._cbs[this.events[i][0]](this.events[i][1])}else{this._cbs[this.events[i][0]](this.events[i][1],this.events[i][2])}}}}},3143:function(module,exports,__webpack_require__){var index=__webpack_require__(1758),DomHandler=index.DomHandler,DomUtils=index.DomUtils;function FeedHandler(callback,options){this.init(callback,options)}__webpack_require__(202).inherits(FeedHandler,DomHandler);FeedHandler.prototype.init=DomHandler;function getElements(what,where){return DomUtils.getElementsByTagName(what,where,true)}function getOneElement(what,where){return DomUtils.getElementsByTagName(what,where,true,1)[0]}function fetch(what,where,recurse){return DomUtils.getText(DomUtils.getElementsByTagName(what,where,recurse,1)).trim()}function addConditionally(obj,prop,what,where,recurse){var tmp=fetch(what,where,recurse);if(tmp)obj[prop]=tmp}var isValidFeed=function(value){return value==="rss"||value==="feed"||value==="rdf:RDF"};FeedHandler.prototype.onend=function(){var feed={},feedRoot=getOneElement(isValidFeed,this.dom),tmp,childs;if(feedRoot){if(feedRoot.name==="feed"){childs=feedRoot.children;feed.type="atom";addConditionally(feed,"id","id",childs);addConditionally(feed,"title","title",childs);if((tmp=getOneElement("link",childs))&&(tmp=tmp.attribs)&&(tmp=tmp.href))feed.link=tmp;addConditionally(feed,"description","subtitle",childs);if(tmp=fetch("updated",childs))feed.updated=new Date(tmp);addConditionally(feed,"author","email",childs,true);feed.items=getElements("entry",childs).map(function(item){var entry={},tmp;item=item.children;addConditionally(entry,"id","id",item);addConditionally(entry,"title","title",item);if((tmp=getOneElement("link",item))&&(tmp=tmp.attribs)&&(tmp=tmp.href))entry.link=tmp;if(tmp=fetch("summary",item)||fetch("content",item))entry.description=tmp;if(tmp=fetch("updated",item))entry.pubDate=new Date(tmp);return entry})}else{childs=getOneElement("channel",feedRoot.children).children;feed.type=feedRoot.name.substr(0,3);feed.id="";addConditionally(feed,"title","title",childs);addConditionally(feed,"link","link",childs);addConditionally(feed,"description","description",childs);if(tmp=fetch("lastBuildDate",childs))feed.updated=new Date(tmp);addConditionally(feed,"author","managingEditor",childs,true);feed.items=getElements("item",feedRoot.children).map(function(item){var entry={},tmp;item=item.children;addConditionally(entry,"id","guid",item);addConditionally(entry,"title","title",item);addConditionally(entry,"link","link",item);addConditionally(entry,"description","description",item);if(tmp=fetch("pubDate",item))entry.pubDate=new Date(tmp);return entry})}}this.dom=feed;DomHandler.prototype._handleCallback.call(this,feedRoot?null:Error("couldn't find root of feed"))};module.exports=FeedHandler},3144:function(module,exports,__webpack_require__){module.exports=ProxyHandler;function ProxyHandler(cbs){this._cbs=cbs||{}}var EVENTS=__webpack_require__(1758).EVENTS;Object.keys(EVENTS).forEach(function(name){if(EVENTS[name]===0){name="on"+name;ProxyHandler.prototype[name]=function(){if(this._cbs[name])this._cbs[name]()}}else if(EVENTS[name]===1){name="on"+name;ProxyHandler.prototype[name]=function(a){if(this._cbs[name])this._cbs[name](a)}}else if(EVENTS[name]===2){name="on"+name;ProxyHandler.prototype[name]=function(a,b){if(this._cbs[name])this._cbs[name](a,b)}}else{throw Error("wrong number of arguments")}})},3145:function(module,exports,__webpack_require__){module.exports=Stream;var Parser=__webpack_require__(2236);function Stream(options){Parser.call(this,new Cbs(this),options)}__webpack_require__(202).inherits(Stream,Parser);Stream.prototype.readable=true;function Cbs(scope){this.scope=scope}var EVENTS=__webpack_require__(1758).EVENTS;Object.keys(EVENTS).forEach(function(name){if(EVENTS[name]===0){Cbs.prototype["on"+name]=function(){this.scope.emit(name)}}else if(EVENTS[name]===1){Cbs.prototype["on"+name]=function(a){this.scope.emit(name,a)}}else if(EVENTS[name]===2){Cbs.prototype["on"+name]=function(a,b){this.scope.emit(name,a,b)}}else{throw Error("wrong number of arguments!")}})},3155:function(module,exports){module.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},3156:function(module,exports){module.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},3157:function(module,exports){module.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},3158:function(module,exports){module.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",
NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},3159:function(module,exports){module.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},3160:function(module,exports){module.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},3162:function(module,exports,__webpack_require__){var get=__webpack_require__(30);function baseAt(object,paths){var index=-1,isNil=object==null,length=paths.length,result=Array(length);while(++index<length){result[index]=isNil?undefined:get(object,paths[index])}return result}module.exports=baseAt},3192:function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(87),baseAt=__webpack_require__(3162),baseFlatten=__webpack_require__(74),basePullAt=__webpack_require__(2017),compareAscending=__webpack_require__(781),rest=__webpack_require__(47);var pullAt=rest(function(array,indexes){indexes=arrayMap(baseFlatten(indexes,1),String);var result=baseAt(array,indexes);basePullAt(array,indexes.sort(compareAscending));return result});module.exports=pullAt},3224:function(module,exports){module.exports=function(string){return string.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}},3225:function(module,exports,__webpack_require__){var htmlparser=__webpack_require__(1758);var extend=__webpack_require__(3227);var quoteRegexp=__webpack_require__(3224);function each(obj,cb){if(obj)Object.keys(obj).forEach(function(key){cb(obj[key],key)})}module.exports=sanitizeHtml;function sanitizeHtml(html,options,_recursing){var result="";function Frame(tag,attribs){var that=this;this.tag=tag;this.attribs=attribs||{};this.tagPosition=result.length;this.text="";this.updateParentNodeText=function(){if(stack.length){var parentFrame=stack[stack.length-1];parentFrame.text+=that.text}}}if(!options){options=sanitizeHtml.defaults;options.parser=htmlParserDefaults}else{options=extend(sanitizeHtml.defaults,options);if(options.parser){options.parser=extend(htmlParserDefaults,options.parser)}else{options.parser=htmlParserDefaults}}var nonTextTagsArray=options.nonTextTags||["script","style","textarea"];var allowedAttributesMap;var allowedAttributesGlobMap;if(options.allowedAttributes){allowedAttributesMap={};allowedAttributesGlobMap={};each(options.allowedAttributes,function(attributes,tag){allowedAttributesMap[tag]=[];var globRegex=[];attributes.forEach(function(name){if(name.indexOf("*")>=0){globRegex.push(quoteRegexp(name).replace(/\\\*/g,".*"))}else{allowedAttributesMap[tag].push(name)}});allowedAttributesGlobMap[tag]=new RegExp("^("+globRegex.join("|")+")$")})}var allowedClassesMap={};each(options.allowedClasses,function(classes,tag){if(allowedAttributesMap){if(!allowedAttributesMap[tag]){allowedAttributesMap[tag]=[]}allowedAttributesMap[tag].push("class")}allowedClassesMap[tag]=classes});var transformTagsMap={};var transformTagsAll;each(options.transformTags,function(transform,tag){var transFun;if(typeof transform==="function"){transFun=transform}else if(typeof transform==="string"){transFun=sanitizeHtml.simpleTransform(transform)}if(tag==="*"){transformTagsAll=transFun}else{transformTagsMap[tag]=transFun}});var depth=0;var stack=[];var skipMap={};var transformMap={};var skipText=false;var skipTextDepth=0;var parser=new htmlparser.Parser({onopentag:function(name,attribs){if(skipText){skipTextDepth++;return}var frame=new Frame(name,attribs);stack.push(frame);var skip=false;var transformedTag;if(transformTagsMap[name]){transformedTag=transformTagsMap[name](name,attribs);frame.attribs=attribs=transformedTag.attribs;if(transformedTag.text!==undefined){frame.innerText=transformedTag.text}if(name!==transformedTag.tagName){frame.name=name=transformedTag.tagName;transformMap[depth]=transformedTag.tagName}}if(transformTagsAll){transformedTag=transformTagsAll(name,attribs);frame.attribs=attribs=transformedTag.attribs;if(name!==transformedTag.tagName){frame.name=name=transformedTag.tagName;transformMap[depth]=transformedTag.tagName}}if(options.allowedTags&&options.allowedTags.indexOf(name)===-1){skip=true;if(nonTextTagsArray.indexOf(name)!==-1){skipText=true;skipTextDepth=1}skipMap[depth]=true}depth++;if(skip){return}result+="<"+name;if(!allowedAttributesMap||allowedAttributesMap[name]||allowedAttributesMap["*"]){each(attribs,function(value,a){if(!allowedAttributesMap||allowedAttributesMap[name]&&allowedAttributesMap[name].indexOf(a)!==-1||allowedAttributesMap["*"]&&allowedAttributesMap["*"].indexOf(a)!==-1||allowedAttributesGlobMap[name]&&allowedAttributesGlobMap[name].test(a)||allowedAttributesGlobMap["*"]&&allowedAttributesGlobMap["*"].test(a)){if(a==="href"||a==="src"){if(naughtyHref(name,value)){delete frame.attribs[a];return}}if(a==="class"){value=filterClasses(value,allowedClassesMap[name]);if(!value.length){delete frame.attribs[a];return}}result+=" "+a;if(value.length){result+='="'+escapeHtml(value)+'"'}}else{delete frame.attribs[a]}})}if(options.selfClosing.indexOf(name)!==-1){result+=" />"}else{result+=">"}},ontext:function(text){if(skipText){return}var lastFrame=stack[stack.length-1];var tag;if(lastFrame){tag=lastFrame.tag;text=lastFrame.innerText!==undefined?lastFrame.innerText:text}if(nonTextTagsArray.indexOf(tag)!==-1){result+=text}else{var escaped=escapeHtml(text);if(options.textFilter){result+=options.textFilter(escaped)}else{result+=escaped}}if(stack.length){var frame=stack[stack.length-1];frame.text+=text}},onclosetag:function(name){if(skipText){skipTextDepth--;if(!skipTextDepth){skipText=false}else{return}}var frame=stack.pop();if(!frame){return}skipText=false;depth--;if(skipMap[depth]){delete skipMap[depth];frame.updateParentNodeText();return}if(transformMap[depth]){name=transformMap[depth];delete transformMap[depth]}if(options.exclusiveFilter&&options.exclusiveFilter(frame)){result=result.substr(0,frame.tagPosition);return}frame.updateParentNodeText();if(options.selfClosing.indexOf(name)!==-1){return}result+="</"+name+">"}},options.parser);parser.write(html);parser.end();return result;function escapeHtml(s){if(typeof s!=="string"){s=s+""}return s.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function naughtyHref(name,href){href=href.replace(/[\x00-\x20]+/g,"");href=href.replace(/<\!\-\-.*?\-\-\>/g,"");var matches=href.match(/^([a-zA-Z]+)\:/);if(!matches){return false}var scheme=matches[1].toLowerCase();if(options.allowedSchemesByTag[name]){return options.allowedSchemesByTag[name].indexOf(scheme)===-1}return!options.allowedSchemes||options.allowedSchemes.indexOf(scheme)===-1}function filterClasses(classes,allowed){if(!allowed){return classes}classes=classes.split(/\s+/);return classes.filter(function(clss){return allowed.indexOf(clss)!==-1}).join(" ")}}var htmlParserDefaults={decodeEntities:true};sanitizeHtml.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{}};sanitizeHtml.simpleTransform=function(newTagName,newAttribs,merge){merge=merge===undefined?true:merge;newAttribs=newAttribs||{};return function(tagName,attribs){var attrib;if(merge){for(attrib in newAttribs){attribs[attrib]=newAttribs[attrib]}}else{attribs=newAttribs}return{tagName:newTagName,attribs:attribs}}}},3227:function(module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},3228:function(module,exports){}});